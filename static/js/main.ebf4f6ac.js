/*! For license information please see main.ebf4f6ac.js.LICENSE.txt */
(()=>{var e={6785:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(7053);function n(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}function s(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}function o(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function a(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function c(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function l(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function u(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}function h(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}function d(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),u(e/4294967296>>>0,t,r),u(e>>>0,t,r+4),t}function f(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),h(e>>>0,t,r),h(e/4294967296>>>0,t,r+4),t}t.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},t.writeUint16BE=n,t.writeInt16BE=n,t.writeUint16LE=s,t.writeInt16LE=s,t.readInt32BE=o,t.readUint32BE=a,t.readInt32LE=c,t.readUint32LE=l,t.writeUint32BE=u,t.writeInt32BE=u,t.writeUint32LE=h,t.writeInt32LE=h,t.readInt64BE=function(e,t){void 0===t&&(t=0);var r=o(e,t),i=o(e,t+4);return 4294967296*r+i-4294967296*(i>>31)},t.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*a(e,t)+a(e,t+4)},t.readInt64LE=function(e,t){void 0===t&&(t=0);var r=c(e,t);return 4294967296*c(e,t+4)+r-4294967296*(r>>31)},t.readUint64LE=function(e,t){void 0===t&&(t=0);var r=l(e,t);return 4294967296*l(e,t+4)+r},t.writeUint64BE=d,t.writeInt64BE=d,t.writeUint64LE=f,t.writeInt64LE=f,t.readUintBE=function(e,t,r){if(void 0===r&&(r=0),e%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var i=0,n=1,s=e/8+r-1;s>=r;s--)i+=t[s]*n,n*=256;return i},t.readUintLE=function(e,t,r){if(void 0===r&&(r=0),e%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var i=0,n=1,s=r;s<r+e/8;s++)i+=t[s]*n,n*=256;return i},t.writeUintBE=function(e,t,r,n){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===n&&(n=0),e%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!i.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var s=1,o=e/8+n-1;o>=n;o--)r[o]=t/s&255,s*=256;return r},t.writeUintLE=function(e,t,r,n){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===n&&(n=0),e%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!i.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var s=1,o=n;o<n+e/8;o++)r[o]=t/s&255,s*=256;return r},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e),t},t.writeFloat32LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e,!0),t},t.writeFloat64BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e),t},t.writeFloat64LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e,!0),t}},8953:(e,t,r)=>{"use strict";var i=r(4491),n=r(6657),s=r(6537),o=r(6785),a=r(825);t.J4=32,t.PX=12,t.iW=16;var c=new Uint8Array(16),l=function(){function e(e){if(this.nonceLength=t.PX,this.tagLength=t.iW,e.length!==t.J4)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return e.prototype.seal=function(e,t,r,n){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var o=new Uint8Array(16);o.set(e,o.length-e.length);var a=new Uint8Array(32);i.stream(this._key,o,a,4);var c,l=t.length+this.tagLength;if(n){if(n.length!==l)throw new Error("ChaCha20Poly1305: incorrect destination length");c=n}else c=new Uint8Array(l);return i.streamXOR(this._key,o,t,c,4),this._authenticate(c.subarray(c.length-this.tagLength,c.length),a,c.subarray(0,c.length-this.tagLength),r),s.wipe(o),c},e.prototype.open=function(e,t,r,n){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var o=new Uint8Array(16);o.set(e,o.length-e.length);var c=new Uint8Array(32);i.stream(this._key,o,c,4);var l=new Uint8Array(this.tagLength);if(this._authenticate(l,c,t.subarray(0,t.length-this.tagLength),r),!a.equal(l,t.subarray(t.length-this.tagLength,t.length)))return null;var u,h=t.length-this.tagLength;if(n){if(n.length!==h)throw new Error("ChaCha20Poly1305: incorrect destination length");u=n}else u=new Uint8Array(h);return i.streamXOR(this._key,o,t.subarray(0,t.length-this.tagLength),u,4),s.wipe(o),u},e.prototype.clean=function(){return s.wipe(this._key),this},e.prototype._authenticate=function(e,t,r,i){var a=new n.Poly1305(t);i&&(a.update(i),i.length%16>0&&a.update(c.subarray(i.length%16))),a.update(r),r.length%16>0&&a.update(c.subarray(r.length%16));var l=new Uint8Array(8);i&&o.writeUint64LE(i.length,l),a.update(l),o.writeUint64LE(r.length,l),a.update(l);for(var u=a.digest(),h=0;h<u.length;h++)e[h]=u[h];a.clean(),s.wipe(u),s.wipe(l)},e}();t.g6=l},4491:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(6785),n=r(6537);function s(e,t,r){for(var n=1634760805,s=857760878,o=2036477234,a=1797285236,c=r[3]<<24|r[2]<<16|r[1]<<8|r[0],l=r[7]<<24|r[6]<<16|r[5]<<8|r[4],u=r[11]<<24|r[10]<<16|r[9]<<8|r[8],h=r[15]<<24|r[14]<<16|r[13]<<8|r[12],d=r[19]<<24|r[18]<<16|r[17]<<8|r[16],f=r[23]<<24|r[22]<<16|r[21]<<8|r[20],p=r[27]<<24|r[26]<<16|r[25]<<8|r[24],g=r[31]<<24|r[30]<<16|r[29]<<8|r[28],b=t[3]<<24|t[2]<<16|t[1]<<8|t[0],m=t[7]<<24|t[6]<<16|t[5]<<8|t[4],y=t[11]<<24|t[10]<<16|t[9]<<8|t[8],v=t[15]<<24|t[14]<<16|t[13]<<8|t[12],w=n,S=s,E=o,_=a,M=c,I=l,x=u,A=h,P=d,k=f,O=p,N=g,R=b,T=m,C=y,L=v,z=0;z<20;z+=2)M=(M^=P=P+(R=(R^=w=w+M|0)>>>16|R<<16)|0)>>>20|M<<12,I=(I^=k=k+(T=(T^=S=S+I|0)>>>16|T<<16)|0)>>>20|I<<12,x=(x^=O=O+(C=(C^=E=E+x|0)>>>16|C<<16)|0)>>>20|x<<12,A=(A^=N=N+(L=(L^=_=_+A|0)>>>16|L<<16)|0)>>>20|A<<12,x=(x^=O=O+(C=(C^=E=E+x|0)>>>24|C<<8)|0)>>>25|x<<7,A=(A^=N=N+(L=(L^=_=_+A|0)>>>24|L<<8)|0)>>>25|A<<7,I=(I^=k=k+(T=(T^=S=S+I|0)>>>24|T<<8)|0)>>>25|I<<7,M=(M^=P=P+(R=(R^=w=w+M|0)>>>24|R<<8)|0)>>>25|M<<7,I=(I^=O=O+(L=(L^=w=w+I|0)>>>16|L<<16)|0)>>>20|I<<12,x=(x^=N=N+(R=(R^=S=S+x|0)>>>16|R<<16)|0)>>>20|x<<12,A=(A^=P=P+(T=(T^=E=E+A|0)>>>16|T<<16)|0)>>>20|A<<12,M=(M^=k=k+(C=(C^=_=_+M|0)>>>16|C<<16)|0)>>>20|M<<12,A=(A^=P=P+(T=(T^=E=E+A|0)>>>24|T<<8)|0)>>>25|A<<7,M=(M^=k=k+(C=(C^=_=_+M|0)>>>24|C<<8)|0)>>>25|M<<7,x=(x^=N=N+(R=(R^=S=S+x|0)>>>24|R<<8)|0)>>>25|x<<7,I=(I^=O=O+(L=(L^=w=w+I|0)>>>24|L<<8)|0)>>>25|I<<7;i.writeUint32LE(w+n|0,e,0),i.writeUint32LE(S+s|0,e,4),i.writeUint32LE(E+o|0,e,8),i.writeUint32LE(_+a|0,e,12),i.writeUint32LE(M+c|0,e,16),i.writeUint32LE(I+l|0,e,20),i.writeUint32LE(x+u|0,e,24),i.writeUint32LE(A+h|0,e,28),i.writeUint32LE(P+d|0,e,32),i.writeUint32LE(k+f|0,e,36),i.writeUint32LE(O+p|0,e,40),i.writeUint32LE(N+g|0,e,44),i.writeUint32LE(R+b|0,e,48),i.writeUint32LE(T+m|0,e,52),i.writeUint32LE(C+y|0,e,56),i.writeUint32LE(L+v|0,e,60)}function o(e,t,r,i,o){if(void 0===o&&(o=0),32!==e.length)throw new Error("ChaCha: key size must be 32 bytes");if(i.length<r.length)throw new Error("ChaCha: destination is shorter than source");var c,l;if(0===o){if(8!==t.length&&12!==t.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");l=(c=new Uint8Array(16)).length-t.length,c.set(t,l)}else{if(16!==t.length)throw new Error("ChaCha nonce with counter must be 16 bytes");c=t,l=o}for(var u=new Uint8Array(64),h=0;h<r.length;h+=64){s(u,c,e);for(var d=h;d<h+64&&d<r.length;d++)i[d]=r[d]^u[d-h];a(c,0,l)}return n.wipe(u),0===o&&n.wipe(c),i}function a(e,t,r){for(var i=1;r--;)i=i+(255&e[t])|0,e[t]=255&i,i>>>=8,t++;if(i>0)throw new Error("ChaCha: counter overflow")}t.streamXOR=o,t.stream=function(e,t,r,i){return void 0===i&&(i=0),n.wipe(r),o(e,t,r,r,i)}},825:(e,t)=>{"use strict";function r(e,t){if(e.length!==t.length)return 0;for(var r=0,i=0;i<e.length;i++)r|=e[i]^t[i];return 1&r-1>>>8}Object.defineProperty(t,"__esModule",{value:!0}),t.select=function(e,t,r){return~(e-1)&t|e-1&r},t.lessOrEqual=function(e,t){return(0|e)-(0|t)-1>>>31&1},t.compare=r,t.equal=function(e,t){return 0!==e.length&&0!==t.length&&0!==r(e,t)}},3045:(e,t,r)=>{"use strict";t._S=t.K=t.TP=t.wE=t.Ee=void 0;const i=r(5473),n=r(251),s=r(6537);function o(e){const t=new Float64Array(16);if(e)for(let r=0;r<e.length;r++)t[r]=e[r];return t}t.Ee=64,t.wE=64,t.TP=32;new Uint8Array(32)[0]=9;const a=o(),c=o([1]),l=o([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=o([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=o([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=o([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=o([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t){for(let r=0;r<16;r++)e[r]=0|t[r]}function g(e){let t=1;for(let r=0;r<16;r++){let i=e[r]+t+65535;t=Math.floor(i/65536),e[r]=i-65536*t}e[0]+=t-1+37*(t-1)}function b(e,t,r){const i=~(r-1);for(let n=0;n<16;n++){const r=i&(e[n]^t[n]);e[n]^=r,t[n]^=r}}function m(e,t){const r=o(),i=o();for(let n=0;n<16;n++)i[n]=t[n];g(i),g(i),g(i);for(let n=0;n<2;n++){r[0]=i[0]-65517;for(let t=1;t<15;t++)r[t]=i[t]-65535-(r[t-1]>>16&1),r[t-1]&=65535;r[15]=i[15]-32767-(r[14]>>16&1);const e=r[15]>>16&1;r[14]&=65535,b(i,r,1-e)}for(let n=0;n<16;n++)e[2*n]=255&i[n],e[2*n+1]=i[n]>>8}function y(e,t){let r=0;for(let i=0;i<32;i++)r|=e[i]^t[i];return(1&r-1>>>8)-1}function v(e,t){const r=new Uint8Array(32),i=new Uint8Array(32);return m(r,e),m(i,t),y(r,i)}function w(e){const t=new Uint8Array(32);return m(t,e),1&t[0]}function S(e,t,r){for(let i=0;i<16;i++)e[i]=t[i]+r[i]}function E(e,t,r){for(let i=0;i<16;i++)e[i]=t[i]-r[i]}function _(e,t,r){let i,n,s=0,o=0,a=0,c=0,l=0,u=0,h=0,d=0,f=0,p=0,g=0,b=0,m=0,y=0,v=0,w=0,S=0,E=0,_=0,M=0,I=0,x=0,A=0,P=0,k=0,O=0,N=0,R=0,T=0,C=0,L=0,z=r[0],U=r[1],D=r[2],q=r[3],j=r[4],B=r[5],F=r[6],K=r[7],V=r[8],H=r[9],W=r[10],G=r[11],J=r[12],Y=r[13],Z=r[14],X=r[15];i=t[0],s+=i*z,o+=i*U,a+=i*D,c+=i*q,l+=i*j,u+=i*B,h+=i*F,d+=i*K,f+=i*V,p+=i*H,g+=i*W,b+=i*G,m+=i*J,y+=i*Y,v+=i*Z,w+=i*X,i=t[1],o+=i*z,a+=i*U,c+=i*D,l+=i*q,u+=i*j,h+=i*B,d+=i*F,f+=i*K,p+=i*V,g+=i*H,b+=i*W,m+=i*G,y+=i*J,v+=i*Y,w+=i*Z,S+=i*X,i=t[2],a+=i*z,c+=i*U,l+=i*D,u+=i*q,h+=i*j,d+=i*B,f+=i*F,p+=i*K,g+=i*V,b+=i*H,m+=i*W,y+=i*G,v+=i*J,w+=i*Y,S+=i*Z,E+=i*X,i=t[3],c+=i*z,l+=i*U,u+=i*D,h+=i*q,d+=i*j,f+=i*B,p+=i*F,g+=i*K,b+=i*V,m+=i*H,y+=i*W,v+=i*G,w+=i*J,S+=i*Y,E+=i*Z,_+=i*X,i=t[4],l+=i*z,u+=i*U,h+=i*D,d+=i*q,f+=i*j,p+=i*B,g+=i*F,b+=i*K,m+=i*V,y+=i*H,v+=i*W,w+=i*G,S+=i*J,E+=i*Y,_+=i*Z,M+=i*X,i=t[5],u+=i*z,h+=i*U,d+=i*D,f+=i*q,p+=i*j,g+=i*B,b+=i*F,m+=i*K,y+=i*V,v+=i*H,w+=i*W,S+=i*G,E+=i*J,_+=i*Y,M+=i*Z,I+=i*X,i=t[6],h+=i*z,d+=i*U,f+=i*D,p+=i*q,g+=i*j,b+=i*B,m+=i*F,y+=i*K,v+=i*V,w+=i*H,S+=i*W,E+=i*G,_+=i*J,M+=i*Y,I+=i*Z,x+=i*X,i=t[7],d+=i*z,f+=i*U,p+=i*D,g+=i*q,b+=i*j,m+=i*B,y+=i*F,v+=i*K,w+=i*V,S+=i*H,E+=i*W,_+=i*G,M+=i*J,I+=i*Y,x+=i*Z,A+=i*X,i=t[8],f+=i*z,p+=i*U,g+=i*D,b+=i*q,m+=i*j,y+=i*B,v+=i*F,w+=i*K,S+=i*V,E+=i*H,_+=i*W,M+=i*G,I+=i*J,x+=i*Y,A+=i*Z,P+=i*X,i=t[9],p+=i*z,g+=i*U,b+=i*D,m+=i*q,y+=i*j,v+=i*B,w+=i*F,S+=i*K,E+=i*V,_+=i*H,M+=i*W,I+=i*G,x+=i*J,A+=i*Y,P+=i*Z,k+=i*X,i=t[10],g+=i*z,b+=i*U,m+=i*D,y+=i*q,v+=i*j,w+=i*B,S+=i*F,E+=i*K,_+=i*V,M+=i*H,I+=i*W,x+=i*G,A+=i*J,P+=i*Y,k+=i*Z,O+=i*X,i=t[11],b+=i*z,m+=i*U,y+=i*D,v+=i*q,w+=i*j,S+=i*B,E+=i*F,_+=i*K,M+=i*V,I+=i*H,x+=i*W,A+=i*G,P+=i*J,k+=i*Y,O+=i*Z,N+=i*X,i=t[12],m+=i*z,y+=i*U,v+=i*D,w+=i*q,S+=i*j,E+=i*B,_+=i*F,M+=i*K,I+=i*V,x+=i*H,A+=i*W,P+=i*G,k+=i*J,O+=i*Y,N+=i*Z,R+=i*X,i=t[13],y+=i*z,v+=i*U,w+=i*D,S+=i*q,E+=i*j,_+=i*B,M+=i*F,I+=i*K,x+=i*V,A+=i*H,P+=i*W,k+=i*G,O+=i*J,N+=i*Y,R+=i*Z,T+=i*X,i=t[14],v+=i*z,w+=i*U,S+=i*D,E+=i*q,_+=i*j,M+=i*B,I+=i*F,x+=i*K,A+=i*V,P+=i*H,k+=i*W,O+=i*G,N+=i*J,R+=i*Y,T+=i*Z,C+=i*X,i=t[15],w+=i*z,S+=i*U,E+=i*D,_+=i*q,M+=i*j,I+=i*B,x+=i*F,A+=i*K,P+=i*V,k+=i*H,O+=i*W,N+=i*G,R+=i*J,T+=i*Y,C+=i*Z,L+=i*X,s+=38*S,o+=38*E,a+=38*_,c+=38*M,l+=38*I,u+=38*x,h+=38*A,d+=38*P,f+=38*k,p+=38*O,g+=38*N,b+=38*R,m+=38*T,y+=38*C,v+=38*L,n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-65536*n,i=o+n+65535,n=Math.floor(i/65536),o=i-65536*n,i=a+n+65535,n=Math.floor(i/65536),a=i-65536*n,i=c+n+65535,n=Math.floor(i/65536),c=i-65536*n,i=l+n+65535,n=Math.floor(i/65536),l=i-65536*n,i=u+n+65535,n=Math.floor(i/65536),u=i-65536*n,i=h+n+65535,n=Math.floor(i/65536),h=i-65536*n,i=d+n+65535,n=Math.floor(i/65536),d=i-65536*n,i=f+n+65535,n=Math.floor(i/65536),f=i-65536*n,i=p+n+65535,n=Math.floor(i/65536),p=i-65536*n,i=g+n+65535,n=Math.floor(i/65536),g=i-65536*n,i=b+n+65535,n=Math.floor(i/65536),b=i-65536*n,i=m+n+65535,n=Math.floor(i/65536),m=i-65536*n,i=y+n+65535,n=Math.floor(i/65536),y=i-65536*n,i=v+n+65535,n=Math.floor(i/65536),v=i-65536*n,i=w+n+65535,n=Math.floor(i/65536),w=i-65536*n,s+=n-1+37*(n-1),n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-65536*n,i=o+n+65535,n=Math.floor(i/65536),o=i-65536*n,i=a+n+65535,n=Math.floor(i/65536),a=i-65536*n,i=c+n+65535,n=Math.floor(i/65536),c=i-65536*n,i=l+n+65535,n=Math.floor(i/65536),l=i-65536*n,i=u+n+65535,n=Math.floor(i/65536),u=i-65536*n,i=h+n+65535,n=Math.floor(i/65536),h=i-65536*n,i=d+n+65535,n=Math.floor(i/65536),d=i-65536*n,i=f+n+65535,n=Math.floor(i/65536),f=i-65536*n,i=p+n+65535,n=Math.floor(i/65536),p=i-65536*n,i=g+n+65535,n=Math.floor(i/65536),g=i-65536*n,i=b+n+65535,n=Math.floor(i/65536),b=i-65536*n,i=m+n+65535,n=Math.floor(i/65536),m=i-65536*n,i=y+n+65535,n=Math.floor(i/65536),y=i-65536*n,i=v+n+65535,n=Math.floor(i/65536),v=i-65536*n,i=w+n+65535,n=Math.floor(i/65536),w=i-65536*n,s+=n-1+37*(n-1),e[0]=s,e[1]=o,e[2]=a,e[3]=c,e[4]=l,e[5]=u,e[6]=h,e[7]=d,e[8]=f,e[9]=p,e[10]=g,e[11]=b,e[12]=m,e[13]=y,e[14]=v,e[15]=w}function M(e,t){_(e,t,t)}function I(e,t){const r=o();let i;for(i=0;i<16;i++)r[i]=t[i];for(i=253;i>=0;i--)M(r,r),2!==i&&4!==i&&_(r,r,t);for(i=0;i<16;i++)e[i]=r[i]}function x(e,t){const r=o(),i=o(),n=o(),s=o(),a=o(),c=o(),l=o(),h=o(),d=o();E(r,e[1],e[0]),E(d,t[1],t[0]),_(r,r,d),S(i,e[0],e[1]),S(d,t[0],t[1]),_(i,i,d),_(n,e[3],t[3]),_(n,n,u),_(s,e[2],t[2]),S(s,s,s),E(a,i,r),E(c,s,n),S(l,s,n),S(h,i,r),_(e[0],a,c),_(e[1],h,l),_(e[2],l,c),_(e[3],a,h)}function A(e,t,r){for(let i=0;i<4;i++)b(e[i],t[i],r)}function P(e,t){const r=o(),i=o(),n=o();I(n,t[2]),_(r,t[0],n),_(i,t[1],n),m(e,i),e[31]^=w(r)<<7}function k(e,t,r){p(e[0],a),p(e[1],c),p(e[2],c),p(e[3],a);for(let i=255;i>=0;--i){const n=r[i/8|0]>>(7&i)&1;A(e,t,n),x(t,e),x(e,e),A(e,t,n)}}function O(e,t){const r=[o(),o(),o(),o()];p(r[0],h),p(r[1],d),p(r[2],c),_(r[3],h,d),k(e,r,t)}function N(e){if(e.length!==t.TP)throw new Error("ed25519: seed must be ".concat(t.TP," bytes"));const r=(0,n.hash)(e);r[0]&=248,r[31]&=127,r[31]|=64;const i=new Uint8Array(32),s=[o(),o(),o(),o()];O(s,r),P(i,s);const a=new Uint8Array(64);return a.set(e),a.set(i,32),{publicKey:i,secretKey:a}}t.K=N;const R=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function T(e,t){let r,i,n,s;for(i=63;i>=32;--i){for(r=0,n=i-32,s=i-12;n<s;++n)t[n]+=r-16*t[i]*R[n-(i-32)],r=Math.floor((t[n]+128)/256),t[n]-=256*r;t[n]+=r,t[i]=0}for(r=0,n=0;n<32;n++)t[n]+=r-(t[31]>>4)*R[n],r=t[n]>>8,t[n]&=255;for(n=0;n<32;n++)t[n]-=r*R[n];for(i=0;i<32;i++)t[i+1]+=t[i]>>8,e[i]=255&t[i]}function C(e){const t=new Float64Array(64);for(let r=0;r<64;r++)t[r]=e[r];for(let r=0;r<64;r++)e[r]=0;T(e,t)}function L(e,t){const r=o(),i=o(),n=o(),s=o(),u=o(),h=o(),d=o();return p(e[2],c),function(e,t){for(let r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(e[1],t),M(n,e[1]),_(s,n,l),E(n,n,e[2]),S(s,e[2],s),M(u,s),M(h,u),_(d,h,u),_(r,d,n),_(r,r,s),function(e,t){const r=o();let i;for(i=0;i<16;i++)r[i]=t[i];for(i=250;i>=0;i--)M(r,r),1!==i&&_(r,r,t);for(i=0;i<16;i++)e[i]=r[i]}(r,r),_(r,r,n),_(r,r,s),_(r,r,s),_(e[0],r,s),M(i,e[0]),_(i,i,s),v(i,n)&&_(e[0],e[0],f),M(i,e[0]),_(i,i,s),v(i,n)?-1:(w(e[0])===t[31]>>7&&E(e[0],a,e[0]),_(e[3],e[0],e[1]),0)}t._S=function(e,t){const r=new Float64Array(64),i=[o(),o(),o(),o()],s=(0,n.hash)(e.subarray(0,32));s[0]&=248,s[31]&=127,s[31]|=64;const a=new Uint8Array(64);a.set(s.subarray(32),32);const c=new n.SHA512;c.update(a.subarray(32)),c.update(t);const l=c.digest();c.clean(),C(l),O(i,l),P(a,i),c.reset(),c.update(a.subarray(0,32)),c.update(e.subarray(32)),c.update(t);const u=c.digest();C(u);for(let n=0;n<32;n++)r[n]=l[n];for(let n=0;n<32;n++)for(let e=0;e<32;e++)r[n+e]+=u[n]*s[e];return T(a.subarray(32),r),a}},8967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSerializableHash=function(e){return"undefined"!==typeof e.saveState&&"undefined"!==typeof e.restoreState&&"undefined"!==typeof e.cleanSavedState}},269:(e,t,r)=>{"use strict";var i=r(2553),n=r(6537),s=function(){function e(e,t,r,n){void 0===r&&(r=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=n;var s=i.hmac(this._hash,r,t);this._hmac=new i.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return e.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(0===e)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},e.prototype.expand=function(e){for(var t=new Uint8Array(e),r=0;r<t.length;r++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[r]=this._buffer[this._bufpos++];return t},e.prototype.clean=function(){this._hmac.clean(),n.wipe(this._buffer),n.wipe(this._counter),this._bufpos=0},e}();t.i=s},2553:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(8967),n=r(825),s=r(6537),o=function(){function e(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var r=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(r).clean():r.set(t);for(var n=0;n<r.length;n++)r[n]^=54;this._inner.update(r);for(n=0;n<r.length;n++)r[n]^=106;this._outer.update(r),i.isSerializableHash(this._inner)&&i.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),s.wipe(r)}return e.prototype.reset=function(){if(!i.isSerializableHash(this._inner)||!i.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.clean=function(){i.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),i.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},e.prototype.update=function(e){return this._inner.update(e),this},e.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(!i.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},e.prototype.restoreState=function(e){if(!i.isSerializableHash(this._inner)||!i.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.cleanSavedState=function(e){if(!i.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},e}();t.HMAC=o,t.hmac=function(e,t,r){var i=new o(e,t);i.update(r);var n=i.digest();return i.clean(),n},t.equal=n.equal},7053:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(e,t){var r=65535&e,i=65535&t;return r*i+((e>>>16&65535)*i+r*(t>>>16&65535)<<16>>>0)|0},t.add=function(e,t){return e+t|0},t.sub=function(e,t){return e-t|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},6657:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(825),n=r(6537);t.DIGEST_LENGTH=16;var s=function(){function e(e){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var r=e[0]|e[1]<<8;this._r[0]=8191&r;var i=e[2]|e[3]<<8;this._r[1]=8191&(r>>>13|i<<3);var n=e[4]|e[5]<<8;this._r[2]=7939&(i>>>10|n<<6);var s=e[6]|e[7]<<8;this._r[3]=8191&(n>>>7|s<<9);var o=e[8]|e[9]<<8;this._r[4]=255&(s>>>4|o<<12),this._r[5]=o>>>1&8190;var a=e[10]|e[11]<<8;this._r[6]=8191&(o>>>14|a<<2);var c=e[12]|e[13]<<8;this._r[7]=8065&(a>>>11|c<<5);var l=e[14]|e[15]<<8;this._r[8]=8191&(c>>>8|l<<8),this._r[9]=l>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return e.prototype._blocks=function(e,t,r){for(var i=this._fin?0:2048,n=this._h[0],s=this._h[1],o=this._h[2],a=this._h[3],c=this._h[4],l=this._h[5],u=this._h[6],h=this._h[7],d=this._h[8],f=this._h[9],p=this._r[0],g=this._r[1],b=this._r[2],m=this._r[3],y=this._r[4],v=this._r[5],w=this._r[6],S=this._r[7],E=this._r[8],_=this._r[9];r>=16;){var M=e[t+0]|e[t+1]<<8;n+=8191&M;var I=e[t+2]|e[t+3]<<8;s+=8191&(M>>>13|I<<3);var x=e[t+4]|e[t+5]<<8;o+=8191&(I>>>10|x<<6);var A=e[t+6]|e[t+7]<<8;a+=8191&(x>>>7|A<<9);var P=e[t+8]|e[t+9]<<8;c+=8191&(A>>>4|P<<12),l+=P>>>1&8191;var k=e[t+10]|e[t+11]<<8;u+=8191&(P>>>14|k<<2);var O=e[t+12]|e[t+13]<<8;h+=8191&(k>>>11|O<<5);var N=e[t+14]|e[t+15]<<8,R=0,T=R;T+=n*p,T+=s*(5*_),T+=o*(5*E),T+=a*(5*S),R=(T+=c*(5*w))>>>13,T&=8191,T+=l*(5*v),T+=u*(5*y),T+=h*(5*m),T+=(d+=8191&(O>>>8|N<<8))*(5*b);var C=R+=(T+=(f+=N>>>5|i)*(5*g))>>>13;C+=n*g,C+=s*p,C+=o*(5*_),C+=a*(5*E),R=(C+=c*(5*S))>>>13,C&=8191,C+=l*(5*w),C+=u*(5*v),C+=h*(5*y),C+=d*(5*m),R+=(C+=f*(5*b))>>>13,C&=8191;var L=R;L+=n*b,L+=s*g,L+=o*p,L+=a*(5*_),R=(L+=c*(5*E))>>>13,L&=8191,L+=l*(5*S),L+=u*(5*w),L+=h*(5*v),L+=d*(5*y);var z=R+=(L+=f*(5*m))>>>13;z+=n*m,z+=s*b,z+=o*g,z+=a*p,R=(z+=c*(5*_))>>>13,z&=8191,z+=l*(5*E),z+=u*(5*S),z+=h*(5*w),z+=d*(5*v);var U=R+=(z+=f*(5*y))>>>13;U+=n*y,U+=s*m,U+=o*b,U+=a*g,R=(U+=c*p)>>>13,U&=8191,U+=l*(5*_),U+=u*(5*E),U+=h*(5*S),U+=d*(5*w);var D=R+=(U+=f*(5*v))>>>13;D+=n*v,D+=s*y,D+=o*m,D+=a*b,R=(D+=c*g)>>>13,D&=8191,D+=l*p,D+=u*(5*_),D+=h*(5*E),D+=d*(5*S);var q=R+=(D+=f*(5*w))>>>13;q+=n*w,q+=s*v,q+=o*y,q+=a*m,R=(q+=c*b)>>>13,q&=8191,q+=l*g,q+=u*p,q+=h*(5*_),q+=d*(5*E);var j=R+=(q+=f*(5*S))>>>13;j+=n*S,j+=s*w,j+=o*v,j+=a*y,R=(j+=c*m)>>>13,j&=8191,j+=l*b,j+=u*g,j+=h*p,j+=d*(5*_);var B=R+=(j+=f*(5*E))>>>13;B+=n*E,B+=s*S,B+=o*w,B+=a*v,R=(B+=c*y)>>>13,B&=8191,B+=l*m,B+=u*b,B+=h*g,B+=d*p;var F=R+=(B+=f*(5*_))>>>13;F+=n*_,F+=s*E,F+=o*S,F+=a*w,R=(F+=c*v)>>>13,F&=8191,F+=l*y,F+=u*m,F+=h*b,F+=d*g,n=T=8191&(R=(R=((R+=(F+=f*p)>>>13)<<2)+R|0)+(T&=8191)|0),s=C+=R>>>=13,o=L&=8191,a=z&=8191,c=U&=8191,l=D&=8191,u=q&=8191,h=j&=8191,d=B&=8191,f=F&=8191,t+=16,r-=16}this._h[0]=n,this._h[1]=s,this._h[2]=o,this._h[3]=a,this._h[4]=c,this._h[5]=l,this._h[6]=u,this._h[7]=h,this._h[8]=d,this._h[9]=f},e.prototype.finish=function(e,t){void 0===t&&(t=0);var r,i,n,s,o=new Uint16Array(10);if(this._leftover){for(s=this._leftover,this._buffer[s++]=1;s<16;s++)this._buffer[s]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(r=this._h[1]>>>13,this._h[1]&=8191,s=2;s<10;s++)this._h[s]+=r,r=this._h[s]>>>13,this._h[s]&=8191;for(this._h[0]+=5*r,r=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=r,r=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=r,o[0]=this._h[0]+5,r=o[0]>>>13,o[0]&=8191,s=1;s<10;s++)o[s]=this._h[s]+r,r=o[s]>>>13,o[s]&=8191;for(o[9]-=8192,i=(1^r)-1,s=0;s<10;s++)o[s]&=i;for(i=~i,s=0;s<10;s++)this._h[s]=this._h[s]&i|o[s];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),n=this._h[0]+this._pad[0],this._h[0]=65535&n,s=1;s<8;s++)n=(this._h[s]+this._pad[s]|0)+(n>>>16)|0,this._h[s]=65535&n;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},e.prototype.update=function(e){var t,r=0,i=e.length;if(this._leftover){(t=16-this._leftover)>i&&(t=i);for(var n=0;n<t;n++)this._buffer[this._leftover+n]=e[r+n];if(i-=t,r+=t,this._leftover+=t,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(i>=16&&(t=i-i%16,this._blocks(e,r,t),r+=t,i-=t),i){for(n=0;n<i;n++)this._buffer[this._leftover+n]=e[r+n];this._leftover+=i}return this},e.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},e.prototype.clean=function(){return n.wipe(this._buffer),n.wipe(this._r),n.wipe(this._h),n.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},e}();t.Poly1305=s,t.oneTimeAuth=function(e,t){var r=new s(e);r.update(t);var i=r.digest();return r.clean(),i},t.equal=function(e,r){return e.length===t.DIGEST_LENGTH&&r.length===t.DIGEST_LENGTH&&i.equal(e,r)}},5473:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const i=r(15),n=r(6785),s=r(6537);function o(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.defaultRandomSource).randomBytes(e)}t.defaultRandomSource=new i.SystemRandomSource,t.randomBytes=o,t.randomUint32=function(){const e=o(4,arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.defaultRandomSource),r=(0,n.readUint32LE)(e);return(0,s.wipe)(e),r};const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function c(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.defaultRandomSource;if(r.length<2)throw new Error("randomString charset is too short");if(r.length>256)throw new Error("randomString charset is too long");let n="";const c=r.length,l=256-256%c;for(;e>0;){const t=o(Math.ceil(256*e/l),i);for(let i=0;i<t.length&&e>0;i++){const s=t[i];s<l&&(n+=r.charAt(s%c),e--)}(0,s.wipe)(t)}return n}t.randomString=c,t.randomStringForEntropy=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.defaultRandomSource;return c(Math.ceil(e/(Math.log(r.length)/Math.LN2)),r,i)}},4968:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserRandomSource=void 0;t.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e="undefined"!==typeof self?self.crypto||self.msCrypto:null;e&&void 0!==e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const t=new Uint8Array(e);for(let r=0;r<t.length;r+=65536)this._crypto.getRandomValues(t.subarray(r,r+Math.min(t.length-r,65536)));return t}}},5786:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeRandomSource=void 0;const i=r(6537);t.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const e=r(9432);e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const r=new Uint8Array(e);for(let i=0;i<r.length;i++)r[i]=t[i];return(0,i.wipe)(t),r}}},15:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemRandomSource=void 0;const i=r(4968),n=r(5786);t.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new i.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new n.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}},153:(e,t,r)=>{"use strict";var i=r(6785),n=r(6537);t.On=32,t.cS=64;var s=function(){function e(){this.digestLength=t.On,this.blockSize=t.cS,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){n.wipe(this._buffer),n.wipe(this._temp),this.reset()},e.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var r=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[r++],t--;this._bufferLength===this.blockSize&&(a(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(r=a(this._temp,this._state,e,r,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[r++],t--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,r=this._bufferLength,n=t/536870912|0,s=t<<3,o=t%64<56?64:128;this._buffer[r]=128;for(var c=r+1;c<o-8;c++)this._buffer[c]=0;i.writeUint32BE(n,this._buffer,o-8),i.writeUint32BE(s,this._buffer,o-4),a(this._temp,this._state,this._buffer,0,o),this._finished=!0}for(c=0;c<this.digestLength/4;c++)i.writeUint32BE(this._state[c],e,4*c);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){n.wipe(e.state),e.buffer&&n.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.aD=s;var o=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function a(e,t,r,n,s){for(;s>=64;){for(var a=t[0],c=t[1],l=t[2],u=t[3],h=t[4],d=t[5],f=t[6],p=t[7],g=0;g<16;g++){var b=n+4*g;e[g]=i.readUint32BE(r,b)}for(g=16;g<64;g++){var m=e[g-2],y=(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10,v=((m=e[g-15])>>>7|m<<25)^(m>>>18|m<<14)^m>>>3;e[g]=(y+e[g-7]|0)+(v+e[g-16]|0)}for(g=0;g<64;g++){y=(((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&d^~h&f)|0)+(p+(o[g]+e[g]|0)|0)|0,v=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&c^a&l^c&l)|0;p=f,f=d,d=h,h=u+y|0,u=l,l=c,c=a,a=y+v|0}t[0]+=a,t[1]+=c,t[2]+=l,t[3]+=u,t[4]+=h,t[5]+=d,t[6]+=f,t[7]+=p,n+=64,s-=64}return n}t.tW=function(e){var t=new s;t.update(e);var r=t.digest();return t.clean(),r}},251:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(6785),n=r(6537);t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var s=function(){function e(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){n.wipe(this._buffer),n.wipe(this._tempHi),n.wipe(this._tempLo),this.reset()},e.prototype.update=function(e,r){if(void 0===r&&(r=e.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var i=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&r>0;)this._buffer[this._bufferLength++]=e[i++],r--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(i=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,i,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=e[i++],r--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,r=this._bufferLength,n=t/536870912|0,s=t<<3,o=t%128<112?128:256;this._buffer[r]=128;for(var c=r+1;c<o-8;c++)this._buffer[c]=0;i.writeUint32BE(n,this._buffer,o-8),i.writeUint32BE(s,this._buffer,o-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,o),this._finished=!0}for(c=0;c<this.digestLength/8;c++)i.writeUint32BE(this._stateHi[c],e,8*c),i.writeUint32BE(this._stateLo[c],e,8*c+4);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){n.wipe(e.stateHi),n.wipe(e.stateLo),e.buffer&&n.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.SHA512=s;var o=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a(e,t,r,n,s,a,c){for(var l,u,h,d,f,p,g,b,m=r[0],y=r[1],v=r[2],w=r[3],S=r[4],E=r[5],_=r[6],M=r[7],I=n[0],x=n[1],A=n[2],P=n[3],k=n[4],O=n[5],N=n[6],R=n[7];c>=128;){for(var T=0;T<16;T++){var C=8*T+a;e[T]=i.readUint32BE(s,C),t[T]=i.readUint32BE(s,C+4)}for(T=0;T<80;T++){var L,z,U=m,D=y,q=v,j=w,B=S,F=E,K=_,V=I,H=x,W=A,G=P,J=k,Y=O,Z=N;if(f=65535&(u=R),p=u>>>16,g=65535&(l=M),b=l>>>16,f+=65535&(u=(k>>>14|S<<18)^(k>>>18|S<<14)^(S>>>9|k<<23)),p+=u>>>16,g+=65535&(l=(S>>>14|k<<18)^(S>>>18|k<<14)^(k>>>9|S<<23)),b+=l>>>16,f+=65535&(u=k&O^~k&N),p+=u>>>16,g+=65535&(l=S&E^~S&_),b+=l>>>16,l=o[2*T],f+=65535&(u=o[2*T+1]),p+=u>>>16,g+=65535&l,b+=l>>>16,l=e[T%16],p+=(u=t[T%16])>>>16,g+=65535&l,b+=l>>>16,g+=(p+=(f+=65535&u)>>>16)>>>16,f=65535&(u=d=65535&f|p<<16),p=u>>>16,g=65535&(l=h=65535&g|(b+=g>>>16)<<16),b=l>>>16,f+=65535&(u=(I>>>28|m<<4)^(m>>>2|I<<30)^(m>>>7|I<<25)),p+=u>>>16,g+=65535&(l=(m>>>28|I<<4)^(I>>>2|m<<30)^(I>>>7|m<<25)),b+=l>>>16,p+=(u=I&x^I&A^x&A)>>>16,g+=65535&(l=m&y^m&v^y&v),b+=l>>>16,L=65535&(g+=(p+=(f+=65535&u)>>>16)>>>16)|(b+=g>>>16)<<16,z=65535&f|p<<16,f=65535&(u=G),p=u>>>16,g=65535&(l=j),b=l>>>16,p+=(u=d)>>>16,g+=65535&(l=h),b+=l>>>16,y=U,v=D,w=q,S=j=65535&(g+=(p+=(f+=65535&u)>>>16)>>>16)|(b+=g>>>16)<<16,E=B,_=F,M=K,m=L,x=V,A=H,P=W,k=G=65535&f|p<<16,O=J,N=Y,R=Z,I=z,T%16===15)for(C=0;C<16;C++)l=e[C],f=65535&(u=t[C]),p=u>>>16,g=65535&l,b=l>>>16,l=e[(C+9)%16],f+=65535&(u=t[(C+9)%16]),p+=u>>>16,g+=65535&l,b+=l>>>16,h=e[(C+1)%16],f+=65535&(u=((d=t[(C+1)%16])>>>1|h<<31)^(d>>>8|h<<24)^(d>>>7|h<<25)),p+=u>>>16,g+=65535&(l=(h>>>1|d<<31)^(h>>>8|d<<24)^h>>>7),b+=l>>>16,h=e[(C+14)%16],p+=(u=((d=t[(C+14)%16])>>>19|h<<13)^(h>>>29|d<<3)^(d>>>6|h<<26))>>>16,g+=65535&(l=(h>>>19|d<<13)^(d>>>29|h<<3)^h>>>6),b+=l>>>16,b+=(g+=(p+=(f+=65535&u)>>>16)>>>16)>>>16,e[C]=65535&g|b<<16,t[C]=65535&f|p<<16}f=65535&(u=I),p=u>>>16,g=65535&(l=m),b=l>>>16,l=r[0],p+=(u=n[0])>>>16,g+=65535&l,b+=l>>>16,b+=(g+=(p+=(f+=65535&u)>>>16)>>>16)>>>16,r[0]=m=65535&g|b<<16,n[0]=I=65535&f|p<<16,f=65535&(u=x),p=u>>>16,g=65535&(l=y),b=l>>>16,l=r[1],p+=(u=n[1])>>>16,g+=65535&l,b+=l>>>16,b+=(g+=(p+=(f+=65535&u)>>>16)>>>16)>>>16,r[1]=y=65535&g|b<<16,n[1]=x=65535&f|p<<16,f=65535&(u=A),p=u>>>16,g=65535&(l=v),b=l>>>16,l=r[2],p+=(u=n[2])>>>16,g+=65535&l,b+=l>>>16,b+=(g+=(p+=(f+=65535&u)>>>16)>>>16)>>>16,r[2]=v=65535&g|b<<16,n[2]=A=65535&f|p<<16,f=65535&(u=P),p=u>>>16,g=65535&(l=w),b=l>>>16,l=r[3],p+=(u=n[3])>>>16,g+=65535&l,b+=l>>>16,b+=(g+=(p+=(f+=65535&u)>>>16)>>>16)>>>16,r[3]=w=65535&g|b<<16,n[3]=P=65535&f|p<<16,f=65535&(u=k),p=u>>>16,g=65535&(l=S),b=l>>>16,l=r[4],p+=(u=n[4])>>>16,g+=65535&l,b+=l>>>16,b+=(g+=(p+=(f+=65535&u)>>>16)>>>16)>>>16,r[4]=S=65535&g|b<<16,n[4]=k=65535&f|p<<16,f=65535&(u=O),p=u>>>16,g=65535&(l=E),b=l>>>16,l=r[5],p+=(u=n[5])>>>16,g+=65535&l,b+=l>>>16,b+=(g+=(p+=(f+=65535&u)>>>16)>>>16)>>>16,r[5]=E=65535&g|b<<16,n[5]=O=65535&f|p<<16,f=65535&(u=N),p=u>>>16,g=65535&(l=_),b=l>>>16,l=r[6],p+=(u=n[6])>>>16,g+=65535&l,b+=l>>>16,b+=(g+=(p+=(f+=65535&u)>>>16)>>>16)>>>16,r[6]=_=65535&g|b<<16,n[6]=N=65535&f|p<<16,f=65535&(u=R),p=u>>>16,g=65535&(l=M),b=l>>>16,l=r[7],p+=(u=n[7])>>>16,g+=65535&l,b+=l>>>16,b+=(g+=(p+=(f+=65535&u)>>>16)>>>16)>>>16,r[7]=M=65535&g|b<<16,n[7]=R=65535&f|p<<16,a+=128,c-=128}return a}t.hash=function(e){var t=new s;t.update(e);var r=t.digest();return t.clean(),r}},6537:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}},7887:(e,t,r)=>{"use strict";t.Tc=t.TZ=t.wE=t.Xx=void 0;const i=r(5473),n=r(6537);function s(e){const t=new Float64Array(16);if(e)for(let r=0;r<e.length;r++)t[r]=e[r];return t}t.Xx=32,t.wE=32;const o=new Uint8Array(32);o[0]=9;const a=s([56129,1]);function c(e){let t=1;for(let r=0;r<16;r++){let i=e[r]+t+65535;t=Math.floor(i/65536),e[r]=i-65536*t}e[0]+=t-1+37*(t-1)}function l(e,t,r){const i=~(r-1);for(let n=0;n<16;n++){const r=i&(e[n]^t[n]);e[n]^=r,t[n]^=r}}function u(e,t,r){for(let i=0;i<16;i++)e[i]=t[i]+r[i]}function h(e,t,r){for(let i=0;i<16;i++)e[i]=t[i]-r[i]}function d(e,t,r){let i,n,s=0,o=0,a=0,c=0,l=0,u=0,h=0,d=0,f=0,p=0,g=0,b=0,m=0,y=0,v=0,w=0,S=0,E=0,_=0,M=0,I=0,x=0,A=0,P=0,k=0,O=0,N=0,R=0,T=0,C=0,L=0,z=r[0],U=r[1],D=r[2],q=r[3],j=r[4],B=r[5],F=r[6],K=r[7],V=r[8],H=r[9],W=r[10],G=r[11],J=r[12],Y=r[13],Z=r[14],X=r[15];i=t[0],s+=i*z,o+=i*U,a+=i*D,c+=i*q,l+=i*j,u+=i*B,h+=i*F,d+=i*K,f+=i*V,p+=i*H,g+=i*W,b+=i*G,m+=i*J,y+=i*Y,v+=i*Z,w+=i*X,i=t[1],o+=i*z,a+=i*U,c+=i*D,l+=i*q,u+=i*j,h+=i*B,d+=i*F,f+=i*K,p+=i*V,g+=i*H,b+=i*W,m+=i*G,y+=i*J,v+=i*Y,w+=i*Z,S+=i*X,i=t[2],a+=i*z,c+=i*U,l+=i*D,u+=i*q,h+=i*j,d+=i*B,f+=i*F,p+=i*K,g+=i*V,b+=i*H,m+=i*W,y+=i*G,v+=i*J,w+=i*Y,S+=i*Z,E+=i*X,i=t[3],c+=i*z,l+=i*U,u+=i*D,h+=i*q,d+=i*j,f+=i*B,p+=i*F,g+=i*K,b+=i*V,m+=i*H,y+=i*W,v+=i*G,w+=i*J,S+=i*Y,E+=i*Z,_+=i*X,i=t[4],l+=i*z,u+=i*U,h+=i*D,d+=i*q,f+=i*j,p+=i*B,g+=i*F,b+=i*K,m+=i*V,y+=i*H,v+=i*W,w+=i*G,S+=i*J,E+=i*Y,_+=i*Z,M+=i*X,i=t[5],u+=i*z,h+=i*U,d+=i*D,f+=i*q,p+=i*j,g+=i*B,b+=i*F,m+=i*K,y+=i*V,v+=i*H,w+=i*W,S+=i*G,E+=i*J,_+=i*Y,M+=i*Z,I+=i*X,i=t[6],h+=i*z,d+=i*U,f+=i*D,p+=i*q,g+=i*j,b+=i*B,m+=i*F,y+=i*K,v+=i*V,w+=i*H,S+=i*W,E+=i*G,_+=i*J,M+=i*Y,I+=i*Z,x+=i*X,i=t[7],d+=i*z,f+=i*U,p+=i*D,g+=i*q,b+=i*j,m+=i*B,y+=i*F,v+=i*K,w+=i*V,S+=i*H,E+=i*W,_+=i*G,M+=i*J,I+=i*Y,x+=i*Z,A+=i*X,i=t[8],f+=i*z,p+=i*U,g+=i*D,b+=i*q,m+=i*j,y+=i*B,v+=i*F,w+=i*K,S+=i*V,E+=i*H,_+=i*W,M+=i*G,I+=i*J,x+=i*Y,A+=i*Z,P+=i*X,i=t[9],p+=i*z,g+=i*U,b+=i*D,m+=i*q,y+=i*j,v+=i*B,w+=i*F,S+=i*K,E+=i*V,_+=i*H,M+=i*W,I+=i*G,x+=i*J,A+=i*Y,P+=i*Z,k+=i*X,i=t[10],g+=i*z,b+=i*U,m+=i*D,y+=i*q,v+=i*j,w+=i*B,S+=i*F,E+=i*K,_+=i*V,M+=i*H,I+=i*W,x+=i*G,A+=i*J,P+=i*Y,k+=i*Z,O+=i*X,i=t[11],b+=i*z,m+=i*U,y+=i*D,v+=i*q,w+=i*j,S+=i*B,E+=i*F,_+=i*K,M+=i*V,I+=i*H,x+=i*W,A+=i*G,P+=i*J,k+=i*Y,O+=i*Z,N+=i*X,i=t[12],m+=i*z,y+=i*U,v+=i*D,w+=i*q,S+=i*j,E+=i*B,_+=i*F,M+=i*K,I+=i*V,x+=i*H,A+=i*W,P+=i*G,k+=i*J,O+=i*Y,N+=i*Z,R+=i*X,i=t[13],y+=i*z,v+=i*U,w+=i*D,S+=i*q,E+=i*j,_+=i*B,M+=i*F,I+=i*K,x+=i*V,A+=i*H,P+=i*W,k+=i*G,O+=i*J,N+=i*Y,R+=i*Z,T+=i*X,i=t[14],v+=i*z,w+=i*U,S+=i*D,E+=i*q,_+=i*j,M+=i*B,I+=i*F,x+=i*K,A+=i*V,P+=i*H,k+=i*W,O+=i*G,N+=i*J,R+=i*Y,T+=i*Z,C+=i*X,i=t[15],w+=i*z,S+=i*U,E+=i*D,_+=i*q,M+=i*j,I+=i*B,x+=i*F,A+=i*K,P+=i*V,k+=i*H,O+=i*W,N+=i*G,R+=i*J,T+=i*Y,C+=i*Z,L+=i*X,s+=38*S,o+=38*E,a+=38*_,c+=38*M,l+=38*I,u+=38*x,h+=38*A,d+=38*P,f+=38*k,p+=38*O,g+=38*N,b+=38*R,m+=38*T,y+=38*C,v+=38*L,n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-65536*n,i=o+n+65535,n=Math.floor(i/65536),o=i-65536*n,i=a+n+65535,n=Math.floor(i/65536),a=i-65536*n,i=c+n+65535,n=Math.floor(i/65536),c=i-65536*n,i=l+n+65535,n=Math.floor(i/65536),l=i-65536*n,i=u+n+65535,n=Math.floor(i/65536),u=i-65536*n,i=h+n+65535,n=Math.floor(i/65536),h=i-65536*n,i=d+n+65535,n=Math.floor(i/65536),d=i-65536*n,i=f+n+65535,n=Math.floor(i/65536),f=i-65536*n,i=p+n+65535,n=Math.floor(i/65536),p=i-65536*n,i=g+n+65535,n=Math.floor(i/65536),g=i-65536*n,i=b+n+65535,n=Math.floor(i/65536),b=i-65536*n,i=m+n+65535,n=Math.floor(i/65536),m=i-65536*n,i=y+n+65535,n=Math.floor(i/65536),y=i-65536*n,i=v+n+65535,n=Math.floor(i/65536),v=i-65536*n,i=w+n+65535,n=Math.floor(i/65536),w=i-65536*n,s+=n-1+37*(n-1),n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-65536*n,i=o+n+65535,n=Math.floor(i/65536),o=i-65536*n,i=a+n+65535,n=Math.floor(i/65536),a=i-65536*n,i=c+n+65535,n=Math.floor(i/65536),c=i-65536*n,i=l+n+65535,n=Math.floor(i/65536),l=i-65536*n,i=u+n+65535,n=Math.floor(i/65536),u=i-65536*n,i=h+n+65535,n=Math.floor(i/65536),h=i-65536*n,i=d+n+65535,n=Math.floor(i/65536),d=i-65536*n,i=f+n+65535,n=Math.floor(i/65536),f=i-65536*n,i=p+n+65535,n=Math.floor(i/65536),p=i-65536*n,i=g+n+65535,n=Math.floor(i/65536),g=i-65536*n,i=b+n+65535,n=Math.floor(i/65536),b=i-65536*n,i=m+n+65535,n=Math.floor(i/65536),m=i-65536*n,i=y+n+65535,n=Math.floor(i/65536),y=i-65536*n,i=v+n+65535,n=Math.floor(i/65536),v=i-65536*n,i=w+n+65535,n=Math.floor(i/65536),w=i-65536*n,s+=n-1+37*(n-1),e[0]=s,e[1]=o,e[2]=a,e[3]=c,e[4]=l,e[5]=u,e[6]=h,e[7]=d,e[8]=f,e[9]=p,e[10]=g,e[11]=b,e[12]=m,e[13]=y,e[14]=v,e[15]=w}function f(e,t){d(e,t,t)}function p(e,t){const r=new Uint8Array(32),i=new Float64Array(80),n=s(),o=s(),p=s(),g=s(),b=s(),m=s();for(let s=0;s<31;s++)r[s]=e[s];r[31]=127&e[31]|64,r[0]&=248,function(e,t){for(let r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(i,t);for(let s=0;s<16;s++)o[s]=i[s];n[0]=g[0]=1;for(let s=254;s>=0;--s){const e=r[s>>>3]>>>(7&s)&1;l(n,o,e),l(p,g,e),u(b,n,p),h(n,n,p),u(p,o,g),h(o,o,g),f(g,b),f(m,n),d(n,p,n),d(p,o,b),u(b,n,p),h(n,n,p),f(o,n),h(p,g,m),d(n,p,a),u(n,n,g),d(p,p,n),d(n,g,m),d(g,o,i),f(o,b),l(n,o,e),l(p,g,e)}for(let s=0;s<16;s++)i[s+16]=n[s],i[s+32]=p[s],i[s+48]=o[s],i[s+64]=g[s];const y=i.subarray(32),v=i.subarray(16);!function(e,t){const r=s();for(let i=0;i<16;i++)r[i]=t[i];for(let i=253;i>=0;i--)f(r,r),2!==i&&4!==i&&d(r,r,t);for(let i=0;i<16;i++)e[i]=r[i]}(y,y),d(v,v,y);const w=new Uint8Array(32);return function(e,t){const r=s(),i=s();for(let n=0;n<16;n++)i[n]=t[n];c(i),c(i),c(i);for(let n=0;n<2;n++){r[0]=i[0]-65517;for(let t=1;t<15;t++)r[t]=i[t]-65535-(r[t-1]>>16&1),r[t-1]&=65535;r[15]=i[15]-32767-(r[14]>>16&1);const e=r[15]>>16&1;r[14]&=65535,l(i,r,1-e)}for(let n=0;n<16;n++)e[2*n]=255&i[n],e[2*n+1]=i[n]>>8}(w,v),w}function g(e){return p(e,o)}function b(e){if(e.length!==t.wE)throw new Error("x25519: seed must be ".concat(t.wE," bytes"));const r=new Uint8Array(e);return{publicKey:g(r),secretKey:r}}t.TZ=function(e){const t=(0,i.randomBytes)(32,e),r=b(t);return(0,n.wipe)(t),r},t.Tc=function(e,r){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.length!==t.Xx)throw new Error("X25519: incorrect secret key length");if(r.length!==t.Xx)throw new Error("X25519: incorrect public key length");const n=p(e,r);if(i){let e=0;for(let t=0;t<n.length;t++)e|=n[t];if(0===e)throw new Error("X25519: invalid shared key")}return n}},364:(e,t,r)=>{"use strict";function i(){return(null===r.g||void 0===r.g?void 0:r.g.crypto)||(null===r.g||void 0===r.g?void 0:r.g.msCrypto)||{}}function n(){const e=i();return e.subtle||e.webkitSubtle}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserCryptoAvailable=t.getSubtleCrypto=t.getBrowerCrypto=void 0,t.getBrowerCrypto=i,t.getSubtleCrypto=n,t.isBrowserCryptoAvailable=function(){return!!i()&&!!n()}},6454:(e,t)=>{"use strict";function r(){return"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product}function i(){return"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.isNode=t.isReactNative=void 0,t.isReactNative=r,t.isNode=i,t.isBrowser=function(){return!r()&&!i()}},8129:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(6613);i.__exportStar(r(364),t),i.__exportStar(r(6454),t)},6613:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>s,__asyncDelegator:()=>w,__asyncGenerator:()=>v,__asyncValues:()=>S,__await:()=>y,__awaiter:()=>u,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>x,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>f,__extends:()=>n,__generator:()=>h,__importDefault:()=>M,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>l,__param:()=>c,__read:()=>g,__rest:()=>o,__spread:()=>b,__spreadArrays:()=>m,__values:()=>p});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},i(e,t)};function n(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return s=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},s.apply(this,arguments)};function o(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r}function a(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function c(e,t){return function(r,i){t(r,i,e)}}function l(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(t){s(t)}}function a(e){try{c(i.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))}function h(e,t){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}function f(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function m(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var i=Array(e),n=0;for(t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,n++)i[n]=s[o];return i}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function v(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=r.apply(e,t||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(e){n[e]&&(i[e]=function(t){return new Promise((function(r,i){s.push([e,t,r,i])>1||a(e,t)}))})}function a(e,t){try{(r=n[e](t)).value instanceof y?Promise.resolve(r.value.v).then(c,l):u(s[0][2],r)}catch(i){u(s[0][3],i)}var r}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function w(e){var t,r;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,n){t[i]=e[i]?function(t){return(r=!r)?{value:y(e[i](t)),done:"return"===i}:n?n(t):t}:n}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=e[r]&&function(t){return new Promise((function(i,n){(function(e,t,r,i){Promise.resolve(i).then((function(t){e({value:t,done:r})}),t)})(i,n,(t=e[r](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function M(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function x(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},5513:()=>{},3412:function(e,t,r){!function(e,t){"use strict";function i(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function s(e,t,r){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"===typeof e?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(2065).Buffer}catch(I){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(e,t,r){var i=a(e,r);return r-1>=t&&(i|=a(e,r-1)<<4),i}function l(e,t,r,i){for(var n=0,s=Math.min(e.length,r),o=t;o<s;o++){var a=e.charCodeAt(o)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}s.isBN=function(e){return e instanceof s||null!==e&&"object"===typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,r){if("number"===typeof e)return this._initNumber(e,t,r);if("object"===typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),i(t===(0|t)&&t>=2&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<e.length&&(16===t?this._parseHex(e,n,r):(this._parseBase(e,t,n),"le"===r&&this._initArray(this.toArray(),t,r)))},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(i(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(i("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var s,o,a=0;if("be"===r)for(n=e.length-1,s=0;n>=0;n-=3)o=e[n]|e[n-1]<<8|e[n-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(n=0,s=0;n<e.length;n+=3)o=e[n]|e[n+1]<<8|e[n+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,s=0,o=0;if("be"===r)for(i=e.length-1;i>=t;i-=2)n=c(e,t,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;else for(i=(e.length-t)%2===0?t+1:t;i<e.length;i+=2)n=c(e,t,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;this.strip()},s.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=t)i++;i--,n=n/t|0;for(var s=e.length-r,o=s%i,a=Math.min(s,s-o)+r,c=0,u=r;u<a;u+=i)c=l(e,u,u+i,t),this.imuln(n),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var h=1;for(c=l(e,u,e.length,t),u=0;u<o;u++)h*=t;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,r){r.negative=t.negative^e.negative;var i=e.length+t.length|0;r.length=i,i=i-1|0;var n=0|e.words[0],s=0|t.words[0],o=n*s,a=67108863&o,c=o/67108864|0;r.words[0]=a;for(var l=1;l<i;l++){for(var u=c>>>26,h=67108863&c,d=Math.min(l,t.length-1),f=Math.max(0,l-e.length+1);f<=d;f++){var p=l-f|0;u+=(o=(n=0|e.words[p])*(s=0|t.words[f])+h)/67108864|0,h=67108863&o}r.words[l]=0|h,c=0|u}return 0!==c?r.words[l]=0|c:r.length--,r.strip()}s.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var n=0,s=0,o=0;o<this.length;o++){var a=this.words[o],c=(16777215&(a<<n|s)).toString(16);s=a>>>24-n&16777215,(n+=2)>=26&&(n-=26,o--),r=0!==s||o!==this.length-1?u[6-c.length]+c+r:c+r}for(0!==s&&(r=s.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var l=h[e],f=d[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(f).toString(e);r=(p=p.idivn(f)).isZero()?g+r:u[l-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(e,t){return i("undefined"!==typeof o),this.toArrayLike(o,e,t)},s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,r){var n=this.byteLength(),s=r||Math.max(1,n);i(n<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0"),this.strip();var o,a,c="le"===t,l=new e(s),u=this.clone();if(c){for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),l[a]=o;for(;a<s;a++)l[a]=0}else{for(a=0;a<s-n;a++)l[a]=0;for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),l[s-a-1]=o}return l},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},s.prototype.ior=function(e){return i(0===(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},s.prototype.iand=function(e){return i(0===(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var i=0;i<r.length;i++)this.words[i]=t.words[i]^r.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},s.prototype.ixor=function(e){return i(0===(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){i("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var n=0;n<t;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this.strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){i("number"===typeof e&&e>=0);var r=e/26|0,n=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<n:this.words[r]&~(1<<n),this.strip()},s.prototype.iadd=function(e){var t,r,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,i=e):(r=e,i=this);for(var n=0,s=0;s<i.length;s++)t=(0|r.words[s])+(0|i.words[s])+n,this.words[s]=67108863&t,n=t>>>26;for(;0!==n&&s<r.length;s++)t=(0|r.words[s])+n,this.words[s]=67108863&t,n=t>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,i,n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=e):(r=e,i=this);for(var s=0,o=0;o<i.length;o++)s=(t=(0|r.words[o])-(0|i.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<r.length;o++)s=(t=(0|r.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var i,n,s,o=e.words,a=t.words,c=r.words,l=0,u=0|o[0],h=8191&u,d=u>>>13,f=0|o[1],p=8191&f,g=f>>>13,b=0|o[2],m=8191&b,y=b>>>13,v=0|o[3],w=8191&v,S=v>>>13,E=0|o[4],_=8191&E,M=E>>>13,I=0|o[5],x=8191&I,A=I>>>13,P=0|o[6],k=8191&P,O=P>>>13,N=0|o[7],R=8191&N,T=N>>>13,C=0|o[8],L=8191&C,z=C>>>13,U=0|o[9],D=8191&U,q=U>>>13,j=0|a[0],B=8191&j,F=j>>>13,K=0|a[1],V=8191&K,H=K>>>13,W=0|a[2],G=8191&W,J=W>>>13,Y=0|a[3],Z=8191&Y,X=Y>>>13,$=0|a[4],Q=8191&$,ee=$>>>13,te=0|a[5],re=8191&te,ie=te>>>13,ne=0|a[6],se=8191&ne,oe=ne>>>13,ae=0|a[7],ce=8191&ae,le=ae>>>13,ue=0|a[8],he=8191&ue,de=ue>>>13,fe=0|a[9],pe=8191&fe,ge=fe>>>13;r.negative=e.negative^t.negative,r.length=19;var be=(l+(i=Math.imul(h,B))|0)+((8191&(n=(n=Math.imul(h,F))+Math.imul(d,B)|0))<<13)|0;l=((s=Math.imul(d,F))+(n>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(p,B),n=(n=Math.imul(p,F))+Math.imul(g,B)|0,s=Math.imul(g,F);var me=(l+(i=i+Math.imul(h,V)|0)|0)+((8191&(n=(n=n+Math.imul(h,H)|0)+Math.imul(d,V)|0))<<13)|0;l=((s=s+Math.imul(d,H)|0)+(n>>>13)|0)+(me>>>26)|0,me&=67108863,i=Math.imul(m,B),n=(n=Math.imul(m,F))+Math.imul(y,B)|0,s=Math.imul(y,F),i=i+Math.imul(p,V)|0,n=(n=n+Math.imul(p,H)|0)+Math.imul(g,V)|0,s=s+Math.imul(g,H)|0;var ye=(l+(i=i+Math.imul(h,G)|0)|0)+((8191&(n=(n=n+Math.imul(h,J)|0)+Math.imul(d,G)|0))<<13)|0;l=((s=s+Math.imul(d,J)|0)+(n>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(w,B),n=(n=Math.imul(w,F))+Math.imul(S,B)|0,s=Math.imul(S,F),i=i+Math.imul(m,V)|0,n=(n=n+Math.imul(m,H)|0)+Math.imul(y,V)|0,s=s+Math.imul(y,H)|0,i=i+Math.imul(p,G)|0,n=(n=n+Math.imul(p,J)|0)+Math.imul(g,G)|0,s=s+Math.imul(g,J)|0;var ve=(l+(i=i+Math.imul(h,Z)|0)|0)+((8191&(n=(n=n+Math.imul(h,X)|0)+Math.imul(d,Z)|0))<<13)|0;l=((s=s+Math.imul(d,X)|0)+(n>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(_,B),n=(n=Math.imul(_,F))+Math.imul(M,B)|0,s=Math.imul(M,F),i=i+Math.imul(w,V)|0,n=(n=n+Math.imul(w,H)|0)+Math.imul(S,V)|0,s=s+Math.imul(S,H)|0,i=i+Math.imul(m,G)|0,n=(n=n+Math.imul(m,J)|0)+Math.imul(y,G)|0,s=s+Math.imul(y,J)|0,i=i+Math.imul(p,Z)|0,n=(n=n+Math.imul(p,X)|0)+Math.imul(g,Z)|0,s=s+Math.imul(g,X)|0;var we=(l+(i=i+Math.imul(h,Q)|0)|0)+((8191&(n=(n=n+Math.imul(h,ee)|0)+Math.imul(d,Q)|0))<<13)|0;l=((s=s+Math.imul(d,ee)|0)+(n>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(x,B),n=(n=Math.imul(x,F))+Math.imul(A,B)|0,s=Math.imul(A,F),i=i+Math.imul(_,V)|0,n=(n=n+Math.imul(_,H)|0)+Math.imul(M,V)|0,s=s+Math.imul(M,H)|0,i=i+Math.imul(w,G)|0,n=(n=n+Math.imul(w,J)|0)+Math.imul(S,G)|0,s=s+Math.imul(S,J)|0,i=i+Math.imul(m,Z)|0,n=(n=n+Math.imul(m,X)|0)+Math.imul(y,Z)|0,s=s+Math.imul(y,X)|0,i=i+Math.imul(p,Q)|0,n=(n=n+Math.imul(p,ee)|0)+Math.imul(g,Q)|0,s=s+Math.imul(g,ee)|0;var Se=(l+(i=i+Math.imul(h,re)|0)|0)+((8191&(n=(n=n+Math.imul(h,ie)|0)+Math.imul(d,re)|0))<<13)|0;l=((s=s+Math.imul(d,ie)|0)+(n>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(k,B),n=(n=Math.imul(k,F))+Math.imul(O,B)|0,s=Math.imul(O,F),i=i+Math.imul(x,V)|0,n=(n=n+Math.imul(x,H)|0)+Math.imul(A,V)|0,s=s+Math.imul(A,H)|0,i=i+Math.imul(_,G)|0,n=(n=n+Math.imul(_,J)|0)+Math.imul(M,G)|0,s=s+Math.imul(M,J)|0,i=i+Math.imul(w,Z)|0,n=(n=n+Math.imul(w,X)|0)+Math.imul(S,Z)|0,s=s+Math.imul(S,X)|0,i=i+Math.imul(m,Q)|0,n=(n=n+Math.imul(m,ee)|0)+Math.imul(y,Q)|0,s=s+Math.imul(y,ee)|0,i=i+Math.imul(p,re)|0,n=(n=n+Math.imul(p,ie)|0)+Math.imul(g,re)|0,s=s+Math.imul(g,ie)|0;var Ee=(l+(i=i+Math.imul(h,se)|0)|0)+((8191&(n=(n=n+Math.imul(h,oe)|0)+Math.imul(d,se)|0))<<13)|0;l=((s=s+Math.imul(d,oe)|0)+(n>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(R,B),n=(n=Math.imul(R,F))+Math.imul(T,B)|0,s=Math.imul(T,F),i=i+Math.imul(k,V)|0,n=(n=n+Math.imul(k,H)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,H)|0,i=i+Math.imul(x,G)|0,n=(n=n+Math.imul(x,J)|0)+Math.imul(A,G)|0,s=s+Math.imul(A,J)|0,i=i+Math.imul(_,Z)|0,n=(n=n+Math.imul(_,X)|0)+Math.imul(M,Z)|0,s=s+Math.imul(M,X)|0,i=i+Math.imul(w,Q)|0,n=(n=n+Math.imul(w,ee)|0)+Math.imul(S,Q)|0,s=s+Math.imul(S,ee)|0,i=i+Math.imul(m,re)|0,n=(n=n+Math.imul(m,ie)|0)+Math.imul(y,re)|0,s=s+Math.imul(y,ie)|0,i=i+Math.imul(p,se)|0,n=(n=n+Math.imul(p,oe)|0)+Math.imul(g,se)|0,s=s+Math.imul(g,oe)|0;var _e=(l+(i=i+Math.imul(h,ce)|0)|0)+((8191&(n=(n=n+Math.imul(h,le)|0)+Math.imul(d,ce)|0))<<13)|0;l=((s=s+Math.imul(d,le)|0)+(n>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(L,B),n=(n=Math.imul(L,F))+Math.imul(z,B)|0,s=Math.imul(z,F),i=i+Math.imul(R,V)|0,n=(n=n+Math.imul(R,H)|0)+Math.imul(T,V)|0,s=s+Math.imul(T,H)|0,i=i+Math.imul(k,G)|0,n=(n=n+Math.imul(k,J)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,J)|0,i=i+Math.imul(x,Z)|0,n=(n=n+Math.imul(x,X)|0)+Math.imul(A,Z)|0,s=s+Math.imul(A,X)|0,i=i+Math.imul(_,Q)|0,n=(n=n+Math.imul(_,ee)|0)+Math.imul(M,Q)|0,s=s+Math.imul(M,ee)|0,i=i+Math.imul(w,re)|0,n=(n=n+Math.imul(w,ie)|0)+Math.imul(S,re)|0,s=s+Math.imul(S,ie)|0,i=i+Math.imul(m,se)|0,n=(n=n+Math.imul(m,oe)|0)+Math.imul(y,se)|0,s=s+Math.imul(y,oe)|0,i=i+Math.imul(p,ce)|0,n=(n=n+Math.imul(p,le)|0)+Math.imul(g,ce)|0,s=s+Math.imul(g,le)|0;var Me=(l+(i=i+Math.imul(h,he)|0)|0)+((8191&(n=(n=n+Math.imul(h,de)|0)+Math.imul(d,he)|0))<<13)|0;l=((s=s+Math.imul(d,de)|0)+(n>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(D,B),n=(n=Math.imul(D,F))+Math.imul(q,B)|0,s=Math.imul(q,F),i=i+Math.imul(L,V)|0,n=(n=n+Math.imul(L,H)|0)+Math.imul(z,V)|0,s=s+Math.imul(z,H)|0,i=i+Math.imul(R,G)|0,n=(n=n+Math.imul(R,J)|0)+Math.imul(T,G)|0,s=s+Math.imul(T,J)|0,i=i+Math.imul(k,Z)|0,n=(n=n+Math.imul(k,X)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,X)|0,i=i+Math.imul(x,Q)|0,n=(n=n+Math.imul(x,ee)|0)+Math.imul(A,Q)|0,s=s+Math.imul(A,ee)|0,i=i+Math.imul(_,re)|0,n=(n=n+Math.imul(_,ie)|0)+Math.imul(M,re)|0,s=s+Math.imul(M,ie)|0,i=i+Math.imul(w,se)|0,n=(n=n+Math.imul(w,oe)|0)+Math.imul(S,se)|0,s=s+Math.imul(S,oe)|0,i=i+Math.imul(m,ce)|0,n=(n=n+Math.imul(m,le)|0)+Math.imul(y,ce)|0,s=s+Math.imul(y,le)|0,i=i+Math.imul(p,he)|0,n=(n=n+Math.imul(p,de)|0)+Math.imul(g,he)|0,s=s+Math.imul(g,de)|0;var Ie=(l+(i=i+Math.imul(h,pe)|0)|0)+((8191&(n=(n=n+Math.imul(h,ge)|0)+Math.imul(d,pe)|0))<<13)|0;l=((s=s+Math.imul(d,ge)|0)+(n>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,i=Math.imul(D,V),n=(n=Math.imul(D,H))+Math.imul(q,V)|0,s=Math.imul(q,H),i=i+Math.imul(L,G)|0,n=(n=n+Math.imul(L,J)|0)+Math.imul(z,G)|0,s=s+Math.imul(z,J)|0,i=i+Math.imul(R,Z)|0,n=(n=n+Math.imul(R,X)|0)+Math.imul(T,Z)|0,s=s+Math.imul(T,X)|0,i=i+Math.imul(k,Q)|0,n=(n=n+Math.imul(k,ee)|0)+Math.imul(O,Q)|0,s=s+Math.imul(O,ee)|0,i=i+Math.imul(x,re)|0,n=(n=n+Math.imul(x,ie)|0)+Math.imul(A,re)|0,s=s+Math.imul(A,ie)|0,i=i+Math.imul(_,se)|0,n=(n=n+Math.imul(_,oe)|0)+Math.imul(M,se)|0,s=s+Math.imul(M,oe)|0,i=i+Math.imul(w,ce)|0,n=(n=n+Math.imul(w,le)|0)+Math.imul(S,ce)|0,s=s+Math.imul(S,le)|0,i=i+Math.imul(m,he)|0,n=(n=n+Math.imul(m,de)|0)+Math.imul(y,he)|0,s=s+Math.imul(y,de)|0;var xe=(l+(i=i+Math.imul(p,pe)|0)|0)+((8191&(n=(n=n+Math.imul(p,ge)|0)+Math.imul(g,pe)|0))<<13)|0;l=((s=s+Math.imul(g,ge)|0)+(n>>>13)|0)+(xe>>>26)|0,xe&=67108863,i=Math.imul(D,G),n=(n=Math.imul(D,J))+Math.imul(q,G)|0,s=Math.imul(q,J),i=i+Math.imul(L,Z)|0,n=(n=n+Math.imul(L,X)|0)+Math.imul(z,Z)|0,s=s+Math.imul(z,X)|0,i=i+Math.imul(R,Q)|0,n=(n=n+Math.imul(R,ee)|0)+Math.imul(T,Q)|0,s=s+Math.imul(T,ee)|0,i=i+Math.imul(k,re)|0,n=(n=n+Math.imul(k,ie)|0)+Math.imul(O,re)|0,s=s+Math.imul(O,ie)|0,i=i+Math.imul(x,se)|0,n=(n=n+Math.imul(x,oe)|0)+Math.imul(A,se)|0,s=s+Math.imul(A,oe)|0,i=i+Math.imul(_,ce)|0,n=(n=n+Math.imul(_,le)|0)+Math.imul(M,ce)|0,s=s+Math.imul(M,le)|0,i=i+Math.imul(w,he)|0,n=(n=n+Math.imul(w,de)|0)+Math.imul(S,he)|0,s=s+Math.imul(S,de)|0;var Ae=(l+(i=i+Math.imul(m,pe)|0)|0)+((8191&(n=(n=n+Math.imul(m,ge)|0)+Math.imul(y,pe)|0))<<13)|0;l=((s=s+Math.imul(y,ge)|0)+(n>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,i=Math.imul(D,Z),n=(n=Math.imul(D,X))+Math.imul(q,Z)|0,s=Math.imul(q,X),i=i+Math.imul(L,Q)|0,n=(n=n+Math.imul(L,ee)|0)+Math.imul(z,Q)|0,s=s+Math.imul(z,ee)|0,i=i+Math.imul(R,re)|0,n=(n=n+Math.imul(R,ie)|0)+Math.imul(T,re)|0,s=s+Math.imul(T,ie)|0,i=i+Math.imul(k,se)|0,n=(n=n+Math.imul(k,oe)|0)+Math.imul(O,se)|0,s=s+Math.imul(O,oe)|0,i=i+Math.imul(x,ce)|0,n=(n=n+Math.imul(x,le)|0)+Math.imul(A,ce)|0,s=s+Math.imul(A,le)|0,i=i+Math.imul(_,he)|0,n=(n=n+Math.imul(_,de)|0)+Math.imul(M,he)|0,s=s+Math.imul(M,de)|0;var Pe=(l+(i=i+Math.imul(w,pe)|0)|0)+((8191&(n=(n=n+Math.imul(w,ge)|0)+Math.imul(S,pe)|0))<<13)|0;l=((s=s+Math.imul(S,ge)|0)+(n>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(D,Q),n=(n=Math.imul(D,ee))+Math.imul(q,Q)|0,s=Math.imul(q,ee),i=i+Math.imul(L,re)|0,n=(n=n+Math.imul(L,ie)|0)+Math.imul(z,re)|0,s=s+Math.imul(z,ie)|0,i=i+Math.imul(R,se)|0,n=(n=n+Math.imul(R,oe)|0)+Math.imul(T,se)|0,s=s+Math.imul(T,oe)|0,i=i+Math.imul(k,ce)|0,n=(n=n+Math.imul(k,le)|0)+Math.imul(O,ce)|0,s=s+Math.imul(O,le)|0,i=i+Math.imul(x,he)|0,n=(n=n+Math.imul(x,de)|0)+Math.imul(A,he)|0,s=s+Math.imul(A,de)|0;var ke=(l+(i=i+Math.imul(_,pe)|0)|0)+((8191&(n=(n=n+Math.imul(_,ge)|0)+Math.imul(M,pe)|0))<<13)|0;l=((s=s+Math.imul(M,ge)|0)+(n>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(D,re),n=(n=Math.imul(D,ie))+Math.imul(q,re)|0,s=Math.imul(q,ie),i=i+Math.imul(L,se)|0,n=(n=n+Math.imul(L,oe)|0)+Math.imul(z,se)|0,s=s+Math.imul(z,oe)|0,i=i+Math.imul(R,ce)|0,n=(n=n+Math.imul(R,le)|0)+Math.imul(T,ce)|0,s=s+Math.imul(T,le)|0,i=i+Math.imul(k,he)|0,n=(n=n+Math.imul(k,de)|0)+Math.imul(O,he)|0,s=s+Math.imul(O,de)|0;var Oe=(l+(i=i+Math.imul(x,pe)|0)|0)+((8191&(n=(n=n+Math.imul(x,ge)|0)+Math.imul(A,pe)|0))<<13)|0;l=((s=s+Math.imul(A,ge)|0)+(n>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,i=Math.imul(D,se),n=(n=Math.imul(D,oe))+Math.imul(q,se)|0,s=Math.imul(q,oe),i=i+Math.imul(L,ce)|0,n=(n=n+Math.imul(L,le)|0)+Math.imul(z,ce)|0,s=s+Math.imul(z,le)|0,i=i+Math.imul(R,he)|0,n=(n=n+Math.imul(R,de)|0)+Math.imul(T,he)|0,s=s+Math.imul(T,de)|0;var Ne=(l+(i=i+Math.imul(k,pe)|0)|0)+((8191&(n=(n=n+Math.imul(k,ge)|0)+Math.imul(O,pe)|0))<<13)|0;l=((s=s+Math.imul(O,ge)|0)+(n>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,i=Math.imul(D,ce),n=(n=Math.imul(D,le))+Math.imul(q,ce)|0,s=Math.imul(q,le),i=i+Math.imul(L,he)|0,n=(n=n+Math.imul(L,de)|0)+Math.imul(z,he)|0,s=s+Math.imul(z,de)|0;var Re=(l+(i=i+Math.imul(R,pe)|0)|0)+((8191&(n=(n=n+Math.imul(R,ge)|0)+Math.imul(T,pe)|0))<<13)|0;l=((s=s+Math.imul(T,ge)|0)+(n>>>13)|0)+(Re>>>26)|0,Re&=67108863,i=Math.imul(D,he),n=(n=Math.imul(D,de))+Math.imul(q,he)|0,s=Math.imul(q,de);var Te=(l+(i=i+Math.imul(L,pe)|0)|0)+((8191&(n=(n=n+Math.imul(L,ge)|0)+Math.imul(z,pe)|0))<<13)|0;l=((s=s+Math.imul(z,ge)|0)+(n>>>13)|0)+(Te>>>26)|0,Te&=67108863;var Ce=(l+(i=Math.imul(D,pe))|0)+((8191&(n=(n=Math.imul(D,ge))+Math.imul(q,pe)|0))<<13)|0;return l=((s=Math.imul(q,ge))+(n>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,c[0]=be,c[1]=me,c[2]=ye,c[3]=ve,c[4]=we,c[5]=Se,c[6]=Ee,c[7]=_e,c[8]=Me,c[9]=Ie,c[10]=xe,c[11]=Ae,c[12]=Pe,c[13]=ke,c[14]=Oe,c[15]=Ne,c[16]=Re,c[17]=Te,c[18]=Ce,0!==l&&(c[19]=l,r.length++),r};function g(e,t,r){return(new b).mulp(e,t,r)}function b(e,t){this.x=e,this.y=t}Math.imul||(p=f),s.prototype.mulTo=function(e,t){var r,i=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):i<63?f(this,e,t):i<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var i=0,n=0,s=0;s<r.length-1;s++){var o=n;n=0;for(var a=67108863&i,c=Math.min(s,t.length-1),l=Math.max(0,s-e.length+1);l<=c;l++){var u=s-l,h=(0|e.words[u])*(0|t.words[l]),d=67108863&h;a=67108863&(d=d+a|0),n+=(o=(o=o+(h/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[s]=a,i=o,o=n}return 0!==i?r.words[s]=i:r.length--,r.strip()}(this,e,t):g(this,e,t),r},b.prototype.makeRBT=function(e){for(var t=new Array(e),r=s.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var i=0,n=0;n<t;n++)i|=(1&e)<<t-n-1,e>>=1;return i},b.prototype.permute=function(e,t,r,i,n,s){for(var o=0;o<s;o++)i[o]=t[e[o]],n[o]=r[e[o]]},b.prototype.transform=function(e,t,r,i,n,s){this.permute(s,e,t,r,i,n);for(var o=1;o<n;o<<=1)for(var a=o<<1,c=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),u=0;u<n;u+=a)for(var h=c,d=l,f=0;f<o;f++){var p=r[u+f],g=i[u+f],b=r[u+f+o],m=i[u+f+o],y=h*b-d*m;m=h*m+d*b,b=y,r[u+f]=p+b,i[u+f]=g+m,r[u+f+o]=p-b,i[u+f+o]=g-m,f!==a&&(y=c*h-l*d,d=c*d+l*h,h=y)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=e[i];e[i]=e[r-i-1],e[r-i-1]=n,n=t[i],t[i]=-t[r-i-1],t[r-i-1]=-n}},b.prototype.normalize13b=function(e,t){for(var r=0,i=0;i<t/2;i++){var n=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+r;e[i]=67108863&n,r=n<67108864?0:n/67108864|0}return e},b.prototype.convert13b=function(e,t,r,n){for(var s=0,o=0;o<t;o++)s+=0|e[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<n;++o)r[o]=0;i(0===s),i(0===(-8192&s))},b.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){var i=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(i),s=this.stub(i),o=new Array(i),a=new Array(i),c=new Array(i),l=new Array(i),u=new Array(i),h=new Array(i),d=r.words;d.length=i,this.convert13b(e.words,e.length,o,i),this.convert13b(t.words,t.length,l,i),this.transform(o,s,a,c,i,n),this.transform(l,s,u,h,i,n);for(var f=0;f<i;f++){var p=a[f]*u[f]-c[f]*h[f];c[f]=a[f]*h[f]+c[f]*u[f],a[f]=p}return this.conjugate(a,c,i),this.transform(a,c,d,s,i,n),this.conjugate(d,s,i),this.normalize13b(d,i),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),g(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){i("number"===typeof e),i(e<67108864);for(var t=0,r=0;r<this.length;r++){var n=(0|this.words[r])*e,s=(67108863&n)+(67108863&t);t>>=26,t+=n/67108864|0,t+=s>>>26,this.words[r]=67108863&s}return 0!==t&&(this.words[r]=t,this.length++),this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var i=r/26|0,n=r%26;t[r]=(e.words[i]&1<<n)>>>n}return t}(e);if(0===t.length)return new s(1);for(var r=this,i=0;i<t.length&&0===t[i];i++,r=r.sqr());if(++i<t.length)for(var n=r.sqr();i<t.length;i++,n=n.sqr())0!==t[i]&&(r=r.mul(n));return r},s.prototype.iushln=function(e){i("number"===typeof e&&e>=0);var t,r=e%26,n=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,c=(0|this.words[t])-a<<r;this.words[t]=c|o,o=a>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==n){for(t=this.length-1;t>=0;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this.strip()},s.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){var n;i("number"===typeof e&&e>=0),n=t?(t-t%26)/26:0;var s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s,c=r;if(n-=o,n=Math.max(0,n),c){for(var l=0;l<o;l++)c.words[l]=this.words[l];c.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=n);l--){var h=0|this.words[l];this.words[l]=u<<26-s|h>>>s,u=h&a}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(e,t,r){return i(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){i("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26,n=1<<t;return!(this.length<=r)&&!!(this.words[r]&n)},s.prototype.imaskn=function(e){i("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var n=67108863^67108863>>>t<<t;this.words[this.length-1]&=n}return this.strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return i("number"===typeof e),i(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(i("number"===typeof e),i(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var n,s,o=e.length+r;this._expand(o);var a=0;for(n=0;n<e.length;n++){s=(0|this.words[n+r])+a;var c=(0|e.words[n])*t;a=((s-=67108863&c)>>26)-(c/67108864|0),this.words[n+r]=67108863&s}for(;n<this.length-r;n++)a=(s=(0|this.words[n+r])+a)>>26,this.words[n+r]=67108863&s;if(0===a)return this.strip();for(i(-1===a),a=0,n=0;n<this.length;n++)a=(s=-(0|this.words[n])+a)>>26,this.words[n]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(e,t){var r=(this.length,e.length),i=this.clone(),n=e,o=0|n.words[n.length-1];0!==(r=26-this._countBits(o))&&(n=n.ushln(r),i.iushln(r),o=0|n.words[n.length-1]);var a,c=i.length-n.length;if("mod"!==t){(a=new s(null)).length=c+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var u=i.clone()._ishlnsubmul(n,1,c);0===u.negative&&(i=u,a&&(a.words[c]=1));for(var h=c-1;h>=0;h--){var d=67108864*(0|i.words[n.length+h])+(0|i.words[n.length+h-1]);for(d=Math.min(d/o|0,67108863),i._ishlnsubmul(n,d,h);0!==i.negative;)d--,i.negative=0,i._ishlnsubmul(n,1,h),i.isZero()||(i.negative^=1);a&&(a.words[h]=d)}return a&&a.strip(),i.strip(),"div"!==t&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},s.prototype.divmod=function(e,t,r){return i(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(n=a.div.neg()),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:n,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(n=a.div.neg()),{div:n,mod:a.mod}):0!==(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modn(e.words[0]))}:this._wordDiv(e,t);var n,o,a},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),n=e.andln(1),s=r.cmp(i);return s<0||1===n&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modn=function(e){i(e<=67108863);for(var t=(1<<26)%e,r=0,n=this.length-1;n>=0;n--)r=(t*r+(0|this.words[n]))%e;return r},s.prototype.idivn=function(e){i(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var n=(0|this.words[r])+67108864*t;this.words[r]=n/e|0,t=n%e}return this.strip()},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n=new s(1),o=new s(0),a=new s(0),c=new s(1),l=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++l;for(var u=r.clone(),h=t.clone();!t.isZero();){for(var d=0,f=1;0===(t.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(n.isOdd()||o.isOdd())&&(n.iadd(u),o.isub(h)),n.iushrn(1),o.iushrn(1);for(var p=0,g=1;0===(r.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(u),c.isub(h)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),n.isub(a),o.isub(c)):(r.isub(t),a.isub(n),c.isub(o))}return{a:a,b:c,gcd:r.iushln(l)}},s.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n,o=new s(1),a=new s(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,u=1;0===(t.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(t.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);for(var h=0,d=1;0===(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),o.isub(a)):(r.isub(t),a.isub(o))}return(n=0===t.cmpn(1)?o:a).cmpn(0)<0&&n.iadd(e),n},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var i=0;t.isEven()&&r.isEven();i++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=t.cmp(r);if(n<0){var s=t;t=r,r=s}else if(0===n||0===r.cmpn(1))break;t.isub(r)}return r.iushln(i)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return 0===(1&this.words[0])},s.prototype.isOdd=function(){return 1===(1&this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){i("number"===typeof e);var t=e%26,r=(e-t)/26,n=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var s=n,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),i(e<=67108863,"Number is too big");var n=0|this.words[0];t=n===e?0:n<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|e.words[r];if(i!==n){i<n?t=-1:i>n&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new _(e)},s.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(e){if("string"===typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function M(e){_.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},n(v,y),v.prototype.split=function(e,t){for(var r=4194303,i=Math.min(e.length,9),n=0;n<i;n++)t.words[n]=e.words[n];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&r,n=10;n<e.length;n++){var o=0|e.words[n];e.words[n-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,e.words[n-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var i=0|e.words[r];t+=977*i,e.words[r]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(w,y),n(S,y),n(E,y),E.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var i=19*(0|e.words[r])+t,n=67108863&i;i>>>=26,e.words[r]=n,t=i}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new w;else if("p192"===e)t=new S;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E}return m[e]=t,t},_.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},_.prototype._verify2=function(e,t){i(0===(e.negative|t.negative),"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},_.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},_.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},_.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},_.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},_.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},_.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},_.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},_.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},_.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},_.prototype.isqr=function(e){return this.imul(e,e.clone())},_.prototype.sqr=function(e){return this.mul(e,e)},_.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2===1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var n=this.m.subn(1),o=0;!n.isZero()&&0===n.andln(1);)o++,n.iushrn(1);i(!n.isZero());var a=new s(1).toRed(this),c=a.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var h=this.pow(u,n),d=this.pow(e,n.addn(1).iushrn(1)),f=this.pow(e,n),p=o;0!==f.cmp(a);){for(var g=f,b=0;0!==g.cmp(a);b++)g=g.redSqr();i(b<p);var m=this.pow(h,new s(1).iushln(p-b-1));d=d.redMul(m),h=m.redSqr(),f=f.redMul(h),p=b}return d},_.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},_.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=e;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],e);var n=r[0],o=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),i=t.length-1;i>=0;i--){for(var l=t.words[i],u=c-1;u>=0;u--){var h=l>>u&1;n!==r[0]&&(n=this.sqr(n)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===i&&0===u)&&(n=this.mul(n,r[o]),a=0,o=0)):a=0}c=26}return n},_.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},_.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new M(e)},n(M,_),M.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},M.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},M.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var r=e.mul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},M.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},3169:(e,t,r)=>{"use strict";var i=t;i.version=r(1633).rE,i.utils=r(4843),i.rand=r(8462),i.curve=r(998),i.curves=r(8184),i.ec=r(7551),i.eddsa=r(7282)},7645:(e,t,r)=>{"use strict";var i=r(3412),n=r(4843),s=n.getNAF,o=n.getJSF,a=n.assert;function c(e,t){this.type=e,this.p=new i(t.p,16),this.red=t.prime?i.red(t.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=t.n&&new i(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function l(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){a(e.precomputed);var r=e._getDoubles(),i=s(t,1,this._bitLength),n=(1<<r.step+1)-(r.step%2===0?2:1);n/=3;var o,c,l=[];for(o=0;o<i.length;o+=r.step){c=0;for(var u=o+r.step-1;u>=o;u--)c=(c<<1)+i[u];l.push(c)}for(var h=this.jpoint(null,null,null),d=this.jpoint(null,null,null),f=n;f>0;f--){for(o=0;o<l.length;o++)(c=l[o])===f?d=d.mixedAdd(r.points[o]):c===-f&&(d=d.mixedAdd(r.points[o].neg()));h=h.add(d)}return h.toP()},c.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var n=i.points,o=s(t,r,this._bitLength),c=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var u=0;l>=0&&0===o[l];l--)u++;if(l>=0&&u++,c=c.dblp(u),l<0)break;var h=o[l];a(0!==h),c="affine"===e.type?h>0?c.mixedAdd(n[h-1>>1]):c.mixedAdd(n[-h-1>>1].neg()):h>0?c.add(n[h-1>>1]):c.add(n[-h-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,r,i,n){var a,c,l,u=this._wnafT1,h=this._wnafT2,d=this._wnafT3,f=0;for(a=0;a<i;a++){var p=(l=t[a])._getNAFPoints(e);u[a]=p.wnd,h[a]=p.points}for(a=i-1;a>=1;a-=2){var g=a-1,b=a;if(1===u[g]&&1===u[b]){var m=[t[g],null,null,t[b]];0===t[g].y.cmp(t[b].y)?(m[1]=t[g].add(t[b]),m[2]=t[g].toJ().mixedAdd(t[b].neg())):0===t[g].y.cmp(t[b].y.redNeg())?(m[1]=t[g].toJ().mixedAdd(t[b]),m[2]=t[g].add(t[b].neg())):(m[1]=t[g].toJ().mixedAdd(t[b]),m[2]=t[g].toJ().mixedAdd(t[b].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],v=o(r[g],r[b]);for(f=Math.max(v[0].length,f),d[g]=new Array(f),d[b]=new Array(f),c=0;c<f;c++){var w=0|v[0][c],S=0|v[1][c];d[g][c]=y[3*(w+1)+(S+1)],d[b][c]=0,h[g]=m}}else d[g]=s(r[g],u[g],this._bitLength),d[b]=s(r[b],u[b],this._bitLength),f=Math.max(d[g].length,f),f=Math.max(d[b].length,f)}var E=this.jpoint(null,null,null),_=this._wnafT4;for(a=f;a>=0;a--){for(var M=0;a>=0;){var I=!0;for(c=0;c<i;c++)_[c]=0|d[c][a],0!==_[c]&&(I=!1);if(!I)break;M++,a--}if(a>=0&&M++,E=E.dblp(M),a<0)break;for(c=0;c<i;c++){var x=_[c];0!==x&&(x>0?l=h[c][x-1>>1]:x<0&&(l=h[c][-x-1>>1].neg()),E="affine"===l.type?E.mixedAdd(l):E.add(l))}}for(a=0;a<i;a++)h[a]=null;return n?E:E.toP()},c.BasePoint=l,l.prototype.eq=function(){throw new Error("Not implemented")},l.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=n.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*r)return 6===e[0]?a(e[e.length-1]%2===0):7===e[0]&&a(e[e.length-1]%2===1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},l.prototype.encodeCompressed=function(e){return this.encode(e,!0)},l.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},l.prototype.encode=function(e,t){return n.encode(this._encode(t),e)},l.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},l.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},l.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<t;n+=e){for(var s=0;s<e;s++)i=i.dbl();r.push(i)}return{step:e,points:r}},l.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=1===r?null:this.dbl(),n=1;n<r;n++)t[n]=t[n-1].add(i);return{wnd:e,points:t}},l.prototype._getBeta=function(){return null},l.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},7802:(e,t,r)=>{"use strict";var i=r(4843),n=r(3412),s=r(6329),o=r(7645),a=i.assert;function c(e){this.twisted=1!==(0|e.a),this.mOneA=this.twisted&&-1===(0|e.a),this.extended=this.mOneA,o.call(this,"edwards",e),this.a=new n(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new n(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new n(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|e.c)}function l(e,t,r,i,s){o.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===i?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new n(t,16),this.y=new n(r,16),this.z=i?new n(i,16):this.curve.one,this.t=s&&new n(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(c,o),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,i){return this.point(e,t,r,i)},c.prototype.pointFromX=function(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),i=this.c2.redSub(this.a.redMul(r)),s=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=i.redMul(s.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var c=a.fromRed().isOdd();return(t&&!c||!t&&c)&&(a=a.redNeg()),this.point(e,a)},c.prototype.pointFromY=function(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),i=r.redSub(this.c2),s=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(s.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),i=t.redMul(this.a).redAdd(r),n=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===i.cmp(n)},s(l,o.BasePoint),c.prototype.pointFromJSON=function(e){return l.fromJSON(this,e)},c.prototype.point=function(e,t,r,i){return new l(this,e,t,r,i)},l.fromJSON=function(e,t){return new l(e,t[0],t[1],t[2])},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},l.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var i=this.curve._mulA(e),n=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),s=i.redAdd(t),o=s.redSub(r),a=i.redSub(t),c=n.redMul(o),l=s.redMul(a),u=n.redMul(a),h=o.redMul(s);return this.curve.point(c,l,h,u)},l.prototype._projDbl=function(){var e,t,r,i,n,s,o=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var l=(i=this.curve._mulA(a)).redAdd(c);this.zOne?(e=o.redSub(a).redSub(c).redMul(l.redSub(this.curve.two)),t=l.redMul(i.redSub(c)),r=l.redSqr().redSub(l).redSub(l)):(n=this.z.redSqr(),s=l.redSub(n).redISub(n),e=o.redSub(a).redISub(c).redMul(s),t=l.redMul(i.redSub(c)),r=l.redMul(s))}else i=a.redAdd(c),n=this.curve._mulC(this.z).redSqr(),s=i.redSub(n).redSub(n),e=this.curve._mulC(o.redISub(i)).redMul(s),t=this.curve._mulC(i).redMul(a.redISub(c)),r=i.redMul(s);return this.curve.point(e,t,r)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},l.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),n=this.z.redMul(e.z.redAdd(e.z)),s=r.redSub(t),o=n.redSub(i),a=n.redAdd(i),c=r.redAdd(t),l=s.redMul(o),u=a.redMul(c),h=s.redMul(c),d=o.redMul(a);return this.curve.point(l,u,d,h)},l.prototype._projAdd=function(e){var t,r,i=this.z.redMul(e.z),n=i.redSqr(),s=this.x.redMul(e.x),o=this.y.redMul(e.y),a=this.curve.d.redMul(s).redMul(o),c=n.redSub(a),l=n.redAdd(a),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(s).redISub(o),h=i.redMul(c).redMul(u);return this.curve.twisted?(t=i.redMul(l).redMul(o.redSub(this.curve._mulA(s))),r=c.redMul(l)):(t=i.redMul(l).redMul(o.redSub(s)),r=this.curve._mulC(c).redMul(l)),this.curve.point(h,t,r)},l.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},l.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},l.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},l.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},l.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()},l.prototype.getY=function(){return this.normalize(),this.y.fromRed()},l.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},l.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),0===this.x.cmp(t))return!0}},l.prototype.toP=l.prototype.normalize,l.prototype.mixedAdd=l.prototype.add},998:(e,t,r)=>{"use strict";var i=t;i.base=r(7645),i.short=r(5308),i.mont=r(8634),i.edwards=r(7802)},8634:(e,t,r)=>{"use strict";var i=r(3412),n=r(6329),s=r(7645),o=r(4843);function a(e){s.call(this,"mont",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){s.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(t,16),this.z=new i(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}n(a,s),e.exports=a,a.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),i=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===i.redSqrt().redSqr().cmp(i)},n(c,s.BasePoint),a.prototype.decodePoint=function(e,t){return this.point(o.toArray(e,t),1)},a.prototype.point=function(e,t){return new c(this,e,t)},a.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),i=e.redMul(t),n=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(i,n)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),i=this.x.redSub(this.z),n=e.x.redAdd(e.z),s=e.x.redSub(e.z).redMul(r),o=n.redMul(i),a=t.z.redMul(s.redAdd(o).redSqr()),c=t.x.redMul(s.redISub(o).redSqr());return this.curve.point(a,c)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,i=this.curve.point(null,null),n=[];0!==t.cmpn(0);t.iushrn(1))n.push(t.andln(1));for(var s=n.length-1;s>=0;s--)0===n[s]?(r=r.diffAdd(i,this),i=i.dbl()):(i=r.diffAdd(i,this),r=r.dbl());return i},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},5308:(e,t,r)=>{"use strict";var i=r(4843),n=r(3412),s=r(6329),o=r(7645),a=i.assert;function c(e){o.call(this,"short",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function l(e,t,r,i){o.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new n(t,16),this.y=new n(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(e,t,r,i){o.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new n(0)):(this.x=new n(t,16),this.y=new n(r,16),this.z=new n(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(c,o),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new n(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=(t=i[0].cmp(i[1])<0?i[0]:i[1]).toRed(this.red)}if(e.lambda)r=new n(e.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))?r=s[0]:(r=s[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new n(e.a,16),b:new n(e.b,16)}})):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:n.mont(e),r=new n(2).toRed(t).redInvm(),i=r.redNeg(),s=new n(3).toRed(t).redNeg().redSqrt().redMul(r);return[i.redAdd(s).fromRed(),i.redSub(s).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,r,i,s,o,a,c,l,u,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,f=this.n.clone(),p=new n(1),g=new n(0),b=new n(0),m=new n(1),y=0;0!==d.cmpn(0);){var v=f.div(d);l=f.sub(v.mul(d)),u=b.sub(v.mul(p));var w=m.sub(v.mul(g));if(!i&&l.cmp(h)<0)t=c.neg(),r=p,i=l.neg(),s=u;else if(i&&2===++y)break;c=l,f=d,d=l,b=p,p=u,m=g,g=w}o=l.neg(),a=u;var S=i.sqr().add(s.sqr());return o.sqr().add(a.sqr()).cmp(S)>=0&&(o=t,a=r),i.negative&&(i=i.neg(),s=s.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:i,b:s},{a:o,b:a}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),o=n.mul(r.a),a=s.mul(i.a),c=n.mul(r.b),l=s.mul(i.b);return{k1:e.sub(o).sub(a),k2:c.add(l).neg()}},c.prototype.pointFromX=function(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(0!==i.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var s=i.fromRed().isOdd();return(t&&!s||!t&&s)&&(i=i.redNeg()),this.point(e,i)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return 0===r.redSqr().redISub(n).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(t[s]),a=e[s],c=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),i[2*s]=a,i[2*s+1]=c,n[2*s]=o.k1,n[2*s+1]=o.k2}for(var l=this._wnafMulAdd(1,i,n,2*s,r),u=0;u<2*s;u++)i[u]=null,n[u]=null;return l},s(l,o.BasePoint),c.prototype.point=function(e,t,r){return new l(this,e,t,r)},c.prototype.pointFromJSON=function(e,t){return l.fromJSON(this,e,t)},l.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},l.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},l.fromJSON=function(e,t,r){"string"===typeof t&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function n(t){return e.point(t[0],t[1],r)}var s=t[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(n))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(n))}},i},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.inf},l.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},l.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),s=n.redSqr().redISub(this.x.redAdd(this.x)),o=n.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},l.prototype.getX=function(){return this.x.fromRed()},l.prototype.getY=function(){return this.y.fromRed()},l.prototype.mul=function(e){return e=new n(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},l.prototype.jmulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},l.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},l.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},l.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(u,o.BasePoint),c.prototype.jpoint=function(e,t,r){return new u(this,e,t,r)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),a=i.redSub(n),c=s.redSub(o);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),h=i.redMul(l),d=c.redSqr().redIAdd(u).redISub(h).redISub(h),f=c.redMul(h.redISub(d)).redISub(s.redMul(u)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(d,f,p)},u.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,s=e.y.redMul(t).redMul(this.z),o=r.redSub(i),a=n.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),l=c.redMul(o),u=r.redMul(c),h=a.redSqr().redIAdd(l).redISub(u).redISub(u),d=a.redMul(u.redISub(h)).redISub(n.redMul(l)),f=this.z.redMul(o);return this.curve.jpoint(h,d,f)},u.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,s=this.x,o=this.y,a=this.z,c=a.redSqr().redSqr(),l=o.redAdd(o);for(t=0;t<e;t++){var u=s.redSqr(),h=l.redSqr(),d=h.redSqr(),f=u.redAdd(u).redIAdd(u).redIAdd(i.redMul(c)),p=s.redMul(h),g=f.redSqr().redISub(p.redAdd(p)),b=p.redISub(g),m=f.redMul(b);m=m.redIAdd(m).redISub(d);var y=l.redMul(a);t+1<e&&(c=c.redMul(d)),s=g,a=y,l=m}return this.curve.jpoint(s,l.redMul(n),a)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i),c=a.redSqr().redISub(o).redISub(o),l=s.redIAdd(s);l=(l=l.redIAdd(l)).redIAdd(l),e=c,t=a.redMul(o.redISub(c)).redISub(l),r=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),h=this.y.redSqr(),d=h.redSqr(),f=this.x.redAdd(h).redSqr().redISub(u).redISub(d);f=f.redIAdd(f);var p=u.redAdd(u).redIAdd(u),g=p.redSqr(),b=d.redIAdd(d);b=(b=b.redIAdd(b)).redIAdd(b),e=g.redISub(f).redISub(f),t=p.redMul(f.redISub(e)).redISub(b),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},u.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=a.redSqr().redISub(o).redISub(o);e=c;var l=s.redIAdd(s);l=(l=l.redIAdd(l)).redIAdd(l),t=a.redMul(o.redISub(c)).redISub(l),r=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),h=this.y.redSqr(),d=this.x.redMul(h),f=this.x.redSub(u).redMul(this.x.redAdd(u));f=f.redAdd(f).redIAdd(f);var p=d.redIAdd(d),g=(p=p.redIAdd(p)).redAdd(p);e=f.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(u);var b=h.redSqr();b=(b=(b=b.redIAdd(b)).redIAdd(b)).redIAdd(b),t=f.redMul(p.redISub(e)).redISub(b)}return this.curve.jpoint(e,t,r)},u.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),s=t.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(n)),c=t.redAdd(t),l=(c=c.redIAdd(c)).redMul(o),u=a.redSqr().redISub(l.redAdd(l)),h=l.redISub(u),d=o.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=a.redMul(h).redISub(d),p=r.redAdd(r).redMul(i);return this.curve.jpoint(u,f,p)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),n=e.redAdd(e).redIAdd(e),s=n.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(i),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),c=i.redIAdd(i);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var l=n.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(c),u=t.redMul(l);u=(u=u.redIAdd(u)).redIAdd(u);var h=this.x.redMul(a).redISub(u);h=(h=h.redIAdd(h)).redIAdd(h);var d=this.y.redMul(l.redMul(c.redISub(l)).redISub(o.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,d,f)},u.prototype.mul=function(e,t){return e=new n(e,t),this.curve._wnafMul(this,e)},u.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var i=t.redMul(this.z),n=r.redMul(e.z);return 0===this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)},u.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var i=e.clone(),n=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),0===this.x.cmp(r))return!0}},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},8184:(e,t,r)=>{"use strict";var i,n=t,s=r(3697),o=r(998),a=r(4843).assert;function c(e){"short"===e.type?this.curve=new o.short(e):"edwards"===e.type?this.curve=new o.edwards(e):this.curve=new o.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function l(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new c(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=c,l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=r(4419)}catch(u){i=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},7551:(e,t,r)=>{"use strict";var i=r(3412),n=r(1172),s=r(4843),o=r(8184),a=r(8462),c=s.assert,l=r(7051),u=r(2633);function h(e){if(!(this instanceof h))return new h(e);"string"===typeof e&&(c(Object.prototype.hasOwnProperty.call(o,e),"Unknown curve "+e),e=o[e]),e instanceof o.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=h,h.prototype.keyPair=function(e){return new l(this,e)},h.prototype.keyFromPrivate=function(e,t){return l.fromPrivate(this,e,t)},h.prototype.keyFromPublic=function(e,t){return l.fromPublic(this,e,t)},h.prototype.genKeyPair=function(e){e||(e={});for(var t=new n({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||a(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),s=this.n.sub(new i(2));;){var o=new i(t.generate(r));if(!(o.cmp(s)>0))return o.iaddn(1),this.keyFromPrivate(o)}},h.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},h.prototype.sign=function(e,t,r,s){"object"===typeof r&&(s=r,r=null),s||(s={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new i(e,16));for(var o=this.n.byteLength(),a=t.getPrivate().toArray("be",o),c=e.toArray("be",o),l=new n({hash:this.hash,entropy:a,nonce:c,pers:s.pers,persEnc:s.persEnc||"utf8"}),h=this.n.sub(new i(1)),d=0;;d++){var f=s.k?s.k(d):new i(l.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(h)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var g=p.getX(),b=g.umod(this.n);if(0!==b.cmpn(0)){var m=f.invm(this.n).mul(b.mul(t.getPrivate()).iadd(e));if(0!==(m=m.umod(this.n)).cmpn(0)){var y=(p.getY().isOdd()?1:0)|(0!==g.cmp(b)?2:0);return s.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),y^=1),new u({r:b,s:m,recoveryParam:y})}}}}}},h.prototype.verify=function(e,t,r,n){e=this._truncateToN(new i(e,16)),r=this.keyFromPublic(r,n);var s=(t=new u(t,"hex")).r,o=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,c=o.invm(this.n),l=c.mul(e).umod(this.n),h=c.mul(s).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(l,r.getPublic(),h)).isInfinity()&&a.eqXToP(s):!(a=this.g.mulAdd(l,r.getPublic(),h)).isInfinity()&&0===a.getX().umod(this.n).cmp(s)},h.prototype.recoverPubKey=function(e,t,r,n){c((3&r)===r,"The recovery param is more than two bits"),t=new u(t,n);var s=this.n,o=new i(e),a=t.r,l=t.s,h=1&r,d=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");a=d?this.curve.pointFromX(a.add(this.curve.n),h):this.curve.pointFromX(a,h);var f=t.r.invm(s),p=s.sub(o).mul(f).umod(s),g=l.mul(f).umod(s);return this.g.mulAdd(p,a,g)},h.prototype.getKeyRecoveryParam=function(e,t,r,i){if(null!==(t=new u(t,i)).recoveryParam)return t.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(e,t,n)}catch(e){continue}if(s.eq(r))return n}throw new Error("Unable to find valid recovery factor")}},7051:(e,t,r)=>{"use strict";var i=r(3412),n=r(4843).assert;function s(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=s,s.fromPublic=function(e,t,r){return t instanceof s?t:new s(e,{pub:t,pubEnc:r})},s.fromPrivate=function(e,t,r){return t instanceof s?t:new s(e,{priv:t,privEnc:r})},s.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},s.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(e,t){this.priv=new i(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?n(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||n(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},s.prototype.derive=function(e){return e.validate()||n(e.validate(),"public point not validated"),e.mul(this.priv).getX()},s.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},s.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},2633:(e,t,r)=>{"use strict";var i=r(3412),n=r(4843),s=n.assert;function o(e,t){if(e instanceof o)return e;this._importDER(e,t)||(s(e.r&&e.s,"Signature without r or s"),this.r=new i(e.r,16),this.s=new i(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function a(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;var i=15&r;if(0===i||i>4)return!1;if(0===e[t.place])return!1;for(var n=0,s=0,o=t.place;s<i;s++,o++)n<<=8,n|=e[o],n>>>=0;return!(n<=127)&&(t.place=o,n)}function l(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function u(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}e.exports=o,o.prototype._importDER=function(e,t){e=n.toArray(e,t);var r=new a;if(48!==e[r.place++])return!1;var s=c(e,r);if(!1===s)return!1;if(s+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var o=c(e,r);if(!1===o)return!1;if(0!==(128&e[r.place]))return!1;var l=e.slice(r.place,o+r.place);if(r.place+=o,2!==e[r.place++])return!1;var u=c(e,r);if(!1===u)return!1;if(e.length!==u+r.place)return!1;if(0!==(128&e[r.place]))return!1;var h=e.slice(r.place,u+r.place);if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}if(0===h[0]){if(!(128&h[1]))return!1;h=h.slice(1)}return this.r=new i(l),this.s=new i(h),this.recoveryParam=null,!0},o.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=l(t),r=l(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var i=[2];u(i,t.length),(i=i.concat(t)).push(2),u(i,r.length);var s=i.concat(r),o=[48];return u(o,s.length),o=o.concat(s),n.encode(o,e)}},7282:(e,t,r)=>{"use strict";var i=r(3697),n=r(8184),s=r(4843),o=s.assert,a=s.parseBytes,c=r(2445),l=r(7316);function u(e){if(o("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof u))return new u(e);e=n[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=i.sha512}e.exports=u,u.prototype.sign=function(e,t){e=a(e);var r=this.keyFromSecret(t),i=this.hashInt(r.messagePrefix(),e),n=this.g.mul(i),s=this.encodePoint(n),o=this.hashInt(s,r.pubBytes(),e).mul(r.priv()),c=i.add(o).umod(this.curve.n);return this.makeSignature({R:n,S:c,Rencoded:s})},u.prototype.verify=function(e,t,r){if(e=a(e),(t=this.makeSignature(t)).S().gte(t.eddsa.curve.n)||t.S().isNeg())return!1;var i=this.keyFromPublic(r),n=this.hashInt(t.Rencoded(),i.pubBytes(),e),s=this.g.mul(t.S());return t.R().add(i.pub().mul(n)).eq(s)},u.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return s.intFromLE(e.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},u.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},u.prototype.makeSignature=function(e){return e instanceof l?e:new l(this,e)},u.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},u.prototype.decodePoint=function(e){var t=(e=s.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),i=0!==(128&e[t]),n=s.intFromLE(r);return this.curve.pointFromY(n,i)},u.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(e){return s.intFromLE(e)},u.prototype.isPoint=function(e){return e instanceof this.pointClass}},2445:(e,t,r)=>{"use strict";var i=r(4843),n=i.assert,s=i.parseBytes,o=i.cachedProperty;function a(e,t){this.eddsa=e,this._secret=s(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=s(t.pub)}a.fromPublic=function(e,t){return t instanceof a?t:new a(e,{pub:t})},a.fromSecret=function(e,t){return t instanceof a?t:new a(e,{secret:t})},a.prototype.secret=function(){return this._secret},o(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),o(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),o(a,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,i=t.slice(0,e.encodingLength);return i[0]&=248,i[r]&=127,i[r]|=64,i})),o(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),o(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),o(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(e){return n(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},a.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},a.prototype.getSecret=function(e){return n(this._secret,"KeyPair is public only"),i.encode(this.secret(),e)},a.prototype.getPublic=function(e){return i.encode(this.pubBytes(),e)},e.exports=a},7316:(e,t,r)=>{"use strict";var i=r(3412),n=r(4843),s=n.assert,o=n.cachedProperty,a=n.parseBytes;function c(e,t){this.eddsa=e,"object"!==typeof t&&(t=a(t)),Array.isArray(t)&&(s(t.length===2*e.encodingLength,"Signature has invalid size"),t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),s(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof i&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}o(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),o(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),o(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),o(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return n.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},4419:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},4843:(e,t,r)=>{"use strict";var i=t,n=r(3412),s=r(5482),o=r(9848);i.assert=s,i.toArray=o.toArray,i.zero2=o.zero2,i.toHex=o.toHex,i.encode=o.encode,i.getNAF=function(e,t,r){var i,n=new Array(Math.max(e.bitLength(),r)+1);for(i=0;i<n.length;i+=1)n[i]=0;var s=1<<t+1,o=e.clone();for(i=0;i<n.length;i++){var a,c=o.andln(s-1);o.isOdd()?(a=c>(s>>1)-1?(s>>1)-c:c,o.isubn(a)):a=0,n[i]=a,o.iushrn(1)}return n},i.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var i,n=0,s=0;e.cmpn(-n)>0||t.cmpn(-s)>0;){var o,a,c=e.andln(3)+n&3,l=t.andln(3)+s&3;3===c&&(c=-1),3===l&&(l=-1),o=0===(1&c)?0:3!==(i=e.andln(7)+n&7)&&5!==i||2!==l?c:-c,r[0].push(o),a=0===(1&l)?0:3!==(i=t.andln(7)+s&7)&&5!==i||2!==c?l:-l,r[1].push(a),2*n===o+1&&(n=1-n),2*s===a+1&&(s=1-s),e.iushrn(1),t.iushrn(1)}return r},i.cachedProperty=function(e,t,r){var i="_"+t;e.prototype[t]=function(){return void 0!==this[i]?this[i]:this[i]=r.call(this)}},i.parseBytes=function(e){return"string"===typeof e?i.toArray(e,"hex"):e},i.intFromLE=function(e){return new n(e,"hex","le")}},8251:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(6121);i.__exportStar(r(8951),t),i.__exportStar(r(5746),t)},8951:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},5746:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},3901:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(6121);i.__exportStar(r(5871),t),i.__exportStar(r(1822),t),i.__exportStar(r(1067),t),i.__exportStar(r(8251),t)},1067:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(6121).__exportStar(r(656),t)},656:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0;t.IWatch=class{}},568:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;const i=r(8251);t.toMiliseconds=function(e){return e*i.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/i.ONE_THOUSAND)}},296:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise((t=>{setTimeout((()=>{t(!0)}),e)}))}},5871:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(6121);i.__exportStar(r(296),t),i.__exportStar(r(568),t)},1822:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error("Watch already started for label: ".concat(e));this.timestamps.set(e,{started:Date.now()})}stop(e){const t=this.get(e);if("undefined"!==typeof t.elapsed)throw new Error("Watch already stopped for label: ".concat(e));const r=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:r})}get(e){const t=this.timestamps.get(e);if("undefined"===typeof t)throw new Error("No timestamp found for label: ".concat(e));return t}elapsed(e){const t=this.get(e);return t.elapsed||Date.now()-t.started}}t.Watch=r,t.default=r},6121:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>s,__asyncDelegator:()=>w,__asyncGenerator:()=>v,__asyncValues:()=>S,__await:()=>y,__awaiter:()=>u,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>x,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>f,__extends:()=>n,__generator:()=>h,__importDefault:()=>M,__importStar:()=>_,__makeTemplateObject:()=>E,__metadata:()=>l,__param:()=>c,__read:()=>g,__rest:()=>o,__spread:()=>b,__spreadArrays:()=>m,__values:()=>p});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},i(e,t)};function n(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return s=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},s.apply(this,arguments)};function o(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r}function a(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function c(e,t){return function(r,i){t(r,i,e)}}function l(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(t){s(t)}}function a(e){try{c(i.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))}function h(e,t){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}function f(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function m(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var i=Array(e),n=0;for(t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,n++)i[n]=s[o];return i}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function v(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=r.apply(e,t||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(e){n[e]&&(i[e]=function(t){return new Promise((function(r,i){s.push([e,t,r,i])>1||a(e,t)}))})}function a(e,t){try{(r=n[e](t)).value instanceof y?Promise.resolve(r.value.v).then(c,l):u(s[0][2],r)}catch(i){u(s[0][3],i)}var r}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function w(e){var t,r;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,n){t[i]=e[i]?function(t){return(r=!r)?{value:y(e[i](t)),done:"return"===i}:n?n(t):t}:n}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=e[r]&&function(t){return new Promise((function(i,n){(function(e,t,r,i){Promise.resolve(i).then((function(t){e({value:t,done:r})}),t)})(i,n,(t=e[r](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function M(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function x(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},3156:()=>{},2293:function(e,t,r){!function(e,t){"use strict";function i(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function s(e,t,r){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"===typeof e?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(6448).Buffer}catch(I){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(e,t,r){var i=a(e,r);return r-1>=t&&(i|=a(e,r-1)<<4),i}function l(e,t,r,i){for(var n=0,s=Math.min(e.length,r),o=t;o<s;o++){var a=e.charCodeAt(o)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}s.isBN=function(e){return e instanceof s||null!==e&&"object"===typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,r){if("number"===typeof e)return this._initNumber(e,t,r);if("object"===typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),i(t===(0|t)&&t>=2&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<e.length&&(16===t?this._parseHex(e,n,r):(this._parseBase(e,t,n),"le"===r&&this._initArray(this.toArray(),t,r)))},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(i(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(i("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var s,o,a=0;if("be"===r)for(n=e.length-1,s=0;n>=0;n-=3)o=e[n]|e[n-1]<<8|e[n-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(n=0,s=0;n<e.length;n+=3)o=e[n]|e[n+1]<<8|e[n+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,s=0,o=0;if("be"===r)for(i=e.length-1;i>=t;i-=2)n=c(e,t,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;else for(i=(e.length-t)%2===0?t+1:t;i<e.length;i+=2)n=c(e,t,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;this.strip()},s.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=t)i++;i--,n=n/t|0;for(var s=e.length-r,o=s%i,a=Math.min(s,s-o)+r,c=0,u=r;u<a;u+=i)c=l(e,u,u+i,t),this.imuln(n),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var h=1;for(c=l(e,u,e.length,t),u=0;u<o;u++)h*=t;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,r){r.negative=t.negative^e.negative;var i=e.length+t.length|0;r.length=i,i=i-1|0;var n=0|e.words[0],s=0|t.words[0],o=n*s,a=67108863&o,c=o/67108864|0;r.words[0]=a;for(var l=1;l<i;l++){for(var u=c>>>26,h=67108863&c,d=Math.min(l,t.length-1),f=Math.max(0,l-e.length+1);f<=d;f++){var p=l-f|0;u+=(o=(n=0|e.words[p])*(s=0|t.words[f])+h)/67108864|0,h=67108863&o}r.words[l]=0|h,c=0|u}return 0!==c?r.words[l]=0|c:r.length--,r.strip()}s.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var n=0,s=0,o=0;o<this.length;o++){var a=this.words[o],c=(16777215&(a<<n|s)).toString(16);s=a>>>24-n&16777215,(n+=2)>=26&&(n-=26,o--),r=0!==s||o!==this.length-1?u[6-c.length]+c+r:c+r}for(0!==s&&(r=s.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var l=h[e],f=d[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(f).toString(e);r=(p=p.idivn(f)).isZero()?g+r:u[l-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(e,t){return i("undefined"!==typeof o),this.toArrayLike(o,e,t)},s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,r){var n=this.byteLength(),s=r||Math.max(1,n);i(n<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0"),this.strip();var o,a,c="le"===t,l=new e(s),u=this.clone();if(c){for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),l[a]=o;for(;a<s;a++)l[a]=0}else{for(a=0;a<s-n;a++)l[a]=0;for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),l[s-a-1]=o}return l},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},s.prototype.ior=function(e){return i(0===(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},s.prototype.iand=function(e){return i(0===(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var i=0;i<r.length;i++)this.words[i]=t.words[i]^r.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},s.prototype.ixor=function(e){return i(0===(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){i("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var n=0;n<t;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this.strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){i("number"===typeof e&&e>=0);var r=e/26|0,n=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<n:this.words[r]&~(1<<n),this.strip()},s.prototype.iadd=function(e){var t,r,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,i=e):(r=e,i=this);for(var n=0,s=0;s<i.length;s++)t=(0|r.words[s])+(0|i.words[s])+n,this.words[s]=67108863&t,n=t>>>26;for(;0!==n&&s<r.length;s++)t=(0|r.words[s])+n,this.words[s]=67108863&t,n=t>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,i,n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=e):(r=e,i=this);for(var s=0,o=0;o<i.length;o++)s=(t=(0|r.words[o])-(0|i.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<r.length;o++)s=(t=(0|r.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var i,n,s,o=e.words,a=t.words,c=r.words,l=0,u=0|o[0],h=8191&u,d=u>>>13,f=0|o[1],p=8191&f,g=f>>>13,b=0|o[2],m=8191&b,y=b>>>13,v=0|o[3],w=8191&v,S=v>>>13,E=0|o[4],_=8191&E,M=E>>>13,I=0|o[5],x=8191&I,A=I>>>13,P=0|o[6],k=8191&P,O=P>>>13,N=0|o[7],R=8191&N,T=N>>>13,C=0|o[8],L=8191&C,z=C>>>13,U=0|o[9],D=8191&U,q=U>>>13,j=0|a[0],B=8191&j,F=j>>>13,K=0|a[1],V=8191&K,H=K>>>13,W=0|a[2],G=8191&W,J=W>>>13,Y=0|a[3],Z=8191&Y,X=Y>>>13,$=0|a[4],Q=8191&$,ee=$>>>13,te=0|a[5],re=8191&te,ie=te>>>13,ne=0|a[6],se=8191&ne,oe=ne>>>13,ae=0|a[7],ce=8191&ae,le=ae>>>13,ue=0|a[8],he=8191&ue,de=ue>>>13,fe=0|a[9],pe=8191&fe,ge=fe>>>13;r.negative=e.negative^t.negative,r.length=19;var be=(l+(i=Math.imul(h,B))|0)+((8191&(n=(n=Math.imul(h,F))+Math.imul(d,B)|0))<<13)|0;l=((s=Math.imul(d,F))+(n>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(p,B),n=(n=Math.imul(p,F))+Math.imul(g,B)|0,s=Math.imul(g,F);var me=(l+(i=i+Math.imul(h,V)|0)|0)+((8191&(n=(n=n+Math.imul(h,H)|0)+Math.imul(d,V)|0))<<13)|0;l=((s=s+Math.imul(d,H)|0)+(n>>>13)|0)+(me>>>26)|0,me&=67108863,i=Math.imul(m,B),n=(n=Math.imul(m,F))+Math.imul(y,B)|0,s=Math.imul(y,F),i=i+Math.imul(p,V)|0,n=(n=n+Math.imul(p,H)|0)+Math.imul(g,V)|0,s=s+Math.imul(g,H)|0;var ye=(l+(i=i+Math.imul(h,G)|0)|0)+((8191&(n=(n=n+Math.imul(h,J)|0)+Math.imul(d,G)|0))<<13)|0;l=((s=s+Math.imul(d,J)|0)+(n>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(w,B),n=(n=Math.imul(w,F))+Math.imul(S,B)|0,s=Math.imul(S,F),i=i+Math.imul(m,V)|0,n=(n=n+Math.imul(m,H)|0)+Math.imul(y,V)|0,s=s+Math.imul(y,H)|0,i=i+Math.imul(p,G)|0,n=(n=n+Math.imul(p,J)|0)+Math.imul(g,G)|0,s=s+Math.imul(g,J)|0;var ve=(l+(i=i+Math.imul(h,Z)|0)|0)+((8191&(n=(n=n+Math.imul(h,X)|0)+Math.imul(d,Z)|0))<<13)|0;l=((s=s+Math.imul(d,X)|0)+(n>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(_,B),n=(n=Math.imul(_,F))+Math.imul(M,B)|0,s=Math.imul(M,F),i=i+Math.imul(w,V)|0,n=(n=n+Math.imul(w,H)|0)+Math.imul(S,V)|0,s=s+Math.imul(S,H)|0,i=i+Math.imul(m,G)|0,n=(n=n+Math.imul(m,J)|0)+Math.imul(y,G)|0,s=s+Math.imul(y,J)|0,i=i+Math.imul(p,Z)|0,n=(n=n+Math.imul(p,X)|0)+Math.imul(g,Z)|0,s=s+Math.imul(g,X)|0;var we=(l+(i=i+Math.imul(h,Q)|0)|0)+((8191&(n=(n=n+Math.imul(h,ee)|0)+Math.imul(d,Q)|0))<<13)|0;l=((s=s+Math.imul(d,ee)|0)+(n>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(x,B),n=(n=Math.imul(x,F))+Math.imul(A,B)|0,s=Math.imul(A,F),i=i+Math.imul(_,V)|0,n=(n=n+Math.imul(_,H)|0)+Math.imul(M,V)|0,s=s+Math.imul(M,H)|0,i=i+Math.imul(w,G)|0,n=(n=n+Math.imul(w,J)|0)+Math.imul(S,G)|0,s=s+Math.imul(S,J)|0,i=i+Math.imul(m,Z)|0,n=(n=n+Math.imul(m,X)|0)+Math.imul(y,Z)|0,s=s+Math.imul(y,X)|0,i=i+Math.imul(p,Q)|0,n=(n=n+Math.imul(p,ee)|0)+Math.imul(g,Q)|0,s=s+Math.imul(g,ee)|0;var Se=(l+(i=i+Math.imul(h,re)|0)|0)+((8191&(n=(n=n+Math.imul(h,ie)|0)+Math.imul(d,re)|0))<<13)|0;l=((s=s+Math.imul(d,ie)|0)+(n>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(k,B),n=(n=Math.imul(k,F))+Math.imul(O,B)|0,s=Math.imul(O,F),i=i+Math.imul(x,V)|0,n=(n=n+Math.imul(x,H)|0)+Math.imul(A,V)|0,s=s+Math.imul(A,H)|0,i=i+Math.imul(_,G)|0,n=(n=n+Math.imul(_,J)|0)+Math.imul(M,G)|0,s=s+Math.imul(M,J)|0,i=i+Math.imul(w,Z)|0,n=(n=n+Math.imul(w,X)|0)+Math.imul(S,Z)|0,s=s+Math.imul(S,X)|0,i=i+Math.imul(m,Q)|0,n=(n=n+Math.imul(m,ee)|0)+Math.imul(y,Q)|0,s=s+Math.imul(y,ee)|0,i=i+Math.imul(p,re)|0,n=(n=n+Math.imul(p,ie)|0)+Math.imul(g,re)|0,s=s+Math.imul(g,ie)|0;var Ee=(l+(i=i+Math.imul(h,se)|0)|0)+((8191&(n=(n=n+Math.imul(h,oe)|0)+Math.imul(d,se)|0))<<13)|0;l=((s=s+Math.imul(d,oe)|0)+(n>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(R,B),n=(n=Math.imul(R,F))+Math.imul(T,B)|0,s=Math.imul(T,F),i=i+Math.imul(k,V)|0,n=(n=n+Math.imul(k,H)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,H)|0,i=i+Math.imul(x,G)|0,n=(n=n+Math.imul(x,J)|0)+Math.imul(A,G)|0,s=s+Math.imul(A,J)|0,i=i+Math.imul(_,Z)|0,n=(n=n+Math.imul(_,X)|0)+Math.imul(M,Z)|0,s=s+Math.imul(M,X)|0,i=i+Math.imul(w,Q)|0,n=(n=n+Math.imul(w,ee)|0)+Math.imul(S,Q)|0,s=s+Math.imul(S,ee)|0,i=i+Math.imul(m,re)|0,n=(n=n+Math.imul(m,ie)|0)+Math.imul(y,re)|0,s=s+Math.imul(y,ie)|0,i=i+Math.imul(p,se)|0,n=(n=n+Math.imul(p,oe)|0)+Math.imul(g,se)|0,s=s+Math.imul(g,oe)|0;var _e=(l+(i=i+Math.imul(h,ce)|0)|0)+((8191&(n=(n=n+Math.imul(h,le)|0)+Math.imul(d,ce)|0))<<13)|0;l=((s=s+Math.imul(d,le)|0)+(n>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(L,B),n=(n=Math.imul(L,F))+Math.imul(z,B)|0,s=Math.imul(z,F),i=i+Math.imul(R,V)|0,n=(n=n+Math.imul(R,H)|0)+Math.imul(T,V)|0,s=s+Math.imul(T,H)|0,i=i+Math.imul(k,G)|0,n=(n=n+Math.imul(k,J)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,J)|0,i=i+Math.imul(x,Z)|0,n=(n=n+Math.imul(x,X)|0)+Math.imul(A,Z)|0,s=s+Math.imul(A,X)|0,i=i+Math.imul(_,Q)|0,n=(n=n+Math.imul(_,ee)|0)+Math.imul(M,Q)|0,s=s+Math.imul(M,ee)|0,i=i+Math.imul(w,re)|0,n=(n=n+Math.imul(w,ie)|0)+Math.imul(S,re)|0,s=s+Math.imul(S,ie)|0,i=i+Math.imul(m,se)|0,n=(n=n+Math.imul(m,oe)|0)+Math.imul(y,se)|0,s=s+Math.imul(y,oe)|0,i=i+Math.imul(p,ce)|0,n=(n=n+Math.imul(p,le)|0)+Math.imul(g,ce)|0,s=s+Math.imul(g,le)|0;var Me=(l+(i=i+Math.imul(h,he)|0)|0)+((8191&(n=(n=n+Math.imul(h,de)|0)+Math.imul(d,he)|0))<<13)|0;l=((s=s+Math.imul(d,de)|0)+(n>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(D,B),n=(n=Math.imul(D,F))+Math.imul(q,B)|0,s=Math.imul(q,F),i=i+Math.imul(L,V)|0,n=(n=n+Math.imul(L,H)|0)+Math.imul(z,V)|0,s=s+Math.imul(z,H)|0,i=i+Math.imul(R,G)|0,n=(n=n+Math.imul(R,J)|0)+Math.imul(T,G)|0,s=s+Math.imul(T,J)|0,i=i+Math.imul(k,Z)|0,n=(n=n+Math.imul(k,X)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,X)|0,i=i+Math.imul(x,Q)|0,n=(n=n+Math.imul(x,ee)|0)+Math.imul(A,Q)|0,s=s+Math.imul(A,ee)|0,i=i+Math.imul(_,re)|0,n=(n=n+Math.imul(_,ie)|0)+Math.imul(M,re)|0,s=s+Math.imul(M,ie)|0,i=i+Math.imul(w,se)|0,n=(n=n+Math.imul(w,oe)|0)+Math.imul(S,se)|0,s=s+Math.imul(S,oe)|0,i=i+Math.imul(m,ce)|0,n=(n=n+Math.imul(m,le)|0)+Math.imul(y,ce)|0,s=s+Math.imul(y,le)|0,i=i+Math.imul(p,he)|0,n=(n=n+Math.imul(p,de)|0)+Math.imul(g,he)|0,s=s+Math.imul(g,de)|0;var Ie=(l+(i=i+Math.imul(h,pe)|0)|0)+((8191&(n=(n=n+Math.imul(h,ge)|0)+Math.imul(d,pe)|0))<<13)|0;l=((s=s+Math.imul(d,ge)|0)+(n>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,i=Math.imul(D,V),n=(n=Math.imul(D,H))+Math.imul(q,V)|0,s=Math.imul(q,H),i=i+Math.imul(L,G)|0,n=(n=n+Math.imul(L,J)|0)+Math.imul(z,G)|0,s=s+Math.imul(z,J)|0,i=i+Math.imul(R,Z)|0,n=(n=n+Math.imul(R,X)|0)+Math.imul(T,Z)|0,s=s+Math.imul(T,X)|0,i=i+Math.imul(k,Q)|0,n=(n=n+Math.imul(k,ee)|0)+Math.imul(O,Q)|0,s=s+Math.imul(O,ee)|0,i=i+Math.imul(x,re)|0,n=(n=n+Math.imul(x,ie)|0)+Math.imul(A,re)|0,s=s+Math.imul(A,ie)|0,i=i+Math.imul(_,se)|0,n=(n=n+Math.imul(_,oe)|0)+Math.imul(M,se)|0,s=s+Math.imul(M,oe)|0,i=i+Math.imul(w,ce)|0,n=(n=n+Math.imul(w,le)|0)+Math.imul(S,ce)|0,s=s+Math.imul(S,le)|0,i=i+Math.imul(m,he)|0,n=(n=n+Math.imul(m,de)|0)+Math.imul(y,he)|0,s=s+Math.imul(y,de)|0;var xe=(l+(i=i+Math.imul(p,pe)|0)|0)+((8191&(n=(n=n+Math.imul(p,ge)|0)+Math.imul(g,pe)|0))<<13)|0;l=((s=s+Math.imul(g,ge)|0)+(n>>>13)|0)+(xe>>>26)|0,xe&=67108863,i=Math.imul(D,G),n=(n=Math.imul(D,J))+Math.imul(q,G)|0,s=Math.imul(q,J),i=i+Math.imul(L,Z)|0,n=(n=n+Math.imul(L,X)|0)+Math.imul(z,Z)|0,s=s+Math.imul(z,X)|0,i=i+Math.imul(R,Q)|0,n=(n=n+Math.imul(R,ee)|0)+Math.imul(T,Q)|0,s=s+Math.imul(T,ee)|0,i=i+Math.imul(k,re)|0,n=(n=n+Math.imul(k,ie)|0)+Math.imul(O,re)|0,s=s+Math.imul(O,ie)|0,i=i+Math.imul(x,se)|0,n=(n=n+Math.imul(x,oe)|0)+Math.imul(A,se)|0,s=s+Math.imul(A,oe)|0,i=i+Math.imul(_,ce)|0,n=(n=n+Math.imul(_,le)|0)+Math.imul(M,ce)|0,s=s+Math.imul(M,le)|0,i=i+Math.imul(w,he)|0,n=(n=n+Math.imul(w,de)|0)+Math.imul(S,he)|0,s=s+Math.imul(S,de)|0;var Ae=(l+(i=i+Math.imul(m,pe)|0)|0)+((8191&(n=(n=n+Math.imul(m,ge)|0)+Math.imul(y,pe)|0))<<13)|0;l=((s=s+Math.imul(y,ge)|0)+(n>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,i=Math.imul(D,Z),n=(n=Math.imul(D,X))+Math.imul(q,Z)|0,s=Math.imul(q,X),i=i+Math.imul(L,Q)|0,n=(n=n+Math.imul(L,ee)|0)+Math.imul(z,Q)|0,s=s+Math.imul(z,ee)|0,i=i+Math.imul(R,re)|0,n=(n=n+Math.imul(R,ie)|0)+Math.imul(T,re)|0,s=s+Math.imul(T,ie)|0,i=i+Math.imul(k,se)|0,n=(n=n+Math.imul(k,oe)|0)+Math.imul(O,se)|0,s=s+Math.imul(O,oe)|0,i=i+Math.imul(x,ce)|0,n=(n=n+Math.imul(x,le)|0)+Math.imul(A,ce)|0,s=s+Math.imul(A,le)|0,i=i+Math.imul(_,he)|0,n=(n=n+Math.imul(_,de)|0)+Math.imul(M,he)|0,s=s+Math.imul(M,de)|0;var Pe=(l+(i=i+Math.imul(w,pe)|0)|0)+((8191&(n=(n=n+Math.imul(w,ge)|0)+Math.imul(S,pe)|0))<<13)|0;l=((s=s+Math.imul(S,ge)|0)+(n>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(D,Q),n=(n=Math.imul(D,ee))+Math.imul(q,Q)|0,s=Math.imul(q,ee),i=i+Math.imul(L,re)|0,n=(n=n+Math.imul(L,ie)|0)+Math.imul(z,re)|0,s=s+Math.imul(z,ie)|0,i=i+Math.imul(R,se)|0,n=(n=n+Math.imul(R,oe)|0)+Math.imul(T,se)|0,s=s+Math.imul(T,oe)|0,i=i+Math.imul(k,ce)|0,n=(n=n+Math.imul(k,le)|0)+Math.imul(O,ce)|0,s=s+Math.imul(O,le)|0,i=i+Math.imul(x,he)|0,n=(n=n+Math.imul(x,de)|0)+Math.imul(A,he)|0,s=s+Math.imul(A,de)|0;var ke=(l+(i=i+Math.imul(_,pe)|0)|0)+((8191&(n=(n=n+Math.imul(_,ge)|0)+Math.imul(M,pe)|0))<<13)|0;l=((s=s+Math.imul(M,ge)|0)+(n>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(D,re),n=(n=Math.imul(D,ie))+Math.imul(q,re)|0,s=Math.imul(q,ie),i=i+Math.imul(L,se)|0,n=(n=n+Math.imul(L,oe)|0)+Math.imul(z,se)|0,s=s+Math.imul(z,oe)|0,i=i+Math.imul(R,ce)|0,n=(n=n+Math.imul(R,le)|0)+Math.imul(T,ce)|0,s=s+Math.imul(T,le)|0,i=i+Math.imul(k,he)|0,n=(n=n+Math.imul(k,de)|0)+Math.imul(O,he)|0,s=s+Math.imul(O,de)|0;var Oe=(l+(i=i+Math.imul(x,pe)|0)|0)+((8191&(n=(n=n+Math.imul(x,ge)|0)+Math.imul(A,pe)|0))<<13)|0;l=((s=s+Math.imul(A,ge)|0)+(n>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,i=Math.imul(D,se),n=(n=Math.imul(D,oe))+Math.imul(q,se)|0,s=Math.imul(q,oe),i=i+Math.imul(L,ce)|0,n=(n=n+Math.imul(L,le)|0)+Math.imul(z,ce)|0,s=s+Math.imul(z,le)|0,i=i+Math.imul(R,he)|0,n=(n=n+Math.imul(R,de)|0)+Math.imul(T,he)|0,s=s+Math.imul(T,de)|0;var Ne=(l+(i=i+Math.imul(k,pe)|0)|0)+((8191&(n=(n=n+Math.imul(k,ge)|0)+Math.imul(O,pe)|0))<<13)|0;l=((s=s+Math.imul(O,ge)|0)+(n>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,i=Math.imul(D,ce),n=(n=Math.imul(D,le))+Math.imul(q,ce)|0,s=Math.imul(q,le),i=i+Math.imul(L,he)|0,n=(n=n+Math.imul(L,de)|0)+Math.imul(z,he)|0,s=s+Math.imul(z,de)|0;var Re=(l+(i=i+Math.imul(R,pe)|0)|0)+((8191&(n=(n=n+Math.imul(R,ge)|0)+Math.imul(T,pe)|0))<<13)|0;l=((s=s+Math.imul(T,ge)|0)+(n>>>13)|0)+(Re>>>26)|0,Re&=67108863,i=Math.imul(D,he),n=(n=Math.imul(D,de))+Math.imul(q,he)|0,s=Math.imul(q,de);var Te=(l+(i=i+Math.imul(L,pe)|0)|0)+((8191&(n=(n=n+Math.imul(L,ge)|0)+Math.imul(z,pe)|0))<<13)|0;l=((s=s+Math.imul(z,ge)|0)+(n>>>13)|0)+(Te>>>26)|0,Te&=67108863;var Ce=(l+(i=Math.imul(D,pe))|0)+((8191&(n=(n=Math.imul(D,ge))+Math.imul(q,pe)|0))<<13)|0;return l=((s=Math.imul(q,ge))+(n>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,c[0]=be,c[1]=me,c[2]=ye,c[3]=ve,c[4]=we,c[5]=Se,c[6]=Ee,c[7]=_e,c[8]=Me,c[9]=Ie,c[10]=xe,c[11]=Ae,c[12]=Pe,c[13]=ke,c[14]=Oe,c[15]=Ne,c[16]=Re,c[17]=Te,c[18]=Ce,0!==l&&(c[19]=l,r.length++),r};function g(e,t,r){return(new b).mulp(e,t,r)}function b(e,t){this.x=e,this.y=t}Math.imul||(p=f),s.prototype.mulTo=function(e,t){var r,i=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):i<63?f(this,e,t):i<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var i=0,n=0,s=0;s<r.length-1;s++){var o=n;n=0;for(var a=67108863&i,c=Math.min(s,t.length-1),l=Math.max(0,s-e.length+1);l<=c;l++){var u=s-l,h=(0|e.words[u])*(0|t.words[l]),d=67108863&h;a=67108863&(d=d+a|0),n+=(o=(o=o+(h/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[s]=a,i=o,o=n}return 0!==i?r.words[s]=i:r.length--,r.strip()}(this,e,t):g(this,e,t),r},b.prototype.makeRBT=function(e){for(var t=new Array(e),r=s.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var i=0,n=0;n<t;n++)i|=(1&e)<<t-n-1,e>>=1;return i},b.prototype.permute=function(e,t,r,i,n,s){for(var o=0;o<s;o++)i[o]=t[e[o]],n[o]=r[e[o]]},b.prototype.transform=function(e,t,r,i,n,s){this.permute(s,e,t,r,i,n);for(var o=1;o<n;o<<=1)for(var a=o<<1,c=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),u=0;u<n;u+=a)for(var h=c,d=l,f=0;f<o;f++){var p=r[u+f],g=i[u+f],b=r[u+f+o],m=i[u+f+o],y=h*b-d*m;m=h*m+d*b,b=y,r[u+f]=p+b,i[u+f]=g+m,r[u+f+o]=p-b,i[u+f+o]=g-m,f!==a&&(y=c*h-l*d,d=c*d+l*h,h=y)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=e[i];e[i]=e[r-i-1],e[r-i-1]=n,n=t[i],t[i]=-t[r-i-1],t[r-i-1]=-n}},b.prototype.normalize13b=function(e,t){for(var r=0,i=0;i<t/2;i++){var n=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+r;e[i]=67108863&n,r=n<67108864?0:n/67108864|0}return e},b.prototype.convert13b=function(e,t,r,n){for(var s=0,o=0;o<t;o++)s+=0|e[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<n;++o)r[o]=0;i(0===s),i(0===(-8192&s))},b.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){var i=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(i),s=this.stub(i),o=new Array(i),a=new Array(i),c=new Array(i),l=new Array(i),u=new Array(i),h=new Array(i),d=r.words;d.length=i,this.convert13b(e.words,e.length,o,i),this.convert13b(t.words,t.length,l,i),this.transform(o,s,a,c,i,n),this.transform(l,s,u,h,i,n);for(var f=0;f<i;f++){var p=a[f]*u[f]-c[f]*h[f];c[f]=a[f]*h[f]+c[f]*u[f],a[f]=p}return this.conjugate(a,c,i),this.transform(a,c,d,s,i,n),this.conjugate(d,s,i),this.normalize13b(d,i),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),g(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){i("number"===typeof e),i(e<67108864);for(var t=0,r=0;r<this.length;r++){var n=(0|this.words[r])*e,s=(67108863&n)+(67108863&t);t>>=26,t+=n/67108864|0,t+=s>>>26,this.words[r]=67108863&s}return 0!==t&&(this.words[r]=t,this.length++),this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var i=r/26|0,n=r%26;t[r]=(e.words[i]&1<<n)>>>n}return t}(e);if(0===t.length)return new s(1);for(var r=this,i=0;i<t.length&&0===t[i];i++,r=r.sqr());if(++i<t.length)for(var n=r.sqr();i<t.length;i++,n=n.sqr())0!==t[i]&&(r=r.mul(n));return r},s.prototype.iushln=function(e){i("number"===typeof e&&e>=0);var t,r=e%26,n=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,c=(0|this.words[t])-a<<r;this.words[t]=c|o,o=a>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==n){for(t=this.length-1;t>=0;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this.strip()},s.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){var n;i("number"===typeof e&&e>=0),n=t?(t-t%26)/26:0;var s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s,c=r;if(n-=o,n=Math.max(0,n),c){for(var l=0;l<o;l++)c.words[l]=this.words[l];c.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=n);l--){var h=0|this.words[l];this.words[l]=u<<26-s|h>>>s,u=h&a}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(e,t,r){return i(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){i("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26,n=1<<t;return!(this.length<=r)&&!!(this.words[r]&n)},s.prototype.imaskn=function(e){i("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var n=67108863^67108863>>>t<<t;this.words[this.length-1]&=n}return this.strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return i("number"===typeof e),i(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(i("number"===typeof e),i(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var n,s,o=e.length+r;this._expand(o);var a=0;for(n=0;n<e.length;n++){s=(0|this.words[n+r])+a;var c=(0|e.words[n])*t;a=((s-=67108863&c)>>26)-(c/67108864|0),this.words[n+r]=67108863&s}for(;n<this.length-r;n++)a=(s=(0|this.words[n+r])+a)>>26,this.words[n+r]=67108863&s;if(0===a)return this.strip();for(i(-1===a),a=0,n=0;n<this.length;n++)a=(s=-(0|this.words[n])+a)>>26,this.words[n]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(e,t){var r=(this.length,e.length),i=this.clone(),n=e,o=0|n.words[n.length-1];0!==(r=26-this._countBits(o))&&(n=n.ushln(r),i.iushln(r),o=0|n.words[n.length-1]);var a,c=i.length-n.length;if("mod"!==t){(a=new s(null)).length=c+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var u=i.clone()._ishlnsubmul(n,1,c);0===u.negative&&(i=u,a&&(a.words[c]=1));for(var h=c-1;h>=0;h--){var d=67108864*(0|i.words[n.length+h])+(0|i.words[n.length+h-1]);for(d=Math.min(d/o|0,67108863),i._ishlnsubmul(n,d,h);0!==i.negative;)d--,i.negative=0,i._ishlnsubmul(n,1,h),i.isZero()||(i.negative^=1);a&&(a.words[h]=d)}return a&&a.strip(),i.strip(),"div"!==t&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},s.prototype.divmod=function(e,t,r){return i(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(n=a.div.neg()),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:n,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(n=a.div.neg()),{div:n,mod:a.mod}):0!==(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modn(e.words[0]))}:this._wordDiv(e,t);var n,o,a},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),n=e.andln(1),s=r.cmp(i);return s<0||1===n&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modn=function(e){i(e<=67108863);for(var t=(1<<26)%e,r=0,n=this.length-1;n>=0;n--)r=(t*r+(0|this.words[n]))%e;return r},s.prototype.idivn=function(e){i(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var n=(0|this.words[r])+67108864*t;this.words[r]=n/e|0,t=n%e}return this.strip()},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n=new s(1),o=new s(0),a=new s(0),c=new s(1),l=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++l;for(var u=r.clone(),h=t.clone();!t.isZero();){for(var d=0,f=1;0===(t.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(n.isOdd()||o.isOdd())&&(n.iadd(u),o.isub(h)),n.iushrn(1),o.iushrn(1);for(var p=0,g=1;0===(r.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(u),c.isub(h)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),n.isub(a),o.isub(c)):(r.isub(t),a.isub(n),c.isub(o))}return{a:a,b:c,gcd:r.iushln(l)}},s.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n,o=new s(1),a=new s(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,u=1;0===(t.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(t.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);for(var h=0,d=1;0===(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),o.isub(a)):(r.isub(t),a.isub(o))}return(n=0===t.cmpn(1)?o:a).cmpn(0)<0&&n.iadd(e),n},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var i=0;t.isEven()&&r.isEven();i++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=t.cmp(r);if(n<0){var s=t;t=r,r=s}else if(0===n||0===r.cmpn(1))break;t.isub(r)}return r.iushln(i)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return 0===(1&this.words[0])},s.prototype.isOdd=function(){return 1===(1&this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){i("number"===typeof e);var t=e%26,r=(e-t)/26,n=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var s=n,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),i(e<=67108863,"Number is too big");var n=0|this.words[0];t=n===e?0:n<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|e.words[r];if(i!==n){i<n?t=-1:i>n&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new _(e)},s.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(e){if("string"===typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function M(e){_.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},n(v,y),v.prototype.split=function(e,t){for(var r=4194303,i=Math.min(e.length,9),n=0;n<i;n++)t.words[n]=e.words[n];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&r,n=10;n<e.length;n++){var o=0|e.words[n];e.words[n-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,e.words[n-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var i=0|e.words[r];t+=977*i,e.words[r]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(w,y),n(S,y),n(E,y),E.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var i=19*(0|e.words[r])+t,n=67108863&i;i>>>=26,e.words[r]=n,t=i}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new w;else if("p192"===e)t=new S;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E}return m[e]=t,t},_.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},_.prototype._verify2=function(e,t){i(0===(e.negative|t.negative),"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},_.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},_.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},_.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},_.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},_.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},_.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},_.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},_.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},_.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},_.prototype.isqr=function(e){return this.imul(e,e.clone())},_.prototype.sqr=function(e){return this.mul(e,e)},_.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2===1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var n=this.m.subn(1),o=0;!n.isZero()&&0===n.andln(1);)o++,n.iushrn(1);i(!n.isZero());var a=new s(1).toRed(this),c=a.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var h=this.pow(u,n),d=this.pow(e,n.addn(1).iushrn(1)),f=this.pow(e,n),p=o;0!==f.cmp(a);){for(var g=f,b=0;0!==g.cmp(a);b++)g=g.redSqr();i(b<p);var m=this.pow(h,new s(1).iushln(p-b-1));d=d.redMul(m),h=m.redSqr(),f=f.redMul(h),p=b}return d},_.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},_.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=e;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],e);var n=r[0],o=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),i=t.length-1;i>=0;i--){for(var l=t.words[i],u=c-1;u>=0;u--){var h=l>>u&1;n!==r[0]&&(n=this.sqr(n)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===i&&0===u)&&(n=this.mul(n,r[o]),a=0,o=0)):a=0}c=26}return n},_.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},_.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new M(e)},n(M,_),M.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},M.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},M.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var r=e.mul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},M.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},950:(e,t,r)=>{"use strict";var i=t;i.version=r(4242).rE,i.utils=r(8496),i.rand=r(8462),i.curve=r(1929),i.curves=r(3161),i.ec=r(8466),i.eddsa=r(8741)},1836:(e,t,r)=>{"use strict";var i=r(2293),n=r(8496),s=n.getNAF,o=n.getJSF,a=n.assert;function c(e,t){this.type=e,this.p=new i(t.p,16),this.red=t.prime?i.red(t.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=t.n&&new i(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function l(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){a(e.precomputed);var r=e._getDoubles(),i=s(t,1,this._bitLength),n=(1<<r.step+1)-(r.step%2===0?2:1);n/=3;var o,c,l=[];for(o=0;o<i.length;o+=r.step){c=0;for(var u=o+r.step-1;u>=o;u--)c=(c<<1)+i[u];l.push(c)}for(var h=this.jpoint(null,null,null),d=this.jpoint(null,null,null),f=n;f>0;f--){for(o=0;o<l.length;o++)(c=l[o])===f?d=d.mixedAdd(r.points[o]):c===-f&&(d=d.mixedAdd(r.points[o].neg()));h=h.add(d)}return h.toP()},c.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var n=i.points,o=s(t,r,this._bitLength),c=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var u=0;l>=0&&0===o[l];l--)u++;if(l>=0&&u++,c=c.dblp(u),l<0)break;var h=o[l];a(0!==h),c="affine"===e.type?h>0?c.mixedAdd(n[h-1>>1]):c.mixedAdd(n[-h-1>>1].neg()):h>0?c.add(n[h-1>>1]):c.add(n[-h-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,r,i,n){var a,c,l,u=this._wnafT1,h=this._wnafT2,d=this._wnafT3,f=0;for(a=0;a<i;a++){var p=(l=t[a])._getNAFPoints(e);u[a]=p.wnd,h[a]=p.points}for(a=i-1;a>=1;a-=2){var g=a-1,b=a;if(1===u[g]&&1===u[b]){var m=[t[g],null,null,t[b]];0===t[g].y.cmp(t[b].y)?(m[1]=t[g].add(t[b]),m[2]=t[g].toJ().mixedAdd(t[b].neg())):0===t[g].y.cmp(t[b].y.redNeg())?(m[1]=t[g].toJ().mixedAdd(t[b]),m[2]=t[g].add(t[b].neg())):(m[1]=t[g].toJ().mixedAdd(t[b]),m[2]=t[g].toJ().mixedAdd(t[b].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],v=o(r[g],r[b]);for(f=Math.max(v[0].length,f),d[g]=new Array(f),d[b]=new Array(f),c=0;c<f;c++){var w=0|v[0][c],S=0|v[1][c];d[g][c]=y[3*(w+1)+(S+1)],d[b][c]=0,h[g]=m}}else d[g]=s(r[g],u[g],this._bitLength),d[b]=s(r[b],u[b],this._bitLength),f=Math.max(d[g].length,f),f=Math.max(d[b].length,f)}var E=this.jpoint(null,null,null),_=this._wnafT4;for(a=f;a>=0;a--){for(var M=0;a>=0;){var I=!0;for(c=0;c<i;c++)_[c]=0|d[c][a],0!==_[c]&&(I=!1);if(!I)break;M++,a--}if(a>=0&&M++,E=E.dblp(M),a<0)break;for(c=0;c<i;c++){var x=_[c];0!==x&&(x>0?l=h[c][x-1>>1]:x<0&&(l=h[c][-x-1>>1].neg()),E="affine"===l.type?E.mixedAdd(l):E.add(l))}}for(a=0;a<i;a++)h[a]=null;return n?E:E.toP()},c.BasePoint=l,l.prototype.eq=function(){throw new Error("Not implemented")},l.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=n.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*r)return 6===e[0]?a(e[e.length-1]%2===0):7===e[0]&&a(e[e.length-1]%2===1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},l.prototype.encodeCompressed=function(e){return this.encode(e,!0)},l.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},l.prototype.encode=function(e,t){return n.encode(this._encode(t),e)},l.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},l.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},l.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<t;n+=e){for(var s=0;s<e;s++)i=i.dbl();r.push(i)}return{step:e,points:r}},l.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=1===r?null:this.dbl(),n=1;n<r;n++)t[n]=t[n-1].add(i);return{wnd:e,points:t}},l.prototype._getBeta=function(){return null},l.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},1617:(e,t,r)=>{"use strict";var i=r(8496),n=r(2293),s=r(6329),o=r(1836),a=i.assert;function c(e){this.twisted=1!==(0|e.a),this.mOneA=this.twisted&&-1===(0|e.a),this.extended=this.mOneA,o.call(this,"edwards",e),this.a=new n(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new n(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new n(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|e.c)}function l(e,t,r,i,s){o.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===i?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new n(t,16),this.y=new n(r,16),this.z=i?new n(i,16):this.curve.one,this.t=s&&new n(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(c,o),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,i){return this.point(e,t,r,i)},c.prototype.pointFromX=function(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),i=this.c2.redSub(this.a.redMul(r)),s=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=i.redMul(s.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var c=a.fromRed().isOdd();return(t&&!c||!t&&c)&&(a=a.redNeg()),this.point(e,a)},c.prototype.pointFromY=function(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),i=r.redSub(this.c2),s=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(s.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),i=t.redMul(this.a).redAdd(r),n=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===i.cmp(n)},s(l,o.BasePoint),c.prototype.pointFromJSON=function(e){return l.fromJSON(this,e)},c.prototype.point=function(e,t,r,i){return new l(this,e,t,r,i)},l.fromJSON=function(e,t){return new l(e,t[0],t[1],t[2])},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},l.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var i=this.curve._mulA(e),n=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),s=i.redAdd(t),o=s.redSub(r),a=i.redSub(t),c=n.redMul(o),l=s.redMul(a),u=n.redMul(a),h=o.redMul(s);return this.curve.point(c,l,h,u)},l.prototype._projDbl=function(){var e,t,r,i,n,s,o=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var l=(i=this.curve._mulA(a)).redAdd(c);this.zOne?(e=o.redSub(a).redSub(c).redMul(l.redSub(this.curve.two)),t=l.redMul(i.redSub(c)),r=l.redSqr().redSub(l).redSub(l)):(n=this.z.redSqr(),s=l.redSub(n).redISub(n),e=o.redSub(a).redISub(c).redMul(s),t=l.redMul(i.redSub(c)),r=l.redMul(s))}else i=a.redAdd(c),n=this.curve._mulC(this.z).redSqr(),s=i.redSub(n).redSub(n),e=this.curve._mulC(o.redISub(i)).redMul(s),t=this.curve._mulC(i).redMul(a.redISub(c)),r=i.redMul(s);return this.curve.point(e,t,r)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},l.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),n=this.z.redMul(e.z.redAdd(e.z)),s=r.redSub(t),o=n.redSub(i),a=n.redAdd(i),c=r.redAdd(t),l=s.redMul(o),u=a.redMul(c),h=s.redMul(c),d=o.redMul(a);return this.curve.point(l,u,d,h)},l.prototype._projAdd=function(e){var t,r,i=this.z.redMul(e.z),n=i.redSqr(),s=this.x.redMul(e.x),o=this.y.redMul(e.y),a=this.curve.d.redMul(s).redMul(o),c=n.redSub(a),l=n.redAdd(a),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(s).redISub(o),h=i.redMul(c).redMul(u);return this.curve.twisted?(t=i.redMul(l).redMul(o.redSub(this.curve._mulA(s))),r=c.redMul(l)):(t=i.redMul(l).redMul(o.redSub(s)),r=this.curve._mulC(c).redMul(l)),this.curve.point(h,t,r)},l.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},l.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},l.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},l.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},l.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()},l.prototype.getY=function(){return this.normalize(),this.y.fromRed()},l.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},l.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),0===this.x.cmp(t))return!0}},l.prototype.toP=l.prototype.normalize,l.prototype.mixedAdd=l.prototype.add},1929:(e,t,r)=>{"use strict";var i=t;i.base=r(1836),i.short=r(8907),i.mont=r(2291),i.edwards=r(1617)},2291:(e,t,r)=>{"use strict";var i=r(2293),n=r(6329),s=r(1836),o=r(8496);function a(e){s.call(this,"mont",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){s.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(t,16),this.z=new i(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}n(a,s),e.exports=a,a.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),i=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===i.redSqrt().redSqr().cmp(i)},n(c,s.BasePoint),a.prototype.decodePoint=function(e,t){return this.point(o.toArray(e,t),1)},a.prototype.point=function(e,t){return new c(this,e,t)},a.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),i=e.redMul(t),n=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(i,n)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),i=this.x.redSub(this.z),n=e.x.redAdd(e.z),s=e.x.redSub(e.z).redMul(r),o=n.redMul(i),a=t.z.redMul(s.redAdd(o).redSqr()),c=t.x.redMul(s.redISub(o).redSqr());return this.curve.point(a,c)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,i=this.curve.point(null,null),n=[];0!==t.cmpn(0);t.iushrn(1))n.push(t.andln(1));for(var s=n.length-1;s>=0;s--)0===n[s]?(r=r.diffAdd(i,this),i=i.dbl()):(i=r.diffAdd(i,this),r=r.dbl());return i},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},8907:(e,t,r)=>{"use strict";var i=r(8496),n=r(2293),s=r(6329),o=r(1836),a=i.assert;function c(e){o.call(this,"short",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function l(e,t,r,i){o.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new n(t,16),this.y=new n(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(e,t,r,i){o.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new n(0)):(this.x=new n(t,16),this.y=new n(r,16),this.z=new n(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(c,o),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new n(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=(t=i[0].cmp(i[1])<0?i[0]:i[1]).toRed(this.red)}if(e.lambda)r=new n(e.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))?r=s[0]:(r=s[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new n(e.a,16),b:new n(e.b,16)}})):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:n.mont(e),r=new n(2).toRed(t).redInvm(),i=r.redNeg(),s=new n(3).toRed(t).redNeg().redSqrt().redMul(r);return[i.redAdd(s).fromRed(),i.redSub(s).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,r,i,s,o,a,c,l,u,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,f=this.n.clone(),p=new n(1),g=new n(0),b=new n(0),m=new n(1),y=0;0!==d.cmpn(0);){var v=f.div(d);l=f.sub(v.mul(d)),u=b.sub(v.mul(p));var w=m.sub(v.mul(g));if(!i&&l.cmp(h)<0)t=c.neg(),r=p,i=l.neg(),s=u;else if(i&&2===++y)break;c=l,f=d,d=l,b=p,p=u,m=g,g=w}o=l.neg(),a=u;var S=i.sqr().add(s.sqr());return o.sqr().add(a.sqr()).cmp(S)>=0&&(o=t,a=r),i.negative&&(i=i.neg(),s=s.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:i,b:s},{a:o,b:a}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),o=n.mul(r.a),a=s.mul(i.a),c=n.mul(r.b),l=s.mul(i.b);return{k1:e.sub(o).sub(a),k2:c.add(l).neg()}},c.prototype.pointFromX=function(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(0!==i.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var s=i.fromRed().isOdd();return(t&&!s||!t&&s)&&(i=i.redNeg()),this.point(e,i)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return 0===r.redSqr().redISub(n).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(t[s]),a=e[s],c=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),i[2*s]=a,i[2*s+1]=c,n[2*s]=o.k1,n[2*s+1]=o.k2}for(var l=this._wnafMulAdd(1,i,n,2*s,r),u=0;u<2*s;u++)i[u]=null,n[u]=null;return l},s(l,o.BasePoint),c.prototype.point=function(e,t,r){return new l(this,e,t,r)},c.prototype.pointFromJSON=function(e,t){return l.fromJSON(this,e,t)},l.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},l.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},l.fromJSON=function(e,t,r){"string"===typeof t&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function n(t){return e.point(t[0],t[1],r)}var s=t[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(n))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(n))}},i},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.inf},l.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},l.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),s=n.redSqr().redISub(this.x.redAdd(this.x)),o=n.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},l.prototype.getX=function(){return this.x.fromRed()},l.prototype.getY=function(){return this.y.fromRed()},l.prototype.mul=function(e){return e=new n(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},l.prototype.jmulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},l.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},l.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},l.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(u,o.BasePoint),c.prototype.jpoint=function(e,t,r){return new u(this,e,t,r)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),a=i.redSub(n),c=s.redSub(o);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),h=i.redMul(l),d=c.redSqr().redIAdd(u).redISub(h).redISub(h),f=c.redMul(h.redISub(d)).redISub(s.redMul(u)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(d,f,p)},u.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,s=e.y.redMul(t).redMul(this.z),o=r.redSub(i),a=n.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),l=c.redMul(o),u=r.redMul(c),h=a.redSqr().redIAdd(l).redISub(u).redISub(u),d=a.redMul(u.redISub(h)).redISub(n.redMul(l)),f=this.z.redMul(o);return this.curve.jpoint(h,d,f)},u.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,s=this.x,o=this.y,a=this.z,c=a.redSqr().redSqr(),l=o.redAdd(o);for(t=0;t<e;t++){var u=s.redSqr(),h=l.redSqr(),d=h.redSqr(),f=u.redAdd(u).redIAdd(u).redIAdd(i.redMul(c)),p=s.redMul(h),g=f.redSqr().redISub(p.redAdd(p)),b=p.redISub(g),m=f.redMul(b);m=m.redIAdd(m).redISub(d);var y=l.redMul(a);t+1<e&&(c=c.redMul(d)),s=g,a=y,l=m}return this.curve.jpoint(s,l.redMul(n),a)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i),c=a.redSqr().redISub(o).redISub(o),l=s.redIAdd(s);l=(l=l.redIAdd(l)).redIAdd(l),e=c,t=a.redMul(o.redISub(c)).redISub(l),r=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),h=this.y.redSqr(),d=h.redSqr(),f=this.x.redAdd(h).redSqr().redISub(u).redISub(d);f=f.redIAdd(f);var p=u.redAdd(u).redIAdd(u),g=p.redSqr(),b=d.redIAdd(d);b=(b=b.redIAdd(b)).redIAdd(b),e=g.redISub(f).redISub(f),t=p.redMul(f.redISub(e)).redISub(b),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},u.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=a.redSqr().redISub(o).redISub(o);e=c;var l=s.redIAdd(s);l=(l=l.redIAdd(l)).redIAdd(l),t=a.redMul(o.redISub(c)).redISub(l),r=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),h=this.y.redSqr(),d=this.x.redMul(h),f=this.x.redSub(u).redMul(this.x.redAdd(u));f=f.redAdd(f).redIAdd(f);var p=d.redIAdd(d),g=(p=p.redIAdd(p)).redAdd(p);e=f.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(u);var b=h.redSqr();b=(b=(b=b.redIAdd(b)).redIAdd(b)).redIAdd(b),t=f.redMul(p.redISub(e)).redISub(b)}return this.curve.jpoint(e,t,r)},u.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),s=t.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(n)),c=t.redAdd(t),l=(c=c.redIAdd(c)).redMul(o),u=a.redSqr().redISub(l.redAdd(l)),h=l.redISub(u),d=o.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=a.redMul(h).redISub(d),p=r.redAdd(r).redMul(i);return this.curve.jpoint(u,f,p)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),n=e.redAdd(e).redIAdd(e),s=n.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(i),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),c=i.redIAdd(i);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var l=n.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(c),u=t.redMul(l);u=(u=u.redIAdd(u)).redIAdd(u);var h=this.x.redMul(a).redISub(u);h=(h=h.redIAdd(h)).redIAdd(h);var d=this.y.redMul(l.redMul(c.redISub(l)).redISub(o.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,d,f)},u.prototype.mul=function(e,t){return e=new n(e,t),this.curve._wnafMul(this,e)},u.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var i=t.redMul(this.z),n=r.redMul(e.z);return 0===this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)},u.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var i=e.clone(),n=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),0===this.x.cmp(r))return!0}},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},3161:(e,t,r)=>{"use strict";var i,n=t,s=r(3697),o=r(1929),a=r(8496).assert;function c(e){"short"===e.type?this.curve=new o.short(e):"edwards"===e.type?this.curve=new o.edwards(e):this.curve=new o.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function l(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new c(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=c,l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=r(4696)}catch(u){i=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},8466:(e,t,r)=>{"use strict";var i=r(2293),n=r(1172),s=r(8496),o=r(3161),a=r(8462),c=s.assert,l=r(6573),u=r(9524);function h(e){if(!(this instanceof h))return new h(e);"string"===typeof e&&(c(Object.prototype.hasOwnProperty.call(o,e),"Unknown curve "+e),e=o[e]),e instanceof o.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=h,h.prototype.keyPair=function(e){return new l(this,e)},h.prototype.keyFromPrivate=function(e,t){return l.fromPrivate(this,e,t)},h.prototype.keyFromPublic=function(e,t){return l.fromPublic(this,e,t)},h.prototype.genKeyPair=function(e){e||(e={});for(var t=new n({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||a(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),s=this.n.sub(new i(2));;){var o=new i(t.generate(r));if(!(o.cmp(s)>0))return o.iaddn(1),this.keyFromPrivate(o)}},h.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},h.prototype.sign=function(e,t,r,s){"object"===typeof r&&(s=r,r=null),s||(s={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new i(e,16));for(var o=this.n.byteLength(),a=t.getPrivate().toArray("be",o),c=e.toArray("be",o),l=new n({hash:this.hash,entropy:a,nonce:c,pers:s.pers,persEnc:s.persEnc||"utf8"}),h=this.n.sub(new i(1)),d=0;;d++){var f=s.k?s.k(d):new i(l.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(h)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var g=p.getX(),b=g.umod(this.n);if(0!==b.cmpn(0)){var m=f.invm(this.n).mul(b.mul(t.getPrivate()).iadd(e));if(0!==(m=m.umod(this.n)).cmpn(0)){var y=(p.getY().isOdd()?1:0)|(0!==g.cmp(b)?2:0);return s.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),y^=1),new u({r:b,s:m,recoveryParam:y})}}}}}},h.prototype.verify=function(e,t,r,n){e=this._truncateToN(new i(e,16)),r=this.keyFromPublic(r,n);var s=(t=new u(t,"hex")).r,o=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,c=o.invm(this.n),l=c.mul(e).umod(this.n),h=c.mul(s).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(l,r.getPublic(),h)).isInfinity()&&a.eqXToP(s):!(a=this.g.mulAdd(l,r.getPublic(),h)).isInfinity()&&0===a.getX().umod(this.n).cmp(s)},h.prototype.recoverPubKey=function(e,t,r,n){c((3&r)===r,"The recovery param is more than two bits"),t=new u(t,n);var s=this.n,o=new i(e),a=t.r,l=t.s,h=1&r,d=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");a=d?this.curve.pointFromX(a.add(this.curve.n),h):this.curve.pointFromX(a,h);var f=t.r.invm(s),p=s.sub(o).mul(f).umod(s),g=l.mul(f).umod(s);return this.g.mulAdd(p,a,g)},h.prototype.getKeyRecoveryParam=function(e,t,r,i){if(null!==(t=new u(t,i)).recoveryParam)return t.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(e,t,n)}catch(e){continue}if(s.eq(r))return n}throw new Error("Unable to find valid recovery factor")}},6573:(e,t,r)=>{"use strict";var i=r(2293),n=r(8496).assert;function s(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=s,s.fromPublic=function(e,t,r){return t instanceof s?t:new s(e,{pub:t,pubEnc:r})},s.fromPrivate=function(e,t,r){return t instanceof s?t:new s(e,{priv:t,privEnc:r})},s.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},s.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(e,t){this.priv=new i(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?n(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||n(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},s.prototype.derive=function(e){return e.validate()||n(e.validate(),"public point not validated"),e.mul(this.priv).getX()},s.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},s.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},9524:(e,t,r)=>{"use strict";var i=r(2293),n=r(8496),s=n.assert;function o(e,t){if(e instanceof o)return e;this._importDER(e,t)||(s(e.r&&e.s,"Signature without r or s"),this.r=new i(e.r,16),this.s=new i(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function a(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;var i=15&r;if(0===i||i>4)return!1;if(0===e[t.place])return!1;for(var n=0,s=0,o=t.place;s<i;s++,o++)n<<=8,n|=e[o],n>>>=0;return!(n<=127)&&(t.place=o,n)}function l(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function u(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}e.exports=o,o.prototype._importDER=function(e,t){e=n.toArray(e,t);var r=new a;if(48!==e[r.place++])return!1;var s=c(e,r);if(!1===s)return!1;if(s+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var o=c(e,r);if(!1===o)return!1;if(0!==(128&e[r.place]))return!1;var l=e.slice(r.place,o+r.place);if(r.place+=o,2!==e[r.place++])return!1;var u=c(e,r);if(!1===u)return!1;if(e.length!==u+r.place)return!1;if(0!==(128&e[r.place]))return!1;var h=e.slice(r.place,u+r.place);if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}if(0===h[0]){if(!(128&h[1]))return!1;h=h.slice(1)}return this.r=new i(l),this.s=new i(h),this.recoveryParam=null,!0},o.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=l(t),r=l(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var i=[2];u(i,t.length),(i=i.concat(t)).push(2),u(i,r.length);var s=i.concat(r),o=[48];return u(o,s.length),o=o.concat(s),n.encode(o,e)}},8741:(e,t,r)=>{"use strict";var i=r(3697),n=r(3161),s=r(8496),o=s.assert,a=s.parseBytes,c=r(6966),l=r(9659);function u(e){if(o("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof u))return new u(e);e=n[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=i.sha512}e.exports=u,u.prototype.sign=function(e,t){e=a(e);var r=this.keyFromSecret(t),i=this.hashInt(r.messagePrefix(),e),n=this.g.mul(i),s=this.encodePoint(n),o=this.hashInt(s,r.pubBytes(),e).mul(r.priv()),c=i.add(o).umod(this.curve.n);return this.makeSignature({R:n,S:c,Rencoded:s})},u.prototype.verify=function(e,t,r){if(e=a(e),(t=this.makeSignature(t)).S().gte(t.eddsa.curve.n)||t.S().isNeg())return!1;var i=this.keyFromPublic(r),n=this.hashInt(t.Rencoded(),i.pubBytes(),e),s=this.g.mul(t.S());return t.R().add(i.pub().mul(n)).eq(s)},u.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return s.intFromLE(e.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},u.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},u.prototype.makeSignature=function(e){return e instanceof l?e:new l(this,e)},u.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},u.prototype.decodePoint=function(e){var t=(e=s.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),i=0!==(128&e[t]),n=s.intFromLE(r);return this.curve.pointFromY(n,i)},u.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(e){return s.intFromLE(e)},u.prototype.isPoint=function(e){return e instanceof this.pointClass}},6966:(e,t,r)=>{"use strict";var i=r(8496),n=i.assert,s=i.parseBytes,o=i.cachedProperty;function a(e,t){this.eddsa=e,this._secret=s(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=s(t.pub)}a.fromPublic=function(e,t){return t instanceof a?t:new a(e,{pub:t})},a.fromSecret=function(e,t){return t instanceof a?t:new a(e,{secret:t})},a.prototype.secret=function(){return this._secret},o(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),o(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),o(a,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,i=t.slice(0,e.encodingLength);return i[0]&=248,i[r]&=127,i[r]|=64,i})),o(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),o(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),o(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(e){return n(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},a.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},a.prototype.getSecret=function(e){return n(this._secret,"KeyPair is public only"),i.encode(this.secret(),e)},a.prototype.getPublic=function(e){return i.encode(this.pubBytes(),e)},e.exports=a},9659:(e,t,r)=>{"use strict";var i=r(2293),n=r(8496),s=n.assert,o=n.cachedProperty,a=n.parseBytes;function c(e,t){this.eddsa=e,"object"!==typeof t&&(t=a(t)),Array.isArray(t)&&(s(t.length===2*e.encodingLength,"Signature has invalid size"),t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),s(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof i&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}o(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),o(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),o(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),o(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return n.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},4696:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},8496:(e,t,r)=>{"use strict";var i=t,n=r(2293),s=r(5482),o=r(9848);i.assert=s,i.toArray=o.toArray,i.zero2=o.zero2,i.toHex=o.toHex,i.encode=o.encode,i.getNAF=function(e,t,r){var i,n=new Array(Math.max(e.bitLength(),r)+1);for(i=0;i<n.length;i+=1)n[i]=0;var s=1<<t+1,o=e.clone();for(i=0;i<n.length;i++){var a,c=o.andln(s-1);o.isOdd()?(a=c>(s>>1)-1?(s>>1)-c:c,o.isubn(a)):a=0,n[i]=a,o.iushrn(1)}return n},i.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var i,n=0,s=0;e.cmpn(-n)>0||t.cmpn(-s)>0;){var o,a,c=e.andln(3)+n&3,l=t.andln(3)+s&3;3===c&&(c=-1),3===l&&(l=-1),o=0===(1&c)?0:3!==(i=e.andln(7)+n&7)&&5!==i||2!==l?c:-c,r[0].push(o),a=0===(1&l)?0:3!==(i=t.andln(7)+s&7)&&5!==i||2!==c?l:-l,r[1].push(a),2*n===o+1&&(n=1-n),2*s===a+1&&(s=1-s),e.iushrn(1),t.iushrn(1)}return r},i.cachedProperty=function(e,t,r){var i="_"+t;e.prototype[t]=function(){return void 0!==this[i]?this[i]:this[i]=r.call(this)}},i.parseBytes=function(e){return"string"===typeof e?i.toArray(e,"hex"):e},i.intFromLE=function(e){return new n(e,"hex","le")}},33:(e,t)=>{"use strict";function r(e){let t;return"undefined"!==typeof window&&"undefined"!==typeof window[e]&&(t=window[e]),t}function i(e){const t=r(e);if(!t)throw new Error("".concat(e," is not defined in Window"));return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=r,t.getFromWindowOrThrow=i,t.getDocumentOrThrow=function(){return i("document")},t.getDocument=function(){return r("document")},t.getNavigatorOrThrow=function(){return i("navigator")},t.getNavigator=function(){return r("navigator")},t.getLocationOrThrow=function(){return i("location")},t.getLocation=function(){return r("location")},t.getCryptoOrThrow=function(){return i("crypto")},t.getCrypto=function(){return r("crypto")},t.getLocalStorageOrThrow=function(){return i("localStorage")},t.getLocalStorage=function(){return r("localStorage")}},9332:(e,t,r)=>{"use strict";t.g=void 0;const i=r(33);t.g=function(){let e,t;try{e=i.getDocumentOrThrow(),t=i.getLocationOrThrow()}catch(s){return null}function r(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];const n=e.getElementsByTagName("meta");for(let e=0;e<n.length;e++){const t=n[e],i=["itemprop","property","name"].map((e=>t.getAttribute(e))).filter((e=>!!e&&r.includes(e)));if(i.length&&i){const e=t.getAttribute("content");if(e)return e}}return""}const n=function(){let t=r("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:r("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){const r=e.getElementsByTagName("link"),i=[];for(let e=0;e<r.length;e++){const n=r[e],s=n.getAttribute("rel");if(s&&s.toLowerCase().indexOf("icon")>-1){const e=n.getAttribute("href");if(e)if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let r=t.protocol+"//"+t.host;if(0===e.indexOf("/"))r+=e;else{const i=t.pathname.split("/");i.pop();r+=i.join("/")+"/"+e}i.push(r)}else if(0===e.indexOf("//")){const r=t.protocol+e;i.push(r)}else i.push(e)}}return i}(),name:n}}},6373:function(e,t,r){!function(e,t){"use strict";function i(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function s(e,t,r){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"===typeof e?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(7790).Buffer}catch(P){}function a(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void i(!1,"Invalid character in "+e)}function c(e,t,r){var i=a(e,r);return r-1>=t&&(i|=a(e,r-1)<<4),i}function l(e,t,r,n){for(var s=0,o=0,a=Math.min(e.length,r),c=t;c<a;c++){var l=e.charCodeAt(c)-48;s*=n,o=l>=49?l-49+10:l>=17?l-17+10:l,i(l>=0&&o<n,"Invalid character"),s+=o}return s}function u(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(s.isBN=function(e){return e instanceof s||null!==e&&"object"===typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,r){if("number"===typeof e)return this._initNumber(e,t,r);if("object"===typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),i(t===(0|t)&&t>=2&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<e.length&&(16===t?this._parseHex(e,n,r):(this._parseBase(e,t,n),"le"===r&&this._initArray(this.toArray(),t,r)))},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(i(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(i("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var s,o,a=0;if("be"===r)for(n=e.length-1,s=0;n>=0;n-=3)o=e[n]|e[n-1]<<8|e[n-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(n=0,s=0;n<e.length;n+=3)o=e[n]|e[n+1]<<8|e[n+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},s.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,s=0,o=0;if("be"===r)for(i=e.length-1;i>=t;i-=2)n=c(e,t,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;else for(i=(e.length-t)%2===0?t+1:t;i<e.length;i+=2)n=c(e,t,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;this._strip()},s.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=t)i++;i--,n=n/t|0;for(var s=e.length-r,o=s%i,a=Math.min(s,s-o)+r,c=0,u=r;u<a;u+=i)c=l(e,u,u+i,t),this.imuln(n),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var h=1;for(c=l(e,u,e.length,t),u=0;u<o;u++)h*=t;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype._move=function(e){u(e,this)},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(P){s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var n=0,s=0,o=0;o<this.length;o++){var a=this.words[o],c=(16777215&(a<<n|s)).toString(16);s=a>>>24-n&16777215,(n+=2)>=26&&(n-=26,o--),r=0!==s||o!==this.length-1?d[6-c.length]+c+r:c+r}for(0!==s&&(r=s.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var l=f[e],u=p[e];r="";var h=this.clone();for(h.negative=0;!h.isZero();){var g=h.modrn(u).toString(e);r=(h=h.idivn(u)).isZero()?g+r:d[l-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(e,t){return this.toArrayLike(o,e,t)}),s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function g(e,t,r){r.negative=t.negative^e.negative;var i=e.length+t.length|0;r.length=i,i=i-1|0;var n=0|e.words[0],s=0|t.words[0],o=n*s,a=67108863&o,c=o/67108864|0;r.words[0]=a;for(var l=1;l<i;l++){for(var u=c>>>26,h=67108863&c,d=Math.min(l,t.length-1),f=Math.max(0,l-e.length+1);f<=d;f++){var p=l-f|0;u+=(o=(n=0|e.words[p])*(s=0|t.words[f])+h)/67108864|0,h=67108863&o}r.words[l]=0|h,c=0|u}return 0!==c?r.words[l]=0|c:r.length--,r._strip()}s.prototype.toArrayLike=function(e,t,r){this._strip();var n=this.byteLength(),s=r||Math.max(1,n);i(n<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0");var o=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,s);return this["_toArrayLike"+("le"===t?"LE":"BE")](o,n),o},s.prototype._toArrayLikeLE=function(e,t){for(var r=0,i=0,n=0,s=0;n<this.length;n++){var o=this.words[n]<<s|i;e[r++]=255&o,r<e.length&&(e[r++]=o>>8&255),r<e.length&&(e[r++]=o>>16&255),6===s?(r<e.length&&(e[r++]=o>>24&255),i=0,s=0):(i=o>>>24,s+=2)}if(r<e.length)for(e[r++]=i;r<e.length;)e[r++]=0},s.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,i=0,n=0,s=0;n<this.length;n++){var o=this.words[n]<<s|i;e[r--]=255&o,r>=0&&(e[r--]=o>>8&255),r>=0&&(e[r--]=o>>16&255),6===s?(r>=0&&(e[r--]=o>>24&255),i=0,s=0):(i=o>>>24,s+=2)}if(r>=0)for(e[r--]=i;r>=0;)e[r--]=0},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},s.prototype.ior=function(e){return i(0===(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},s.prototype.iand=function(e){return i(0===(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var i=0;i<r.length;i++)this.words[i]=t.words[i]^r.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this._strip()},s.prototype.ixor=function(e){return i(0===(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){i("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var n=0;n<t;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this._strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){i("number"===typeof e&&e>=0);var r=e/26|0,n=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<n:this.words[r]&~(1<<n),this._strip()},s.prototype.iadd=function(e){var t,r,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,i=e):(r=e,i=this);for(var n=0,s=0;s<i.length;s++)t=(0|r.words[s])+(0|i.words[s])+n,this.words[s]=67108863&t,n=t>>>26;for(;0!==n&&s<r.length;s++)t=(0|r.words[s])+n,this.words[s]=67108863&t,n=t>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,i,n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=e):(r=e,i=this);for(var s=0,o=0;o<i.length;o++)s=(t=(0|r.words[o])-(0|i.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<r.length;o++)s=(t=(0|r.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var b=function(e,t,r){var i,n,s,o=e.words,a=t.words,c=r.words,l=0,u=0|o[0],h=8191&u,d=u>>>13,f=0|o[1],p=8191&f,g=f>>>13,b=0|o[2],m=8191&b,y=b>>>13,v=0|o[3],w=8191&v,S=v>>>13,E=0|o[4],_=8191&E,M=E>>>13,I=0|o[5],x=8191&I,A=I>>>13,P=0|o[6],k=8191&P,O=P>>>13,N=0|o[7],R=8191&N,T=N>>>13,C=0|o[8],L=8191&C,z=C>>>13,U=0|o[9],D=8191&U,q=U>>>13,j=0|a[0],B=8191&j,F=j>>>13,K=0|a[1],V=8191&K,H=K>>>13,W=0|a[2],G=8191&W,J=W>>>13,Y=0|a[3],Z=8191&Y,X=Y>>>13,$=0|a[4],Q=8191&$,ee=$>>>13,te=0|a[5],re=8191&te,ie=te>>>13,ne=0|a[6],se=8191&ne,oe=ne>>>13,ae=0|a[7],ce=8191&ae,le=ae>>>13,ue=0|a[8],he=8191&ue,de=ue>>>13,fe=0|a[9],pe=8191&fe,ge=fe>>>13;r.negative=e.negative^t.negative,r.length=19;var be=(l+(i=Math.imul(h,B))|0)+((8191&(n=(n=Math.imul(h,F))+Math.imul(d,B)|0))<<13)|0;l=((s=Math.imul(d,F))+(n>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(p,B),n=(n=Math.imul(p,F))+Math.imul(g,B)|0,s=Math.imul(g,F);var me=(l+(i=i+Math.imul(h,V)|0)|0)+((8191&(n=(n=n+Math.imul(h,H)|0)+Math.imul(d,V)|0))<<13)|0;l=((s=s+Math.imul(d,H)|0)+(n>>>13)|0)+(me>>>26)|0,me&=67108863,i=Math.imul(m,B),n=(n=Math.imul(m,F))+Math.imul(y,B)|0,s=Math.imul(y,F),i=i+Math.imul(p,V)|0,n=(n=n+Math.imul(p,H)|0)+Math.imul(g,V)|0,s=s+Math.imul(g,H)|0;var ye=(l+(i=i+Math.imul(h,G)|0)|0)+((8191&(n=(n=n+Math.imul(h,J)|0)+Math.imul(d,G)|0))<<13)|0;l=((s=s+Math.imul(d,J)|0)+(n>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(w,B),n=(n=Math.imul(w,F))+Math.imul(S,B)|0,s=Math.imul(S,F),i=i+Math.imul(m,V)|0,n=(n=n+Math.imul(m,H)|0)+Math.imul(y,V)|0,s=s+Math.imul(y,H)|0,i=i+Math.imul(p,G)|0,n=(n=n+Math.imul(p,J)|0)+Math.imul(g,G)|0,s=s+Math.imul(g,J)|0;var ve=(l+(i=i+Math.imul(h,Z)|0)|0)+((8191&(n=(n=n+Math.imul(h,X)|0)+Math.imul(d,Z)|0))<<13)|0;l=((s=s+Math.imul(d,X)|0)+(n>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(_,B),n=(n=Math.imul(_,F))+Math.imul(M,B)|0,s=Math.imul(M,F),i=i+Math.imul(w,V)|0,n=(n=n+Math.imul(w,H)|0)+Math.imul(S,V)|0,s=s+Math.imul(S,H)|0,i=i+Math.imul(m,G)|0,n=(n=n+Math.imul(m,J)|0)+Math.imul(y,G)|0,s=s+Math.imul(y,J)|0,i=i+Math.imul(p,Z)|0,n=(n=n+Math.imul(p,X)|0)+Math.imul(g,Z)|0,s=s+Math.imul(g,X)|0;var we=(l+(i=i+Math.imul(h,Q)|0)|0)+((8191&(n=(n=n+Math.imul(h,ee)|0)+Math.imul(d,Q)|0))<<13)|0;l=((s=s+Math.imul(d,ee)|0)+(n>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(x,B),n=(n=Math.imul(x,F))+Math.imul(A,B)|0,s=Math.imul(A,F),i=i+Math.imul(_,V)|0,n=(n=n+Math.imul(_,H)|0)+Math.imul(M,V)|0,s=s+Math.imul(M,H)|0,i=i+Math.imul(w,G)|0,n=(n=n+Math.imul(w,J)|0)+Math.imul(S,G)|0,s=s+Math.imul(S,J)|0,i=i+Math.imul(m,Z)|0,n=(n=n+Math.imul(m,X)|0)+Math.imul(y,Z)|0,s=s+Math.imul(y,X)|0,i=i+Math.imul(p,Q)|0,n=(n=n+Math.imul(p,ee)|0)+Math.imul(g,Q)|0,s=s+Math.imul(g,ee)|0;var Se=(l+(i=i+Math.imul(h,re)|0)|0)+((8191&(n=(n=n+Math.imul(h,ie)|0)+Math.imul(d,re)|0))<<13)|0;l=((s=s+Math.imul(d,ie)|0)+(n>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(k,B),n=(n=Math.imul(k,F))+Math.imul(O,B)|0,s=Math.imul(O,F),i=i+Math.imul(x,V)|0,n=(n=n+Math.imul(x,H)|0)+Math.imul(A,V)|0,s=s+Math.imul(A,H)|0,i=i+Math.imul(_,G)|0,n=(n=n+Math.imul(_,J)|0)+Math.imul(M,G)|0,s=s+Math.imul(M,J)|0,i=i+Math.imul(w,Z)|0,n=(n=n+Math.imul(w,X)|0)+Math.imul(S,Z)|0,s=s+Math.imul(S,X)|0,i=i+Math.imul(m,Q)|0,n=(n=n+Math.imul(m,ee)|0)+Math.imul(y,Q)|0,s=s+Math.imul(y,ee)|0,i=i+Math.imul(p,re)|0,n=(n=n+Math.imul(p,ie)|0)+Math.imul(g,re)|0,s=s+Math.imul(g,ie)|0;var Ee=(l+(i=i+Math.imul(h,se)|0)|0)+((8191&(n=(n=n+Math.imul(h,oe)|0)+Math.imul(d,se)|0))<<13)|0;l=((s=s+Math.imul(d,oe)|0)+(n>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(R,B),n=(n=Math.imul(R,F))+Math.imul(T,B)|0,s=Math.imul(T,F),i=i+Math.imul(k,V)|0,n=(n=n+Math.imul(k,H)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,H)|0,i=i+Math.imul(x,G)|0,n=(n=n+Math.imul(x,J)|0)+Math.imul(A,G)|0,s=s+Math.imul(A,J)|0,i=i+Math.imul(_,Z)|0,n=(n=n+Math.imul(_,X)|0)+Math.imul(M,Z)|0,s=s+Math.imul(M,X)|0,i=i+Math.imul(w,Q)|0,n=(n=n+Math.imul(w,ee)|0)+Math.imul(S,Q)|0,s=s+Math.imul(S,ee)|0,i=i+Math.imul(m,re)|0,n=(n=n+Math.imul(m,ie)|0)+Math.imul(y,re)|0,s=s+Math.imul(y,ie)|0,i=i+Math.imul(p,se)|0,n=(n=n+Math.imul(p,oe)|0)+Math.imul(g,se)|0,s=s+Math.imul(g,oe)|0;var _e=(l+(i=i+Math.imul(h,ce)|0)|0)+((8191&(n=(n=n+Math.imul(h,le)|0)+Math.imul(d,ce)|0))<<13)|0;l=((s=s+Math.imul(d,le)|0)+(n>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(L,B),n=(n=Math.imul(L,F))+Math.imul(z,B)|0,s=Math.imul(z,F),i=i+Math.imul(R,V)|0,n=(n=n+Math.imul(R,H)|0)+Math.imul(T,V)|0,s=s+Math.imul(T,H)|0,i=i+Math.imul(k,G)|0,n=(n=n+Math.imul(k,J)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,J)|0,i=i+Math.imul(x,Z)|0,n=(n=n+Math.imul(x,X)|0)+Math.imul(A,Z)|0,s=s+Math.imul(A,X)|0,i=i+Math.imul(_,Q)|0,n=(n=n+Math.imul(_,ee)|0)+Math.imul(M,Q)|0,s=s+Math.imul(M,ee)|0,i=i+Math.imul(w,re)|0,n=(n=n+Math.imul(w,ie)|0)+Math.imul(S,re)|0,s=s+Math.imul(S,ie)|0,i=i+Math.imul(m,se)|0,n=(n=n+Math.imul(m,oe)|0)+Math.imul(y,se)|0,s=s+Math.imul(y,oe)|0,i=i+Math.imul(p,ce)|0,n=(n=n+Math.imul(p,le)|0)+Math.imul(g,ce)|0,s=s+Math.imul(g,le)|0;var Me=(l+(i=i+Math.imul(h,he)|0)|0)+((8191&(n=(n=n+Math.imul(h,de)|0)+Math.imul(d,he)|0))<<13)|0;l=((s=s+Math.imul(d,de)|0)+(n>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(D,B),n=(n=Math.imul(D,F))+Math.imul(q,B)|0,s=Math.imul(q,F),i=i+Math.imul(L,V)|0,n=(n=n+Math.imul(L,H)|0)+Math.imul(z,V)|0,s=s+Math.imul(z,H)|0,i=i+Math.imul(R,G)|0,n=(n=n+Math.imul(R,J)|0)+Math.imul(T,G)|0,s=s+Math.imul(T,J)|0,i=i+Math.imul(k,Z)|0,n=(n=n+Math.imul(k,X)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,X)|0,i=i+Math.imul(x,Q)|0,n=(n=n+Math.imul(x,ee)|0)+Math.imul(A,Q)|0,s=s+Math.imul(A,ee)|0,i=i+Math.imul(_,re)|0,n=(n=n+Math.imul(_,ie)|0)+Math.imul(M,re)|0,s=s+Math.imul(M,ie)|0,i=i+Math.imul(w,se)|0,n=(n=n+Math.imul(w,oe)|0)+Math.imul(S,se)|0,s=s+Math.imul(S,oe)|0,i=i+Math.imul(m,ce)|0,n=(n=n+Math.imul(m,le)|0)+Math.imul(y,ce)|0,s=s+Math.imul(y,le)|0,i=i+Math.imul(p,he)|0,n=(n=n+Math.imul(p,de)|0)+Math.imul(g,he)|0,s=s+Math.imul(g,de)|0;var Ie=(l+(i=i+Math.imul(h,pe)|0)|0)+((8191&(n=(n=n+Math.imul(h,ge)|0)+Math.imul(d,pe)|0))<<13)|0;l=((s=s+Math.imul(d,ge)|0)+(n>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,i=Math.imul(D,V),n=(n=Math.imul(D,H))+Math.imul(q,V)|0,s=Math.imul(q,H),i=i+Math.imul(L,G)|0,n=(n=n+Math.imul(L,J)|0)+Math.imul(z,G)|0,s=s+Math.imul(z,J)|0,i=i+Math.imul(R,Z)|0,n=(n=n+Math.imul(R,X)|0)+Math.imul(T,Z)|0,s=s+Math.imul(T,X)|0,i=i+Math.imul(k,Q)|0,n=(n=n+Math.imul(k,ee)|0)+Math.imul(O,Q)|0,s=s+Math.imul(O,ee)|0,i=i+Math.imul(x,re)|0,n=(n=n+Math.imul(x,ie)|0)+Math.imul(A,re)|0,s=s+Math.imul(A,ie)|0,i=i+Math.imul(_,se)|0,n=(n=n+Math.imul(_,oe)|0)+Math.imul(M,se)|0,s=s+Math.imul(M,oe)|0,i=i+Math.imul(w,ce)|0,n=(n=n+Math.imul(w,le)|0)+Math.imul(S,ce)|0,s=s+Math.imul(S,le)|0,i=i+Math.imul(m,he)|0,n=(n=n+Math.imul(m,de)|0)+Math.imul(y,he)|0,s=s+Math.imul(y,de)|0;var xe=(l+(i=i+Math.imul(p,pe)|0)|0)+((8191&(n=(n=n+Math.imul(p,ge)|0)+Math.imul(g,pe)|0))<<13)|0;l=((s=s+Math.imul(g,ge)|0)+(n>>>13)|0)+(xe>>>26)|0,xe&=67108863,i=Math.imul(D,G),n=(n=Math.imul(D,J))+Math.imul(q,G)|0,s=Math.imul(q,J),i=i+Math.imul(L,Z)|0,n=(n=n+Math.imul(L,X)|0)+Math.imul(z,Z)|0,s=s+Math.imul(z,X)|0,i=i+Math.imul(R,Q)|0,n=(n=n+Math.imul(R,ee)|0)+Math.imul(T,Q)|0,s=s+Math.imul(T,ee)|0,i=i+Math.imul(k,re)|0,n=(n=n+Math.imul(k,ie)|0)+Math.imul(O,re)|0,s=s+Math.imul(O,ie)|0,i=i+Math.imul(x,se)|0,n=(n=n+Math.imul(x,oe)|0)+Math.imul(A,se)|0,s=s+Math.imul(A,oe)|0,i=i+Math.imul(_,ce)|0,n=(n=n+Math.imul(_,le)|0)+Math.imul(M,ce)|0,s=s+Math.imul(M,le)|0,i=i+Math.imul(w,he)|0,n=(n=n+Math.imul(w,de)|0)+Math.imul(S,he)|0,s=s+Math.imul(S,de)|0;var Ae=(l+(i=i+Math.imul(m,pe)|0)|0)+((8191&(n=(n=n+Math.imul(m,ge)|0)+Math.imul(y,pe)|0))<<13)|0;l=((s=s+Math.imul(y,ge)|0)+(n>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,i=Math.imul(D,Z),n=(n=Math.imul(D,X))+Math.imul(q,Z)|0,s=Math.imul(q,X),i=i+Math.imul(L,Q)|0,n=(n=n+Math.imul(L,ee)|0)+Math.imul(z,Q)|0,s=s+Math.imul(z,ee)|0,i=i+Math.imul(R,re)|0,n=(n=n+Math.imul(R,ie)|0)+Math.imul(T,re)|0,s=s+Math.imul(T,ie)|0,i=i+Math.imul(k,se)|0,n=(n=n+Math.imul(k,oe)|0)+Math.imul(O,se)|0,s=s+Math.imul(O,oe)|0,i=i+Math.imul(x,ce)|0,n=(n=n+Math.imul(x,le)|0)+Math.imul(A,ce)|0,s=s+Math.imul(A,le)|0,i=i+Math.imul(_,he)|0,n=(n=n+Math.imul(_,de)|0)+Math.imul(M,he)|0,s=s+Math.imul(M,de)|0;var Pe=(l+(i=i+Math.imul(w,pe)|0)|0)+((8191&(n=(n=n+Math.imul(w,ge)|0)+Math.imul(S,pe)|0))<<13)|0;l=((s=s+Math.imul(S,ge)|0)+(n>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(D,Q),n=(n=Math.imul(D,ee))+Math.imul(q,Q)|0,s=Math.imul(q,ee),i=i+Math.imul(L,re)|0,n=(n=n+Math.imul(L,ie)|0)+Math.imul(z,re)|0,s=s+Math.imul(z,ie)|0,i=i+Math.imul(R,se)|0,n=(n=n+Math.imul(R,oe)|0)+Math.imul(T,se)|0,s=s+Math.imul(T,oe)|0,i=i+Math.imul(k,ce)|0,n=(n=n+Math.imul(k,le)|0)+Math.imul(O,ce)|0,s=s+Math.imul(O,le)|0,i=i+Math.imul(x,he)|0,n=(n=n+Math.imul(x,de)|0)+Math.imul(A,he)|0,s=s+Math.imul(A,de)|0;var ke=(l+(i=i+Math.imul(_,pe)|0)|0)+((8191&(n=(n=n+Math.imul(_,ge)|0)+Math.imul(M,pe)|0))<<13)|0;l=((s=s+Math.imul(M,ge)|0)+(n>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(D,re),n=(n=Math.imul(D,ie))+Math.imul(q,re)|0,s=Math.imul(q,ie),i=i+Math.imul(L,se)|0,n=(n=n+Math.imul(L,oe)|0)+Math.imul(z,se)|0,s=s+Math.imul(z,oe)|0,i=i+Math.imul(R,ce)|0,n=(n=n+Math.imul(R,le)|0)+Math.imul(T,ce)|0,s=s+Math.imul(T,le)|0,i=i+Math.imul(k,he)|0,n=(n=n+Math.imul(k,de)|0)+Math.imul(O,he)|0,s=s+Math.imul(O,de)|0;var Oe=(l+(i=i+Math.imul(x,pe)|0)|0)+((8191&(n=(n=n+Math.imul(x,ge)|0)+Math.imul(A,pe)|0))<<13)|0;l=((s=s+Math.imul(A,ge)|0)+(n>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,i=Math.imul(D,se),n=(n=Math.imul(D,oe))+Math.imul(q,se)|0,s=Math.imul(q,oe),i=i+Math.imul(L,ce)|0,n=(n=n+Math.imul(L,le)|0)+Math.imul(z,ce)|0,s=s+Math.imul(z,le)|0,i=i+Math.imul(R,he)|0,n=(n=n+Math.imul(R,de)|0)+Math.imul(T,he)|0,s=s+Math.imul(T,de)|0;var Ne=(l+(i=i+Math.imul(k,pe)|0)|0)+((8191&(n=(n=n+Math.imul(k,ge)|0)+Math.imul(O,pe)|0))<<13)|0;l=((s=s+Math.imul(O,ge)|0)+(n>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,i=Math.imul(D,ce),n=(n=Math.imul(D,le))+Math.imul(q,ce)|0,s=Math.imul(q,le),i=i+Math.imul(L,he)|0,n=(n=n+Math.imul(L,de)|0)+Math.imul(z,he)|0,s=s+Math.imul(z,de)|0;var Re=(l+(i=i+Math.imul(R,pe)|0)|0)+((8191&(n=(n=n+Math.imul(R,ge)|0)+Math.imul(T,pe)|0))<<13)|0;l=((s=s+Math.imul(T,ge)|0)+(n>>>13)|0)+(Re>>>26)|0,Re&=67108863,i=Math.imul(D,he),n=(n=Math.imul(D,de))+Math.imul(q,he)|0,s=Math.imul(q,de);var Te=(l+(i=i+Math.imul(L,pe)|0)|0)+((8191&(n=(n=n+Math.imul(L,ge)|0)+Math.imul(z,pe)|0))<<13)|0;l=((s=s+Math.imul(z,ge)|0)+(n>>>13)|0)+(Te>>>26)|0,Te&=67108863;var Ce=(l+(i=Math.imul(D,pe))|0)+((8191&(n=(n=Math.imul(D,ge))+Math.imul(q,pe)|0))<<13)|0;return l=((s=Math.imul(q,ge))+(n>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,c[0]=be,c[1]=me,c[2]=ye,c[3]=ve,c[4]=we,c[5]=Se,c[6]=Ee,c[7]=_e,c[8]=Me,c[9]=Ie,c[10]=xe,c[11]=Ae,c[12]=Pe,c[13]=ke,c[14]=Oe,c[15]=Ne,c[16]=Re,c[17]=Te,c[18]=Ce,0!==l&&(c[19]=l,r.length++),r};function m(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var i=0,n=0,s=0;s<r.length-1;s++){var o=n;n=0;for(var a=67108863&i,c=Math.min(s,t.length-1),l=Math.max(0,s-e.length+1);l<=c;l++){var u=s-l,h=(0|e.words[u])*(0|t.words[l]),d=67108863&h;a=67108863&(d=d+a|0),n+=(o=(o=o+(h/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[s]=a,i=o,o=n}return 0!==i?r.words[s]=i:r.length--,r._strip()}function y(e,t,r){return m(e,t,r)}function v(e,t){this.x=e,this.y=t}Math.imul||(b=g),s.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?b(this,e,t):r<63?g(this,e,t):r<1024?m(this,e,t):y(this,e,t)},v.prototype.makeRBT=function(e){for(var t=new Array(e),r=s.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,r,e);return t},v.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var i=0,n=0;n<t;n++)i|=(1&e)<<t-n-1,e>>=1;return i},v.prototype.permute=function(e,t,r,i,n,s){for(var o=0;o<s;o++)i[o]=t[e[o]],n[o]=r[e[o]]},v.prototype.transform=function(e,t,r,i,n,s){this.permute(s,e,t,r,i,n);for(var o=1;o<n;o<<=1)for(var a=o<<1,c=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),u=0;u<n;u+=a)for(var h=c,d=l,f=0;f<o;f++){var p=r[u+f],g=i[u+f],b=r[u+f+o],m=i[u+f+o],y=h*b-d*m;m=h*m+d*b,b=y,r[u+f]=p+b,i[u+f]=g+m,r[u+f+o]=p-b,i[u+f+o]=g-m,f!==a&&(y=c*h-l*d,d=c*d+l*h,h=y)}},v.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},v.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=e[i];e[i]=e[r-i-1],e[r-i-1]=n,n=t[i],t[i]=-t[r-i-1],t[r-i-1]=-n}},v.prototype.normalize13b=function(e,t){for(var r=0,i=0;i<t/2;i++){var n=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+r;e[i]=67108863&n,r=n<67108864?0:n/67108864|0}return e},v.prototype.convert13b=function(e,t,r,n){for(var s=0,o=0;o<t;o++)s+=0|e[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<n;++o)r[o]=0;i(0===s),i(0===(-8192&s))},v.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},v.prototype.mulp=function(e,t,r){var i=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(i),s=this.stub(i),o=new Array(i),a=new Array(i),c=new Array(i),l=new Array(i),u=new Array(i),h=new Array(i),d=r.words;d.length=i,this.convert13b(e.words,e.length,o,i),this.convert13b(t.words,t.length,l,i),this.transform(o,s,a,c,i,n),this.transform(l,s,u,h,i,n);for(var f=0;f<i;f++){var p=a[f]*u[f]-c[f]*h[f];c[f]=a[f]*h[f]+c[f]*u[f],a[f]=p}return this.conjugate(a,c,i),this.transform(a,c,d,s,i,n),this.conjugate(d,s,i),this.normalize13b(d,i),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),y(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){var t=e<0;t&&(e=-e),i("number"===typeof e),i(e<67108864);for(var r=0,n=0;n<this.length;n++){var s=(0|this.words[n])*e,o=(67108863&s)+(67108863&r);r>>=26,r+=s/67108864|0,r+=o>>>26,this.words[n]=67108863&o}return 0!==r&&(this.words[n]=r,this.length++),t?this.ineg():this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var i=r/26|0,n=r%26;t[r]=e.words[i]>>>n&1}return t}(e);if(0===t.length)return new s(1);for(var r=this,i=0;i<t.length&&0===t[i];i++,r=r.sqr());if(++i<t.length)for(var n=r.sqr();i<t.length;i++,n=n.sqr())0!==t[i]&&(r=r.mul(n));return r},s.prototype.iushln=function(e){i("number"===typeof e&&e>=0);var t,r=e%26,n=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,c=(0|this.words[t])-a<<r;this.words[t]=c|o,o=a>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==n){for(t=this.length-1;t>=0;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this._strip()},s.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){var n;i("number"===typeof e&&e>=0),n=t?(t-t%26)/26:0;var s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s,c=r;if(n-=o,n=Math.max(0,n),c){for(var l=0;l<o;l++)c.words[l]=this.words[l];c.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=n);l--){var h=0|this.words[l];this.words[l]=u<<26-s|h>>>s,u=h&a}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(e,t,r){return i(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){i("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26,n=1<<t;return!(this.length<=r)&&!!(this.words[r]&n)},s.prototype.imaskn=function(e){i("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var n=67108863^67108863>>>t<<t;this.words[this.length-1]&=n}return this._strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return i("number"===typeof e),i(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(i("number"===typeof e),i(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var n,s,o=e.length+r;this._expand(o);var a=0;for(n=0;n<e.length;n++){s=(0|this.words[n+r])+a;var c=(0|e.words[n])*t;a=((s-=67108863&c)>>26)-(c/67108864|0),this.words[n+r]=67108863&s}for(;n<this.length-r;n++)a=(s=(0|this.words[n+r])+a)>>26,this.words[n+r]=67108863&s;if(0===a)return this._strip();for(i(-1===a),a=0,n=0;n<this.length;n++)a=(s=-(0|this.words[n])+a)>>26,this.words[n]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(e,t){var r=(this.length,e.length),i=this.clone(),n=e,o=0|n.words[n.length-1];0!==(r=26-this._countBits(o))&&(n=n.ushln(r),i.iushln(r),o=0|n.words[n.length-1]);var a,c=i.length-n.length;if("mod"!==t){(a=new s(null)).length=c+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var u=i.clone()._ishlnsubmul(n,1,c);0===u.negative&&(i=u,a&&(a.words[c]=1));for(var h=c-1;h>=0;h--){var d=67108864*(0|i.words[n.length+h])+(0|i.words[n.length+h-1]);for(d=Math.min(d/o|0,67108863),i._ishlnsubmul(n,d,h);0!==i.negative;)d--,i.negative=0,i._ishlnsubmul(n,1,h),i.isZero()||(i.negative^=1);a&&(a.words[h]=d)}return a&&a._strip(),i._strip(),"div"!==t&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},s.prototype.divmod=function(e,t,r){return i(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(n=a.div.neg()),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:n,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(n=a.div.neg()),{div:n,mod:a.mod}):0!==(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modrn(e.words[0]))}:this._wordDiv(e,t);var n,o,a},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),n=e.andln(1),s=r.cmp(i);return s<0||1===n&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modrn=function(e){var t=e<0;t&&(e=-e),i(e<=67108863);for(var r=(1<<26)%e,n=0,s=this.length-1;s>=0;s--)n=(r*n+(0|this.words[s]))%e;return t?-n:n},s.prototype.modn=function(e){return this.modrn(e)},s.prototype.idivn=function(e){var t=e<0;t&&(e=-e),i(e<=67108863);for(var r=0,n=this.length-1;n>=0;n--){var s=(0|this.words[n])+67108864*r;this.words[n]=s/e|0,r=s%e}return this._strip(),t?this.ineg():this},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n=new s(1),o=new s(0),a=new s(0),c=new s(1),l=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++l;for(var u=r.clone(),h=t.clone();!t.isZero();){for(var d=0,f=1;0===(t.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(n.isOdd()||o.isOdd())&&(n.iadd(u),o.isub(h)),n.iushrn(1),o.iushrn(1);for(var p=0,g=1;0===(r.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(u),c.isub(h)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),n.isub(a),o.isub(c)):(r.isub(t),a.isub(n),c.isub(o))}return{a:a,b:c,gcd:r.iushln(l)}},s.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n,o=new s(1),a=new s(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,u=1;0===(t.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(t.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);for(var h=0,d=1;0===(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),o.isub(a)):(r.isub(t),a.isub(o))}return(n=0===t.cmpn(1)?o:a).cmpn(0)<0&&n.iadd(e),n},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var i=0;t.isEven()&&r.isEven();i++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=t.cmp(r);if(n<0){var s=t;t=r,r=s}else if(0===n||0===r.cmpn(1))break;t.isub(r)}return r.iushln(i)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return 0===(1&this.words[0])},s.prototype.isOdd=function(){return 1===(1&this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){i("number"===typeof e);var t=e%26,r=(e-t)/26,n=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var s=n,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),i(e<=67108863,"Number is too big");var n=0|this.words[0];t=n===e?0:n<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|e.words[r];if(i!==n){i<n?t=-1:i>n&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new x(e)},s.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var w={k256:null,p224:null,p192:null,p25519:null};function S(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){S.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){S.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function M(){S.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function I(){S.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(e){if("string"===typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){x.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}S.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},S.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},S.prototype.split=function(e,t){e.iushrn(this.n,0,t)},S.prototype.imulK=function(e){return e.imul(this.k)},n(E,S),E.prototype.split=function(e,t){for(var r=4194303,i=Math.min(e.length,9),n=0;n<i;n++)t.words[n]=e.words[n];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&r,n=10;n<e.length;n++){var o=0|e.words[n];e.words[n-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,e.words[n-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},E.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var i=0|e.words[r];t+=977*i,e.words[r]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(_,S),n(M,S),n(I,S),I.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var i=19*(0|e.words[r])+t,n=67108863&i;i>>>=26,e.words[r]=n,t=i}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(w[e])return w[e];var t;if("k256"===e)t=new E;else if("p224"===e)t=new _;else if("p192"===e)t=new M;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new I}return w[e]=t,t},x.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},x.prototype._verify2=function(e,t){i(0===(e.negative|t.negative),"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},x.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(u(e,e.umod(this.m)._forceRed(this)),e)},x.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},x.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},x.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},x.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},x.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},x.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},x.prototype.isqr=function(e){return this.imul(e,e.clone())},x.prototype.sqr=function(e){return this.mul(e,e)},x.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2===1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var n=this.m.subn(1),o=0;!n.isZero()&&0===n.andln(1);)o++,n.iushrn(1);i(!n.isZero());var a=new s(1).toRed(this),c=a.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var h=this.pow(u,n),d=this.pow(e,n.addn(1).iushrn(1)),f=this.pow(e,n),p=o;0!==f.cmp(a);){for(var g=f,b=0;0!==g.cmp(a);b++)g=g.redSqr();i(b<p);var m=this.pow(h,new s(1).iushln(p-b-1));d=d.redMul(m),h=m.redSqr(),f=f.redMul(h),p=b}return d},x.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},x.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=e;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],e);var n=r[0],o=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),i=t.length-1;i>=0;i--){for(var l=t.words[i],u=c-1;u>=0;u--){var h=l>>u&1;n!==r[0]&&(n=this.sqr(n)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===i&&0===u)&&(n=this.mul(n,r[o]),a=0,o=0)):a=0}c=26}return n},x.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},x.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new A(e)},n(A,x),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var r=e.mul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},8462:(e,t,r)=>{var i;function n(e){this.rand=e}if(e.exports=function(e){return i||(i=new n(null)),i.generate(e)},e.exports.Rand=n,n.prototype.generate=function(e){return this._rand(e)},n.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"===typeof self)self.crypto&&self.crypto.getRandomValues?n.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?n.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"===typeof window&&(n.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var s=r(3776);if("function"!==typeof s.randomBytes)throw new Error("Not supported");n.prototype._rand=function(e){return s.randomBytes(e)}}catch(o){}},5707:e=>{"use strict";var t="%[a-f0-9]{2}",r=new RegExp("("+t+")|([^%]+?)","gi"),i=new RegExp("("+t+")+","gi");function n(e,t){try{return[decodeURIComponent(e.join(""))]}catch(s){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),i=e.slice(t);return Array.prototype.concat.call([],n(r),n(i))}function s(e){try{return decodeURIComponent(e)}catch(s){for(var t=e.match(r)||[],i=1;i<t.length;i++)t=(e=n(t,i).join("")).match(r)||[];return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var r={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},n=i.exec(e);n;){try{r[n[0]]=decodeURIComponent(n[0])}catch(t){var o=s(n[0]);o!==n[0]&&(r[n[0]]=o)}n=i.exec(e)}r["%C2"]="\ufffd";for(var a=Object.keys(r),c=0;c<a.length;c++){var l=a[c];e=e.replace(new RegExp(l,"g"),r[l])}return e}(e)}}},8086:(e,t,r)=>{"use strict";var i=t;i.version=r(1636).rE,i.utils=r(6864),i.rand=r(8462),i.curve=r(7849),i.curves=r(6697),i.ec=r(7794),i.eddsa=r(4661)},6588:(e,t,r)=>{"use strict";var i=r(2835),n=r(6864),s=n.getNAF,o=n.getJSF,a=n.assert;function c(e,t){this.type=e,this.p=new i(t.p,16),this.red=t.prime?i.red(t.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=t.n&&new i(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function l(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){a(e.precomputed);var r=e._getDoubles(),i=s(t,1,this._bitLength),n=(1<<r.step+1)-(r.step%2===0?2:1);n/=3;var o,c,l=[];for(o=0;o<i.length;o+=r.step){c=0;for(var u=o+r.step-1;u>=o;u--)c=(c<<1)+i[u];l.push(c)}for(var h=this.jpoint(null,null,null),d=this.jpoint(null,null,null),f=n;f>0;f--){for(o=0;o<l.length;o++)(c=l[o])===f?d=d.mixedAdd(r.points[o]):c===-f&&(d=d.mixedAdd(r.points[o].neg()));h=h.add(d)}return h.toP()},c.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var n=i.points,o=s(t,r,this._bitLength),c=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var u=0;l>=0&&0===o[l];l--)u++;if(l>=0&&u++,c=c.dblp(u),l<0)break;var h=o[l];a(0!==h),c="affine"===e.type?h>0?c.mixedAdd(n[h-1>>1]):c.mixedAdd(n[-h-1>>1].neg()):h>0?c.add(n[h-1>>1]):c.add(n[-h-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,r,i,n){var a,c,l,u=this._wnafT1,h=this._wnafT2,d=this._wnafT3,f=0;for(a=0;a<i;a++){var p=(l=t[a])._getNAFPoints(e);u[a]=p.wnd,h[a]=p.points}for(a=i-1;a>=1;a-=2){var g=a-1,b=a;if(1===u[g]&&1===u[b]){var m=[t[g],null,null,t[b]];0===t[g].y.cmp(t[b].y)?(m[1]=t[g].add(t[b]),m[2]=t[g].toJ().mixedAdd(t[b].neg())):0===t[g].y.cmp(t[b].y.redNeg())?(m[1]=t[g].toJ().mixedAdd(t[b]),m[2]=t[g].add(t[b].neg())):(m[1]=t[g].toJ().mixedAdd(t[b]),m[2]=t[g].toJ().mixedAdd(t[b].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],v=o(r[g],r[b]);for(f=Math.max(v[0].length,f),d[g]=new Array(f),d[b]=new Array(f),c=0;c<f;c++){var w=0|v[0][c],S=0|v[1][c];d[g][c]=y[3*(w+1)+(S+1)],d[b][c]=0,h[g]=m}}else d[g]=s(r[g],u[g],this._bitLength),d[b]=s(r[b],u[b],this._bitLength),f=Math.max(d[g].length,f),f=Math.max(d[b].length,f)}var E=this.jpoint(null,null,null),_=this._wnafT4;for(a=f;a>=0;a--){for(var M=0;a>=0;){var I=!0;for(c=0;c<i;c++)_[c]=0|d[c][a],0!==_[c]&&(I=!1);if(!I)break;M++,a--}if(a>=0&&M++,E=E.dblp(M),a<0)break;for(c=0;c<i;c++){var x=_[c];0!==x&&(x>0?l=h[c][x-1>>1]:x<0&&(l=h[c][-x-1>>1].neg()),E="affine"===l.type?E.mixedAdd(l):E.add(l))}}for(a=0;a<i;a++)h[a]=null;return n?E:E.toP()},c.BasePoint=l,l.prototype.eq=function(){throw new Error("Not implemented")},l.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=n.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*r)return 6===e[0]?a(e[e.length-1]%2===0):7===e[0]&&a(e[e.length-1]%2===1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},l.prototype.encodeCompressed=function(e){return this.encode(e,!0)},l.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},l.prototype.encode=function(e,t){return n.encode(this._encode(t),e)},l.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},l.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},l.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<t;n+=e){for(var s=0;s<e;s++)i=i.dbl();r.push(i)}return{step:e,points:r}},l.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=1===r?null:this.dbl(),n=1;n<r;n++)t[n]=t[n-1].add(i);return{wnd:e,points:t}},l.prototype._getBeta=function(){return null},l.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},5697:(e,t,r)=>{"use strict";var i=r(6864),n=r(2835),s=r(6329),o=r(6588),a=i.assert;function c(e){this.twisted=1!==(0|e.a),this.mOneA=this.twisted&&-1===(0|e.a),this.extended=this.mOneA,o.call(this,"edwards",e),this.a=new n(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new n(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new n(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|e.c)}function l(e,t,r,i,s){o.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===i?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new n(t,16),this.y=new n(r,16),this.z=i?new n(i,16):this.curve.one,this.t=s&&new n(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(c,o),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,i){return this.point(e,t,r,i)},c.prototype.pointFromX=function(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),i=this.c2.redSub(this.a.redMul(r)),s=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=i.redMul(s.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var c=a.fromRed().isOdd();return(t&&!c||!t&&c)&&(a=a.redNeg()),this.point(e,a)},c.prototype.pointFromY=function(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),i=r.redSub(this.c2),s=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(s.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),i=t.redMul(this.a).redAdd(r),n=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===i.cmp(n)},s(l,o.BasePoint),c.prototype.pointFromJSON=function(e){return l.fromJSON(this,e)},c.prototype.point=function(e,t,r,i){return new l(this,e,t,r,i)},l.fromJSON=function(e,t){return new l(e,t[0],t[1],t[2])},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},l.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var i=this.curve._mulA(e),n=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),s=i.redAdd(t),o=s.redSub(r),a=i.redSub(t),c=n.redMul(o),l=s.redMul(a),u=n.redMul(a),h=o.redMul(s);return this.curve.point(c,l,h,u)},l.prototype._projDbl=function(){var e,t,r,i,n,s,o=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var l=(i=this.curve._mulA(a)).redAdd(c);this.zOne?(e=o.redSub(a).redSub(c).redMul(l.redSub(this.curve.two)),t=l.redMul(i.redSub(c)),r=l.redSqr().redSub(l).redSub(l)):(n=this.z.redSqr(),s=l.redSub(n).redISub(n),e=o.redSub(a).redISub(c).redMul(s),t=l.redMul(i.redSub(c)),r=l.redMul(s))}else i=a.redAdd(c),n=this.curve._mulC(this.z).redSqr(),s=i.redSub(n).redSub(n),e=this.curve._mulC(o.redISub(i)).redMul(s),t=this.curve._mulC(i).redMul(a.redISub(c)),r=i.redMul(s);return this.curve.point(e,t,r)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},l.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),n=this.z.redMul(e.z.redAdd(e.z)),s=r.redSub(t),o=n.redSub(i),a=n.redAdd(i),c=r.redAdd(t),l=s.redMul(o),u=a.redMul(c),h=s.redMul(c),d=o.redMul(a);return this.curve.point(l,u,d,h)},l.prototype._projAdd=function(e){var t,r,i=this.z.redMul(e.z),n=i.redSqr(),s=this.x.redMul(e.x),o=this.y.redMul(e.y),a=this.curve.d.redMul(s).redMul(o),c=n.redSub(a),l=n.redAdd(a),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(s).redISub(o),h=i.redMul(c).redMul(u);return this.curve.twisted?(t=i.redMul(l).redMul(o.redSub(this.curve._mulA(s))),r=c.redMul(l)):(t=i.redMul(l).redMul(o.redSub(s)),r=this.curve._mulC(c).redMul(l)),this.curve.point(h,t,r)},l.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},l.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},l.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},l.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},l.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()},l.prototype.getY=function(){return this.normalize(),this.y.fromRed()},l.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},l.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),0===this.x.cmp(t))return!0}},l.prototype.toP=l.prototype.normalize,l.prototype.mixedAdd=l.prototype.add},7849:(e,t,r)=>{"use strict";var i=t;i.base=r(6588),i.short=r(8475),i.mont=r(7043),i.edwards=r(5697)},7043:(e,t,r)=>{"use strict";var i=r(2835),n=r(6329),s=r(6588),o=r(6864);function a(e){s.call(this,"mont",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){s.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(t,16),this.z=new i(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}n(a,s),e.exports=a,a.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),i=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===i.redSqrt().redSqr().cmp(i)},n(c,s.BasePoint),a.prototype.decodePoint=function(e,t){return this.point(o.toArray(e,t),1)},a.prototype.point=function(e,t){return new c(this,e,t)},a.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),i=e.redMul(t),n=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(i,n)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),i=this.x.redSub(this.z),n=e.x.redAdd(e.z),s=e.x.redSub(e.z).redMul(r),o=n.redMul(i),a=t.z.redMul(s.redAdd(o).redSqr()),c=t.x.redMul(s.redISub(o).redSqr());return this.curve.point(a,c)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,i=this.curve.point(null,null),n=[];0!==t.cmpn(0);t.iushrn(1))n.push(t.andln(1));for(var s=n.length-1;s>=0;s--)0===n[s]?(r=r.diffAdd(i,this),i=i.dbl()):(i=r.diffAdd(i,this),r=r.dbl());return i},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},8475:(e,t,r)=>{"use strict";var i=r(6864),n=r(2835),s=r(6329),o=r(6588),a=i.assert;function c(e){o.call(this,"short",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function l(e,t,r,i){o.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new n(t,16),this.y=new n(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(e,t,r,i){o.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new n(0)):(this.x=new n(t,16),this.y=new n(r,16),this.z=new n(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(c,o),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new n(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=(t=i[0].cmp(i[1])<0?i[0]:i[1]).toRed(this.red)}if(e.lambda)r=new n(e.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))?r=s[0]:(r=s[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new n(e.a,16),b:new n(e.b,16)}})):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:n.mont(e),r=new n(2).toRed(t).redInvm(),i=r.redNeg(),s=new n(3).toRed(t).redNeg().redSqrt().redMul(r);return[i.redAdd(s).fromRed(),i.redSub(s).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,r,i,s,o,a,c,l,u,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,f=this.n.clone(),p=new n(1),g=new n(0),b=new n(0),m=new n(1),y=0;0!==d.cmpn(0);){var v=f.div(d);l=f.sub(v.mul(d)),u=b.sub(v.mul(p));var w=m.sub(v.mul(g));if(!i&&l.cmp(h)<0)t=c.neg(),r=p,i=l.neg(),s=u;else if(i&&2===++y)break;c=l,f=d,d=l,b=p,p=u,m=g,g=w}o=l.neg(),a=u;var S=i.sqr().add(s.sqr());return o.sqr().add(a.sqr()).cmp(S)>=0&&(o=t,a=r),i.negative&&(i=i.neg(),s=s.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:i,b:s},{a:o,b:a}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),o=n.mul(r.a),a=s.mul(i.a),c=n.mul(r.b),l=s.mul(i.b);return{k1:e.sub(o).sub(a),k2:c.add(l).neg()}},c.prototype.pointFromX=function(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(0!==i.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var s=i.fromRed().isOdd();return(t&&!s||!t&&s)&&(i=i.redNeg()),this.point(e,i)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return 0===r.redSqr().redISub(n).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(t[s]),a=e[s],c=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),i[2*s]=a,i[2*s+1]=c,n[2*s]=o.k1,n[2*s+1]=o.k2}for(var l=this._wnafMulAdd(1,i,n,2*s,r),u=0;u<2*s;u++)i[u]=null,n[u]=null;return l},s(l,o.BasePoint),c.prototype.point=function(e,t,r){return new l(this,e,t,r)},c.prototype.pointFromJSON=function(e,t){return l.fromJSON(this,e,t)},l.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},l.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},l.fromJSON=function(e,t,r){"string"===typeof t&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function n(t){return e.point(t[0],t[1],r)}var s=t[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(n))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(n))}},i},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.inf},l.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},l.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),s=n.redSqr().redISub(this.x.redAdd(this.x)),o=n.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},l.prototype.getX=function(){return this.x.fromRed()},l.prototype.getY=function(){return this.y.fromRed()},l.prototype.mul=function(e){return e=new n(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},l.prototype.jmulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},l.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},l.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},l.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(u,o.BasePoint),c.prototype.jpoint=function(e,t,r){return new u(this,e,t,r)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),a=i.redSub(n),c=s.redSub(o);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),h=i.redMul(l),d=c.redSqr().redIAdd(u).redISub(h).redISub(h),f=c.redMul(h.redISub(d)).redISub(s.redMul(u)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(d,f,p)},u.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,s=e.y.redMul(t).redMul(this.z),o=r.redSub(i),a=n.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),l=c.redMul(o),u=r.redMul(c),h=a.redSqr().redIAdd(l).redISub(u).redISub(u),d=a.redMul(u.redISub(h)).redISub(n.redMul(l)),f=this.z.redMul(o);return this.curve.jpoint(h,d,f)},u.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,s=this.x,o=this.y,a=this.z,c=a.redSqr().redSqr(),l=o.redAdd(o);for(t=0;t<e;t++){var u=s.redSqr(),h=l.redSqr(),d=h.redSqr(),f=u.redAdd(u).redIAdd(u).redIAdd(i.redMul(c)),p=s.redMul(h),g=f.redSqr().redISub(p.redAdd(p)),b=p.redISub(g),m=f.redMul(b);m=m.redIAdd(m).redISub(d);var y=l.redMul(a);t+1<e&&(c=c.redMul(d)),s=g,a=y,l=m}return this.curve.jpoint(s,l.redMul(n),a)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i),c=a.redSqr().redISub(o).redISub(o),l=s.redIAdd(s);l=(l=l.redIAdd(l)).redIAdd(l),e=c,t=a.redMul(o.redISub(c)).redISub(l),r=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),h=this.y.redSqr(),d=h.redSqr(),f=this.x.redAdd(h).redSqr().redISub(u).redISub(d);f=f.redIAdd(f);var p=u.redAdd(u).redIAdd(u),g=p.redSqr(),b=d.redIAdd(d);b=(b=b.redIAdd(b)).redIAdd(b),e=g.redISub(f).redISub(f),t=p.redMul(f.redISub(e)).redISub(b),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},u.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=a.redSqr().redISub(o).redISub(o);e=c;var l=s.redIAdd(s);l=(l=l.redIAdd(l)).redIAdd(l),t=a.redMul(o.redISub(c)).redISub(l),r=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),h=this.y.redSqr(),d=this.x.redMul(h),f=this.x.redSub(u).redMul(this.x.redAdd(u));f=f.redAdd(f).redIAdd(f);var p=d.redIAdd(d),g=(p=p.redIAdd(p)).redAdd(p);e=f.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(u);var b=h.redSqr();b=(b=(b=b.redIAdd(b)).redIAdd(b)).redIAdd(b),t=f.redMul(p.redISub(e)).redISub(b)}return this.curve.jpoint(e,t,r)},u.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),s=t.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(n)),c=t.redAdd(t),l=(c=c.redIAdd(c)).redMul(o),u=a.redSqr().redISub(l.redAdd(l)),h=l.redISub(u),d=o.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=a.redMul(h).redISub(d),p=r.redAdd(r).redMul(i);return this.curve.jpoint(u,f,p)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),n=e.redAdd(e).redIAdd(e),s=n.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(i),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),c=i.redIAdd(i);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var l=n.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(c),u=t.redMul(l);u=(u=u.redIAdd(u)).redIAdd(u);var h=this.x.redMul(a).redISub(u);h=(h=h.redIAdd(h)).redIAdd(h);var d=this.y.redMul(l.redMul(c.redISub(l)).redISub(o.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,d,f)},u.prototype.mul=function(e,t){return e=new n(e,t),this.curve._wnafMul(this,e)},u.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var i=t.redMul(this.z),n=r.redMul(e.z);return 0===this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)},u.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var i=e.clone(),n=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),0===this.x.cmp(r))return!0}},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},6697:(e,t,r)=>{"use strict";var i,n=t,s=r(3697),o=r(7849),a=r(6864).assert;function c(e){"short"===e.type?this.curve=new o.short(e):"edwards"===e.type?this.curve=new o.edwards(e):this.curve=new o.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function l(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new c(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=c,l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=r(9112)}catch(u){i=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},7794:(e,t,r)=>{"use strict";var i=r(2835),n=r(1172),s=r(6864),o=r(6697),a=r(8462),c=s.assert,l=r(109),u=r(9300);function h(e){if(!(this instanceof h))return new h(e);"string"===typeof e&&(c(Object.prototype.hasOwnProperty.call(o,e),"Unknown curve "+e),e=o[e]),e instanceof o.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=h,h.prototype.keyPair=function(e){return new l(this,e)},h.prototype.keyFromPrivate=function(e,t){return l.fromPrivate(this,e,t)},h.prototype.keyFromPublic=function(e,t){return l.fromPublic(this,e,t)},h.prototype.genKeyPair=function(e){e||(e={});for(var t=new n({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||a(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),s=this.n.sub(new i(2));;){var o=new i(t.generate(r));if(!(o.cmp(s)>0))return o.iaddn(1),this.keyFromPrivate(o)}},h.prototype._truncateToN=function(e,t,r){var n;if(i.isBN(e)||"number"===typeof e)n=(e=new i(e,16)).byteLength();else if("object"===typeof e)n=e.length,e=new i(e,16);else{var s=e.toString();n=s.length+1>>>1,e=new i(s,16)}"number"!==typeof r&&(r=8*n);var o=r-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},h.prototype.sign=function(e,t,r,s){if("object"===typeof r&&(s=r,r=null),s||(s={}),"string"!==typeof e&&"number"!==typeof e&&!i.isBN(e)){c("object"===typeof e&&e&&"number"===typeof e.length,"Expected message to be an array-like, a hex string, or a BN instance"),c(e.length>>>0===e.length);for(var o=0;o<e.length;o++)c((255&e[o])===e[o])}t=this.keyFromPrivate(t,r),e=this._truncateToN(e,!1,s.msgBitLength),c(!e.isNeg(),"Can not sign a negative message");var a=this.n.byteLength(),l=t.getPrivate().toArray("be",a),h=e.toArray("be",a);c(new i(h).eq(e),"Can not sign message");for(var d=new n({hash:this.hash,entropy:l,nonce:h,pers:s.pers,persEnc:s.persEnc||"utf8"}),f=this.n.sub(new i(1)),p=0;;p++){var g=s.k?s.k(p):new i(d.generate(this.n.byteLength()));if(!((g=this._truncateToN(g,!0)).cmpn(1)<=0||g.cmp(f)>=0)){var b=this.g.mul(g);if(!b.isInfinity()){var m=b.getX(),y=m.umod(this.n);if(0!==y.cmpn(0)){var v=g.invm(this.n).mul(y.mul(t.getPrivate()).iadd(e));if(0!==(v=v.umod(this.n)).cmpn(0)){var w=(b.getY().isOdd()?1:0)|(0!==m.cmp(y)?2:0);return s.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),w^=1),new u({r:y,s:v,recoveryParam:w})}}}}}},h.prototype.verify=function(e,t,r,i,n){n||(n={}),e=this._truncateToN(e,!1,n.msgBitLength),r=this.keyFromPublic(r,i);var s=(t=new u(t,"hex")).r,o=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,c=o.invm(this.n),l=c.mul(e).umod(this.n),h=c.mul(s).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(l,r.getPublic(),h)).isInfinity()&&a.eqXToP(s):!(a=this.g.mulAdd(l,r.getPublic(),h)).isInfinity()&&0===a.getX().umod(this.n).cmp(s)},h.prototype.recoverPubKey=function(e,t,r,n){c((3&r)===r,"The recovery param is more than two bits"),t=new u(t,n);var s=this.n,o=new i(e),a=t.r,l=t.s,h=1&r,d=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");a=d?this.curve.pointFromX(a.add(this.curve.n),h):this.curve.pointFromX(a,h);var f=t.r.invm(s),p=s.sub(o).mul(f).umod(s),g=l.mul(f).umod(s);return this.g.mulAdd(p,a,g)},h.prototype.getKeyRecoveryParam=function(e,t,r,i){if(null!==(t=new u(t,i)).recoveryParam)return t.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(e,t,n)}catch(e){continue}if(s.eq(r))return n}throw new Error("Unable to find valid recovery factor")}},109:(e,t,r)=>{"use strict";var i=r(2835),n=r(6864).assert;function s(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=s,s.fromPublic=function(e,t,r){return t instanceof s?t:new s(e,{pub:t,pubEnc:r})},s.fromPrivate=function(e,t,r){return t instanceof s?t:new s(e,{priv:t,privEnc:r})},s.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},s.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(e,t){this.priv=new i(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?n(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||n(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},s.prototype.derive=function(e){return e.validate()||n(e.validate(),"public point not validated"),e.mul(this.priv).getX()},s.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},s.prototype.verify=function(e,t,r){return this.ec.verify(e,t,this,void 0,r)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},9300:(e,t,r)=>{"use strict";var i=r(2835),n=r(6864),s=n.assert;function o(e,t){if(e instanceof o)return e;this._importDER(e,t)||(s(e.r&&e.s,"Signature without r or s"),this.r=new i(e.r,16),this.s=new i(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function a(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;var i=15&r;if(0===i||i>4)return!1;if(0===e[t.place])return!1;for(var n=0,s=0,o=t.place;s<i;s++,o++)n<<=8,n|=e[o],n>>>=0;return!(n<=127)&&(t.place=o,n)}function l(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function u(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}e.exports=o,o.prototype._importDER=function(e,t){e=n.toArray(e,t);var r=new a;if(48!==e[r.place++])return!1;var s=c(e,r);if(!1===s)return!1;if(s+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var o=c(e,r);if(!1===o)return!1;if(0!==(128&e[r.place]))return!1;var l=e.slice(r.place,o+r.place);if(r.place+=o,2!==e[r.place++])return!1;var u=c(e,r);if(!1===u)return!1;if(e.length!==u+r.place)return!1;if(0!==(128&e[r.place]))return!1;var h=e.slice(r.place,u+r.place);if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}if(0===h[0]){if(!(128&h[1]))return!1;h=h.slice(1)}return this.r=new i(l),this.s=new i(h),this.recoveryParam=null,!0},o.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=l(t),r=l(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var i=[2];u(i,t.length),(i=i.concat(t)).push(2),u(i,r.length);var s=i.concat(r),o=[48];return u(o,s.length),o=o.concat(s),n.encode(o,e)}},4661:(e,t,r)=>{"use strict";var i=r(3697),n=r(6697),s=r(6864),o=s.assert,a=s.parseBytes,c=r(5206),l=r(3035);function u(e){if(o("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof u))return new u(e);e=n[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=i.sha512}e.exports=u,u.prototype.sign=function(e,t){e=a(e);var r=this.keyFromSecret(t),i=this.hashInt(r.messagePrefix(),e),n=this.g.mul(i),s=this.encodePoint(n),o=this.hashInt(s,r.pubBytes(),e).mul(r.priv()),c=i.add(o).umod(this.curve.n);return this.makeSignature({R:n,S:c,Rencoded:s})},u.prototype.verify=function(e,t,r){if(e=a(e),(t=this.makeSignature(t)).S().gte(t.eddsa.curve.n)||t.S().isNeg())return!1;var i=this.keyFromPublic(r),n=this.hashInt(t.Rencoded(),i.pubBytes(),e),s=this.g.mul(t.S());return t.R().add(i.pub().mul(n)).eq(s)},u.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return s.intFromLE(e.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},u.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},u.prototype.makeSignature=function(e){return e instanceof l?e:new l(this,e)},u.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},u.prototype.decodePoint=function(e){var t=(e=s.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),i=0!==(128&e[t]),n=s.intFromLE(r);return this.curve.pointFromY(n,i)},u.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(e){return s.intFromLE(e)},u.prototype.isPoint=function(e){return e instanceof this.pointClass}},5206:(e,t,r)=>{"use strict";var i=r(6864),n=i.assert,s=i.parseBytes,o=i.cachedProperty;function a(e,t){this.eddsa=e,this._secret=s(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=s(t.pub)}a.fromPublic=function(e,t){return t instanceof a?t:new a(e,{pub:t})},a.fromSecret=function(e,t){return t instanceof a?t:new a(e,{secret:t})},a.prototype.secret=function(){return this._secret},o(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),o(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),o(a,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,i=t.slice(0,e.encodingLength);return i[0]&=248,i[r]&=127,i[r]|=64,i})),o(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),o(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),o(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(e){return n(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},a.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},a.prototype.getSecret=function(e){return n(this._secret,"KeyPair is public only"),i.encode(this.secret(),e)},a.prototype.getPublic=function(e){return i.encode(this.pubBytes(),e)},e.exports=a},3035:(e,t,r)=>{"use strict";var i=r(2835),n=r(6864),s=n.assert,o=n.cachedProperty,a=n.parseBytes;function c(e,t){this.eddsa=e,"object"!==typeof t&&(t=a(t)),Array.isArray(t)&&(s(t.length===2*e.encodingLength,"Signature has invalid size"),t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),s(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof i&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}o(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),o(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),o(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),o(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return n.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},9112:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},6864:(e,t,r)=>{"use strict";var i=t,n=r(2835),s=r(5482),o=r(9848);i.assert=s,i.toArray=o.toArray,i.zero2=o.zero2,i.toHex=o.toHex,i.encode=o.encode,i.getNAF=function(e,t,r){var i,n=new Array(Math.max(e.bitLength(),r)+1);for(i=0;i<n.length;i+=1)n[i]=0;var s=1<<t+1,o=e.clone();for(i=0;i<n.length;i++){var a,c=o.andln(s-1);o.isOdd()?(a=c>(s>>1)-1?(s>>1)-c:c,o.isubn(a)):a=0,n[i]=a,o.iushrn(1)}return n},i.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var i,n=0,s=0;e.cmpn(-n)>0||t.cmpn(-s)>0;){var o,a,c=e.andln(3)+n&3,l=t.andln(3)+s&3;3===c&&(c=-1),3===l&&(l=-1),o=0===(1&c)?0:3!==(i=e.andln(7)+n&7)&&5!==i||2!==l?c:-c,r[0].push(o),a=0===(1&l)?0:3!==(i=t.andln(7)+s&7)&&5!==i||2!==c?l:-l,r[1].push(a),2*n===o+1&&(n=1-n),2*s===a+1&&(s=1-s),e.iushrn(1),t.iushrn(1)}return r},i.cachedProperty=function(e,t,r){var i="_"+t;e.prototype[t]=function(){return void 0!==this[i]?this[i]:this[i]=r.call(this)}},i.parseBytes=function(e){return"string"===typeof e?i.toArray(e,"hex"):e},i.intFromLE=function(e){return new n(e,"hex","le")}},2835:function(e,t,r){!function(e,t){"use strict";function i(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function s(e,t,r){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"===typeof e?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(9368).Buffer}catch(I){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(e,t,r){var i=a(e,r);return r-1>=t&&(i|=a(e,r-1)<<4),i}function l(e,t,r,i){for(var n=0,s=Math.min(e.length,r),o=t;o<s;o++){var a=e.charCodeAt(o)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}s.isBN=function(e){return e instanceof s||null!==e&&"object"===typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,r){if("number"===typeof e)return this._initNumber(e,t,r);if("object"===typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),i(t===(0|t)&&t>=2&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<e.length&&(16===t?this._parseHex(e,n,r):(this._parseBase(e,t,n),"le"===r&&this._initArray(this.toArray(),t,r)))},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(i(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(i("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var s,o,a=0;if("be"===r)for(n=e.length-1,s=0;n>=0;n-=3)o=e[n]|e[n-1]<<8|e[n-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(n=0,s=0;n<e.length;n+=3)o=e[n]|e[n+1]<<8|e[n+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,s=0,o=0;if("be"===r)for(i=e.length-1;i>=t;i-=2)n=c(e,t,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;else for(i=(e.length-t)%2===0?t+1:t;i<e.length;i+=2)n=c(e,t,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;this.strip()},s.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=t)i++;i--,n=n/t|0;for(var s=e.length-r,o=s%i,a=Math.min(s,s-o)+r,c=0,u=r;u<a;u+=i)c=l(e,u,u+i,t),this.imuln(n),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var h=1;for(c=l(e,u,e.length,t),u=0;u<o;u++)h*=t;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,r){r.negative=t.negative^e.negative;var i=e.length+t.length|0;r.length=i,i=i-1|0;var n=0|e.words[0],s=0|t.words[0],o=n*s,a=67108863&o,c=o/67108864|0;r.words[0]=a;for(var l=1;l<i;l++){for(var u=c>>>26,h=67108863&c,d=Math.min(l,t.length-1),f=Math.max(0,l-e.length+1);f<=d;f++){var p=l-f|0;u+=(o=(n=0|e.words[p])*(s=0|t.words[f])+h)/67108864|0,h=67108863&o}r.words[l]=0|h,c=0|u}return 0!==c?r.words[l]=0|c:r.length--,r.strip()}s.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var n=0,s=0,o=0;o<this.length;o++){var a=this.words[o],c=(16777215&(a<<n|s)).toString(16);s=a>>>24-n&16777215,(n+=2)>=26&&(n-=26,o--),r=0!==s||o!==this.length-1?u[6-c.length]+c+r:c+r}for(0!==s&&(r=s.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var l=h[e],f=d[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(f).toString(e);r=(p=p.idivn(f)).isZero()?g+r:u[l-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(e,t){return i("undefined"!==typeof o),this.toArrayLike(o,e,t)},s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,r){var n=this.byteLength(),s=r||Math.max(1,n);i(n<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0"),this.strip();var o,a,c="le"===t,l=new e(s),u=this.clone();if(c){for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),l[a]=o;for(;a<s;a++)l[a]=0}else{for(a=0;a<s-n;a++)l[a]=0;for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),l[s-a-1]=o}return l},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},s.prototype.ior=function(e){return i(0===(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},s.prototype.iand=function(e){return i(0===(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var i=0;i<r.length;i++)this.words[i]=t.words[i]^r.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},s.prototype.ixor=function(e){return i(0===(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){i("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var n=0;n<t;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this.strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){i("number"===typeof e&&e>=0);var r=e/26|0,n=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<n:this.words[r]&~(1<<n),this.strip()},s.prototype.iadd=function(e){var t,r,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,i=e):(r=e,i=this);for(var n=0,s=0;s<i.length;s++)t=(0|r.words[s])+(0|i.words[s])+n,this.words[s]=67108863&t,n=t>>>26;for(;0!==n&&s<r.length;s++)t=(0|r.words[s])+n,this.words[s]=67108863&t,n=t>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,i,n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=e):(r=e,i=this);for(var s=0,o=0;o<i.length;o++)s=(t=(0|r.words[o])-(0|i.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<r.length;o++)s=(t=(0|r.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var i,n,s,o=e.words,a=t.words,c=r.words,l=0,u=0|o[0],h=8191&u,d=u>>>13,f=0|o[1],p=8191&f,g=f>>>13,b=0|o[2],m=8191&b,y=b>>>13,v=0|o[3],w=8191&v,S=v>>>13,E=0|o[4],_=8191&E,M=E>>>13,I=0|o[5],x=8191&I,A=I>>>13,P=0|o[6],k=8191&P,O=P>>>13,N=0|o[7],R=8191&N,T=N>>>13,C=0|o[8],L=8191&C,z=C>>>13,U=0|o[9],D=8191&U,q=U>>>13,j=0|a[0],B=8191&j,F=j>>>13,K=0|a[1],V=8191&K,H=K>>>13,W=0|a[2],G=8191&W,J=W>>>13,Y=0|a[3],Z=8191&Y,X=Y>>>13,$=0|a[4],Q=8191&$,ee=$>>>13,te=0|a[5],re=8191&te,ie=te>>>13,ne=0|a[6],se=8191&ne,oe=ne>>>13,ae=0|a[7],ce=8191&ae,le=ae>>>13,ue=0|a[8],he=8191&ue,de=ue>>>13,fe=0|a[9],pe=8191&fe,ge=fe>>>13;r.negative=e.negative^t.negative,r.length=19;var be=(l+(i=Math.imul(h,B))|0)+((8191&(n=(n=Math.imul(h,F))+Math.imul(d,B)|0))<<13)|0;l=((s=Math.imul(d,F))+(n>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(p,B),n=(n=Math.imul(p,F))+Math.imul(g,B)|0,s=Math.imul(g,F);var me=(l+(i=i+Math.imul(h,V)|0)|0)+((8191&(n=(n=n+Math.imul(h,H)|0)+Math.imul(d,V)|0))<<13)|0;l=((s=s+Math.imul(d,H)|0)+(n>>>13)|0)+(me>>>26)|0,me&=67108863,i=Math.imul(m,B),n=(n=Math.imul(m,F))+Math.imul(y,B)|0,s=Math.imul(y,F),i=i+Math.imul(p,V)|0,n=(n=n+Math.imul(p,H)|0)+Math.imul(g,V)|0,s=s+Math.imul(g,H)|0;var ye=(l+(i=i+Math.imul(h,G)|0)|0)+((8191&(n=(n=n+Math.imul(h,J)|0)+Math.imul(d,G)|0))<<13)|0;l=((s=s+Math.imul(d,J)|0)+(n>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(w,B),n=(n=Math.imul(w,F))+Math.imul(S,B)|0,s=Math.imul(S,F),i=i+Math.imul(m,V)|0,n=(n=n+Math.imul(m,H)|0)+Math.imul(y,V)|0,s=s+Math.imul(y,H)|0,i=i+Math.imul(p,G)|0,n=(n=n+Math.imul(p,J)|0)+Math.imul(g,G)|0,s=s+Math.imul(g,J)|0;var ve=(l+(i=i+Math.imul(h,Z)|0)|0)+((8191&(n=(n=n+Math.imul(h,X)|0)+Math.imul(d,Z)|0))<<13)|0;l=((s=s+Math.imul(d,X)|0)+(n>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(_,B),n=(n=Math.imul(_,F))+Math.imul(M,B)|0,s=Math.imul(M,F),i=i+Math.imul(w,V)|0,n=(n=n+Math.imul(w,H)|0)+Math.imul(S,V)|0,s=s+Math.imul(S,H)|0,i=i+Math.imul(m,G)|0,n=(n=n+Math.imul(m,J)|0)+Math.imul(y,G)|0,s=s+Math.imul(y,J)|0,i=i+Math.imul(p,Z)|0,n=(n=n+Math.imul(p,X)|0)+Math.imul(g,Z)|0,s=s+Math.imul(g,X)|0;var we=(l+(i=i+Math.imul(h,Q)|0)|0)+((8191&(n=(n=n+Math.imul(h,ee)|0)+Math.imul(d,Q)|0))<<13)|0;l=((s=s+Math.imul(d,ee)|0)+(n>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(x,B),n=(n=Math.imul(x,F))+Math.imul(A,B)|0,s=Math.imul(A,F),i=i+Math.imul(_,V)|0,n=(n=n+Math.imul(_,H)|0)+Math.imul(M,V)|0,s=s+Math.imul(M,H)|0,i=i+Math.imul(w,G)|0,n=(n=n+Math.imul(w,J)|0)+Math.imul(S,G)|0,s=s+Math.imul(S,J)|0,i=i+Math.imul(m,Z)|0,n=(n=n+Math.imul(m,X)|0)+Math.imul(y,Z)|0,s=s+Math.imul(y,X)|0,i=i+Math.imul(p,Q)|0,n=(n=n+Math.imul(p,ee)|0)+Math.imul(g,Q)|0,s=s+Math.imul(g,ee)|0;var Se=(l+(i=i+Math.imul(h,re)|0)|0)+((8191&(n=(n=n+Math.imul(h,ie)|0)+Math.imul(d,re)|0))<<13)|0;l=((s=s+Math.imul(d,ie)|0)+(n>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(k,B),n=(n=Math.imul(k,F))+Math.imul(O,B)|0,s=Math.imul(O,F),i=i+Math.imul(x,V)|0,n=(n=n+Math.imul(x,H)|0)+Math.imul(A,V)|0,s=s+Math.imul(A,H)|0,i=i+Math.imul(_,G)|0,n=(n=n+Math.imul(_,J)|0)+Math.imul(M,G)|0,s=s+Math.imul(M,J)|0,i=i+Math.imul(w,Z)|0,n=(n=n+Math.imul(w,X)|0)+Math.imul(S,Z)|0,s=s+Math.imul(S,X)|0,i=i+Math.imul(m,Q)|0,n=(n=n+Math.imul(m,ee)|0)+Math.imul(y,Q)|0,s=s+Math.imul(y,ee)|0,i=i+Math.imul(p,re)|0,n=(n=n+Math.imul(p,ie)|0)+Math.imul(g,re)|0,s=s+Math.imul(g,ie)|0;var Ee=(l+(i=i+Math.imul(h,se)|0)|0)+((8191&(n=(n=n+Math.imul(h,oe)|0)+Math.imul(d,se)|0))<<13)|0;l=((s=s+Math.imul(d,oe)|0)+(n>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(R,B),n=(n=Math.imul(R,F))+Math.imul(T,B)|0,s=Math.imul(T,F),i=i+Math.imul(k,V)|0,n=(n=n+Math.imul(k,H)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,H)|0,i=i+Math.imul(x,G)|0,n=(n=n+Math.imul(x,J)|0)+Math.imul(A,G)|0,s=s+Math.imul(A,J)|0,i=i+Math.imul(_,Z)|0,n=(n=n+Math.imul(_,X)|0)+Math.imul(M,Z)|0,s=s+Math.imul(M,X)|0,i=i+Math.imul(w,Q)|0,n=(n=n+Math.imul(w,ee)|0)+Math.imul(S,Q)|0,s=s+Math.imul(S,ee)|0,i=i+Math.imul(m,re)|0,n=(n=n+Math.imul(m,ie)|0)+Math.imul(y,re)|0,s=s+Math.imul(y,ie)|0,i=i+Math.imul(p,se)|0,n=(n=n+Math.imul(p,oe)|0)+Math.imul(g,se)|0,s=s+Math.imul(g,oe)|0;var _e=(l+(i=i+Math.imul(h,ce)|0)|0)+((8191&(n=(n=n+Math.imul(h,le)|0)+Math.imul(d,ce)|0))<<13)|0;l=((s=s+Math.imul(d,le)|0)+(n>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(L,B),n=(n=Math.imul(L,F))+Math.imul(z,B)|0,s=Math.imul(z,F),i=i+Math.imul(R,V)|0,n=(n=n+Math.imul(R,H)|0)+Math.imul(T,V)|0,s=s+Math.imul(T,H)|0,i=i+Math.imul(k,G)|0,n=(n=n+Math.imul(k,J)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,J)|0,i=i+Math.imul(x,Z)|0,n=(n=n+Math.imul(x,X)|0)+Math.imul(A,Z)|0,s=s+Math.imul(A,X)|0,i=i+Math.imul(_,Q)|0,n=(n=n+Math.imul(_,ee)|0)+Math.imul(M,Q)|0,s=s+Math.imul(M,ee)|0,i=i+Math.imul(w,re)|0,n=(n=n+Math.imul(w,ie)|0)+Math.imul(S,re)|0,s=s+Math.imul(S,ie)|0,i=i+Math.imul(m,se)|0,n=(n=n+Math.imul(m,oe)|0)+Math.imul(y,se)|0,s=s+Math.imul(y,oe)|0,i=i+Math.imul(p,ce)|0,n=(n=n+Math.imul(p,le)|0)+Math.imul(g,ce)|0,s=s+Math.imul(g,le)|0;var Me=(l+(i=i+Math.imul(h,he)|0)|0)+((8191&(n=(n=n+Math.imul(h,de)|0)+Math.imul(d,he)|0))<<13)|0;l=((s=s+Math.imul(d,de)|0)+(n>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(D,B),n=(n=Math.imul(D,F))+Math.imul(q,B)|0,s=Math.imul(q,F),i=i+Math.imul(L,V)|0,n=(n=n+Math.imul(L,H)|0)+Math.imul(z,V)|0,s=s+Math.imul(z,H)|0,i=i+Math.imul(R,G)|0,n=(n=n+Math.imul(R,J)|0)+Math.imul(T,G)|0,s=s+Math.imul(T,J)|0,i=i+Math.imul(k,Z)|0,n=(n=n+Math.imul(k,X)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,X)|0,i=i+Math.imul(x,Q)|0,n=(n=n+Math.imul(x,ee)|0)+Math.imul(A,Q)|0,s=s+Math.imul(A,ee)|0,i=i+Math.imul(_,re)|0,n=(n=n+Math.imul(_,ie)|0)+Math.imul(M,re)|0,s=s+Math.imul(M,ie)|0,i=i+Math.imul(w,se)|0,n=(n=n+Math.imul(w,oe)|0)+Math.imul(S,se)|0,s=s+Math.imul(S,oe)|0,i=i+Math.imul(m,ce)|0,n=(n=n+Math.imul(m,le)|0)+Math.imul(y,ce)|0,s=s+Math.imul(y,le)|0,i=i+Math.imul(p,he)|0,n=(n=n+Math.imul(p,de)|0)+Math.imul(g,he)|0,s=s+Math.imul(g,de)|0;var Ie=(l+(i=i+Math.imul(h,pe)|0)|0)+((8191&(n=(n=n+Math.imul(h,ge)|0)+Math.imul(d,pe)|0))<<13)|0;l=((s=s+Math.imul(d,ge)|0)+(n>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,i=Math.imul(D,V),n=(n=Math.imul(D,H))+Math.imul(q,V)|0,s=Math.imul(q,H),i=i+Math.imul(L,G)|0,n=(n=n+Math.imul(L,J)|0)+Math.imul(z,G)|0,s=s+Math.imul(z,J)|0,i=i+Math.imul(R,Z)|0,n=(n=n+Math.imul(R,X)|0)+Math.imul(T,Z)|0,s=s+Math.imul(T,X)|0,i=i+Math.imul(k,Q)|0,n=(n=n+Math.imul(k,ee)|0)+Math.imul(O,Q)|0,s=s+Math.imul(O,ee)|0,i=i+Math.imul(x,re)|0,n=(n=n+Math.imul(x,ie)|0)+Math.imul(A,re)|0,s=s+Math.imul(A,ie)|0,i=i+Math.imul(_,se)|0,n=(n=n+Math.imul(_,oe)|0)+Math.imul(M,se)|0,s=s+Math.imul(M,oe)|0,i=i+Math.imul(w,ce)|0,n=(n=n+Math.imul(w,le)|0)+Math.imul(S,ce)|0,s=s+Math.imul(S,le)|0,i=i+Math.imul(m,he)|0,n=(n=n+Math.imul(m,de)|0)+Math.imul(y,he)|0,s=s+Math.imul(y,de)|0;var xe=(l+(i=i+Math.imul(p,pe)|0)|0)+((8191&(n=(n=n+Math.imul(p,ge)|0)+Math.imul(g,pe)|0))<<13)|0;l=((s=s+Math.imul(g,ge)|0)+(n>>>13)|0)+(xe>>>26)|0,xe&=67108863,i=Math.imul(D,G),n=(n=Math.imul(D,J))+Math.imul(q,G)|0,s=Math.imul(q,J),i=i+Math.imul(L,Z)|0,n=(n=n+Math.imul(L,X)|0)+Math.imul(z,Z)|0,s=s+Math.imul(z,X)|0,i=i+Math.imul(R,Q)|0,n=(n=n+Math.imul(R,ee)|0)+Math.imul(T,Q)|0,s=s+Math.imul(T,ee)|0,i=i+Math.imul(k,re)|0,n=(n=n+Math.imul(k,ie)|0)+Math.imul(O,re)|0,s=s+Math.imul(O,ie)|0,i=i+Math.imul(x,se)|0,n=(n=n+Math.imul(x,oe)|0)+Math.imul(A,se)|0,s=s+Math.imul(A,oe)|0,i=i+Math.imul(_,ce)|0,n=(n=n+Math.imul(_,le)|0)+Math.imul(M,ce)|0,s=s+Math.imul(M,le)|0,i=i+Math.imul(w,he)|0,n=(n=n+Math.imul(w,de)|0)+Math.imul(S,he)|0,s=s+Math.imul(S,de)|0;var Ae=(l+(i=i+Math.imul(m,pe)|0)|0)+((8191&(n=(n=n+Math.imul(m,ge)|0)+Math.imul(y,pe)|0))<<13)|0;l=((s=s+Math.imul(y,ge)|0)+(n>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,i=Math.imul(D,Z),n=(n=Math.imul(D,X))+Math.imul(q,Z)|0,s=Math.imul(q,X),i=i+Math.imul(L,Q)|0,n=(n=n+Math.imul(L,ee)|0)+Math.imul(z,Q)|0,s=s+Math.imul(z,ee)|0,i=i+Math.imul(R,re)|0,n=(n=n+Math.imul(R,ie)|0)+Math.imul(T,re)|0,s=s+Math.imul(T,ie)|0,i=i+Math.imul(k,se)|0,n=(n=n+Math.imul(k,oe)|0)+Math.imul(O,se)|0,s=s+Math.imul(O,oe)|0,i=i+Math.imul(x,ce)|0,n=(n=n+Math.imul(x,le)|0)+Math.imul(A,ce)|0,s=s+Math.imul(A,le)|0,i=i+Math.imul(_,he)|0,n=(n=n+Math.imul(_,de)|0)+Math.imul(M,he)|0,s=s+Math.imul(M,de)|0;var Pe=(l+(i=i+Math.imul(w,pe)|0)|0)+((8191&(n=(n=n+Math.imul(w,ge)|0)+Math.imul(S,pe)|0))<<13)|0;l=((s=s+Math.imul(S,ge)|0)+(n>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(D,Q),n=(n=Math.imul(D,ee))+Math.imul(q,Q)|0,s=Math.imul(q,ee),i=i+Math.imul(L,re)|0,n=(n=n+Math.imul(L,ie)|0)+Math.imul(z,re)|0,s=s+Math.imul(z,ie)|0,i=i+Math.imul(R,se)|0,n=(n=n+Math.imul(R,oe)|0)+Math.imul(T,se)|0,s=s+Math.imul(T,oe)|0,i=i+Math.imul(k,ce)|0,n=(n=n+Math.imul(k,le)|0)+Math.imul(O,ce)|0,s=s+Math.imul(O,le)|0,i=i+Math.imul(x,he)|0,n=(n=n+Math.imul(x,de)|0)+Math.imul(A,he)|0,s=s+Math.imul(A,de)|0;var ke=(l+(i=i+Math.imul(_,pe)|0)|0)+((8191&(n=(n=n+Math.imul(_,ge)|0)+Math.imul(M,pe)|0))<<13)|0;l=((s=s+Math.imul(M,ge)|0)+(n>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(D,re),n=(n=Math.imul(D,ie))+Math.imul(q,re)|0,s=Math.imul(q,ie),i=i+Math.imul(L,se)|0,n=(n=n+Math.imul(L,oe)|0)+Math.imul(z,se)|0,s=s+Math.imul(z,oe)|0,i=i+Math.imul(R,ce)|0,n=(n=n+Math.imul(R,le)|0)+Math.imul(T,ce)|0,s=s+Math.imul(T,le)|0,i=i+Math.imul(k,he)|0,n=(n=n+Math.imul(k,de)|0)+Math.imul(O,he)|0,s=s+Math.imul(O,de)|0;var Oe=(l+(i=i+Math.imul(x,pe)|0)|0)+((8191&(n=(n=n+Math.imul(x,ge)|0)+Math.imul(A,pe)|0))<<13)|0;l=((s=s+Math.imul(A,ge)|0)+(n>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,i=Math.imul(D,se),n=(n=Math.imul(D,oe))+Math.imul(q,se)|0,s=Math.imul(q,oe),i=i+Math.imul(L,ce)|0,n=(n=n+Math.imul(L,le)|0)+Math.imul(z,ce)|0,s=s+Math.imul(z,le)|0,i=i+Math.imul(R,he)|0,n=(n=n+Math.imul(R,de)|0)+Math.imul(T,he)|0,s=s+Math.imul(T,de)|0;var Ne=(l+(i=i+Math.imul(k,pe)|0)|0)+((8191&(n=(n=n+Math.imul(k,ge)|0)+Math.imul(O,pe)|0))<<13)|0;l=((s=s+Math.imul(O,ge)|0)+(n>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,i=Math.imul(D,ce),n=(n=Math.imul(D,le))+Math.imul(q,ce)|0,s=Math.imul(q,le),i=i+Math.imul(L,he)|0,n=(n=n+Math.imul(L,de)|0)+Math.imul(z,he)|0,s=s+Math.imul(z,de)|0;var Re=(l+(i=i+Math.imul(R,pe)|0)|0)+((8191&(n=(n=n+Math.imul(R,ge)|0)+Math.imul(T,pe)|0))<<13)|0;l=((s=s+Math.imul(T,ge)|0)+(n>>>13)|0)+(Re>>>26)|0,Re&=67108863,i=Math.imul(D,he),n=(n=Math.imul(D,de))+Math.imul(q,he)|0,s=Math.imul(q,de);var Te=(l+(i=i+Math.imul(L,pe)|0)|0)+((8191&(n=(n=n+Math.imul(L,ge)|0)+Math.imul(z,pe)|0))<<13)|0;l=((s=s+Math.imul(z,ge)|0)+(n>>>13)|0)+(Te>>>26)|0,Te&=67108863;var Ce=(l+(i=Math.imul(D,pe))|0)+((8191&(n=(n=Math.imul(D,ge))+Math.imul(q,pe)|0))<<13)|0;return l=((s=Math.imul(q,ge))+(n>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,c[0]=be,c[1]=me,c[2]=ye,c[3]=ve,c[4]=we,c[5]=Se,c[6]=Ee,c[7]=_e,c[8]=Me,c[9]=Ie,c[10]=xe,c[11]=Ae,c[12]=Pe,c[13]=ke,c[14]=Oe,c[15]=Ne,c[16]=Re,c[17]=Te,c[18]=Ce,0!==l&&(c[19]=l,r.length++),r};function g(e,t,r){return(new b).mulp(e,t,r)}function b(e,t){this.x=e,this.y=t}Math.imul||(p=f),s.prototype.mulTo=function(e,t){var r,i=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):i<63?f(this,e,t):i<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var i=0,n=0,s=0;s<r.length-1;s++){var o=n;n=0;for(var a=67108863&i,c=Math.min(s,t.length-1),l=Math.max(0,s-e.length+1);l<=c;l++){var u=s-l,h=(0|e.words[u])*(0|t.words[l]),d=67108863&h;a=67108863&(d=d+a|0),n+=(o=(o=o+(h/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[s]=a,i=o,o=n}return 0!==i?r.words[s]=i:r.length--,r.strip()}(this,e,t):g(this,e,t),r},b.prototype.makeRBT=function(e){for(var t=new Array(e),r=s.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var i=0,n=0;n<t;n++)i|=(1&e)<<t-n-1,e>>=1;return i},b.prototype.permute=function(e,t,r,i,n,s){for(var o=0;o<s;o++)i[o]=t[e[o]],n[o]=r[e[o]]},b.prototype.transform=function(e,t,r,i,n,s){this.permute(s,e,t,r,i,n);for(var o=1;o<n;o<<=1)for(var a=o<<1,c=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),u=0;u<n;u+=a)for(var h=c,d=l,f=0;f<o;f++){var p=r[u+f],g=i[u+f],b=r[u+f+o],m=i[u+f+o],y=h*b-d*m;m=h*m+d*b,b=y,r[u+f]=p+b,i[u+f]=g+m,r[u+f+o]=p-b,i[u+f+o]=g-m,f!==a&&(y=c*h-l*d,d=c*d+l*h,h=y)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=e[i];e[i]=e[r-i-1],e[r-i-1]=n,n=t[i],t[i]=-t[r-i-1],t[r-i-1]=-n}},b.prototype.normalize13b=function(e,t){for(var r=0,i=0;i<t/2;i++){var n=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+r;e[i]=67108863&n,r=n<67108864?0:n/67108864|0}return e},b.prototype.convert13b=function(e,t,r,n){for(var s=0,o=0;o<t;o++)s+=0|e[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<n;++o)r[o]=0;i(0===s),i(0===(-8192&s))},b.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){var i=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(i),s=this.stub(i),o=new Array(i),a=new Array(i),c=new Array(i),l=new Array(i),u=new Array(i),h=new Array(i),d=r.words;d.length=i,this.convert13b(e.words,e.length,o,i),this.convert13b(t.words,t.length,l,i),this.transform(o,s,a,c,i,n),this.transform(l,s,u,h,i,n);for(var f=0;f<i;f++){var p=a[f]*u[f]-c[f]*h[f];c[f]=a[f]*h[f]+c[f]*u[f],a[f]=p}return this.conjugate(a,c,i),this.transform(a,c,d,s,i,n),this.conjugate(d,s,i),this.normalize13b(d,i),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),g(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){i("number"===typeof e),i(e<67108864);for(var t=0,r=0;r<this.length;r++){var n=(0|this.words[r])*e,s=(67108863&n)+(67108863&t);t>>=26,t+=n/67108864|0,t+=s>>>26,this.words[r]=67108863&s}return 0!==t&&(this.words[r]=t,this.length++),this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var i=r/26|0,n=r%26;t[r]=(e.words[i]&1<<n)>>>n}return t}(e);if(0===t.length)return new s(1);for(var r=this,i=0;i<t.length&&0===t[i];i++,r=r.sqr());if(++i<t.length)for(var n=r.sqr();i<t.length;i++,n=n.sqr())0!==t[i]&&(r=r.mul(n));return r},s.prototype.iushln=function(e){i("number"===typeof e&&e>=0);var t,r=e%26,n=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,c=(0|this.words[t])-a<<r;this.words[t]=c|o,o=a>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==n){for(t=this.length-1;t>=0;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this.strip()},s.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){var n;i("number"===typeof e&&e>=0),n=t?(t-t%26)/26:0;var s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s,c=r;if(n-=o,n=Math.max(0,n),c){for(var l=0;l<o;l++)c.words[l]=this.words[l];c.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=n);l--){var h=0|this.words[l];this.words[l]=u<<26-s|h>>>s,u=h&a}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(e,t,r){return i(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){i("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26,n=1<<t;return!(this.length<=r)&&!!(this.words[r]&n)},s.prototype.imaskn=function(e){i("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var n=67108863^67108863>>>t<<t;this.words[this.length-1]&=n}return this.strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return i("number"===typeof e),i(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(i("number"===typeof e),i(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var n,s,o=e.length+r;this._expand(o);var a=0;for(n=0;n<e.length;n++){s=(0|this.words[n+r])+a;var c=(0|e.words[n])*t;a=((s-=67108863&c)>>26)-(c/67108864|0),this.words[n+r]=67108863&s}for(;n<this.length-r;n++)a=(s=(0|this.words[n+r])+a)>>26,this.words[n+r]=67108863&s;if(0===a)return this.strip();for(i(-1===a),a=0,n=0;n<this.length;n++)a=(s=-(0|this.words[n])+a)>>26,this.words[n]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(e,t){var r=(this.length,e.length),i=this.clone(),n=e,o=0|n.words[n.length-1];0!==(r=26-this._countBits(o))&&(n=n.ushln(r),i.iushln(r),o=0|n.words[n.length-1]);var a,c=i.length-n.length;if("mod"!==t){(a=new s(null)).length=c+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var u=i.clone()._ishlnsubmul(n,1,c);0===u.negative&&(i=u,a&&(a.words[c]=1));for(var h=c-1;h>=0;h--){var d=67108864*(0|i.words[n.length+h])+(0|i.words[n.length+h-1]);for(d=Math.min(d/o|0,67108863),i._ishlnsubmul(n,d,h);0!==i.negative;)d--,i.negative=0,i._ishlnsubmul(n,1,h),i.isZero()||(i.negative^=1);a&&(a.words[h]=d)}return a&&a.strip(),i.strip(),"div"!==t&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},s.prototype.divmod=function(e,t,r){return i(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(n=a.div.neg()),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:n,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(n=a.div.neg()),{div:n,mod:a.mod}):0!==(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modn(e.words[0]))}:this._wordDiv(e,t);var n,o,a},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),n=e.andln(1),s=r.cmp(i);return s<0||1===n&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modn=function(e){i(e<=67108863);for(var t=(1<<26)%e,r=0,n=this.length-1;n>=0;n--)r=(t*r+(0|this.words[n]))%e;return r},s.prototype.idivn=function(e){i(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var n=(0|this.words[r])+67108864*t;this.words[r]=n/e|0,t=n%e}return this.strip()},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n=new s(1),o=new s(0),a=new s(0),c=new s(1),l=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++l;for(var u=r.clone(),h=t.clone();!t.isZero();){for(var d=0,f=1;0===(t.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(n.isOdd()||o.isOdd())&&(n.iadd(u),o.isub(h)),n.iushrn(1),o.iushrn(1);for(var p=0,g=1;0===(r.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(u),c.isub(h)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),n.isub(a),o.isub(c)):(r.isub(t),a.isub(n),c.isub(o))}return{a:a,b:c,gcd:r.iushln(l)}},s.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n,o=new s(1),a=new s(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,u=1;0===(t.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(t.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);for(var h=0,d=1;0===(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),o.isub(a)):(r.isub(t),a.isub(o))}return(n=0===t.cmpn(1)?o:a).cmpn(0)<0&&n.iadd(e),n},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var i=0;t.isEven()&&r.isEven();i++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=t.cmp(r);if(n<0){var s=t;t=r,r=s}else if(0===n||0===r.cmpn(1))break;t.isub(r)}return r.iushln(i)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return 0===(1&this.words[0])},s.prototype.isOdd=function(){return 1===(1&this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){i("number"===typeof e);var t=e%26,r=(e-t)/26,n=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var s=n,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),i(e<=67108863,"Number is too big");var n=0|this.words[0];t=n===e?0:n<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|e.words[r];if(i!==n){i<n?t=-1:i>n&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new _(e)},s.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(e){if("string"===typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function M(e){_.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},n(v,y),v.prototype.split=function(e,t){for(var r=4194303,i=Math.min(e.length,9),n=0;n<i;n++)t.words[n]=e.words[n];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&r,n=10;n<e.length;n++){var o=0|e.words[n];e.words[n-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,e.words[n-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var i=0|e.words[r];t+=977*i,e.words[r]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(w,y),n(S,y),n(E,y),E.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var i=19*(0|e.words[r])+t,n=67108863&i;i>>>=26,e.words[r]=n,t=i}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new w;else if("p192"===e)t=new S;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E}return m[e]=t,t},_.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},_.prototype._verify2=function(e,t){i(0===(e.negative|t.negative),"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},_.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},_.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},_.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},_.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},_.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},_.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},_.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},_.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},_.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},_.prototype.isqr=function(e){return this.imul(e,e.clone())},_.prototype.sqr=function(e){return this.mul(e,e)},_.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2===1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var n=this.m.subn(1),o=0;!n.isZero()&&0===n.andln(1);)o++,n.iushrn(1);i(!n.isZero());var a=new s(1).toRed(this),c=a.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var h=this.pow(u,n),d=this.pow(e,n.addn(1).iushrn(1)),f=this.pow(e,n),p=o;0!==f.cmp(a);){for(var g=f,b=0;0!==g.cmp(a);b++)g=g.redSqr();i(b<p);var m=this.pow(h,new s(1).iushln(p-b-1));d=d.redMul(m),h=m.redSqr(),f=f.redMul(h),p=b}return d},_.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},_.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=e;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],e);var n=r[0],o=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),i=t.length-1;i>=0;i--){for(var l=t.words[i],u=c-1;u>=0;u--){var h=l>>u&1;n!==r[0]&&(n=this.sqr(n)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===i&&0===u)&&(n=this.mul(n,r[o]),a=0,o=0)):a=0}c=26}return n},_.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},_.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new M(e)},n(M,_),M.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},M.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},M.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var r=e.mul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},M.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},7284:e=>{"use strict";var t,r="object"===typeof Reflect?Reflect:null,i=r&&"function"===typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var n=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(r,i){function n(r){e.removeListener(t,s),i(r)}function s(){"function"===typeof e.removeListener&&e.removeListener("error",n),r([].slice.call(arguments))}g(e,t,s,{once:!0}),"error"!==t&&function(e,t,r){"function"===typeof e.on&&g(e,"error",t,r)}(e,n,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,r,i){var n,s,o,l;if(a(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),void 0===o)o=s[t]=r,++e._eventsCount;else if("function"===typeof o?o=s[t]=i?[r,o]:[o,r]:i?o.unshift(r):o.push(r),(n=c(e))>0&&o.length>n&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,r){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},n=u.bind(i);return n.listener=r,i.wrapFn=n,n}function d(e,t,r){var i=e._events;if(void 0===i)return[];var n=i[t];return void 0===n?[]:"function"===typeof n?r?[n.listener||n]:[n]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(n):p(n,n.length)}function f(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=new Array(t),i=0;i<t;++i)r[i]=e[i];return r}function g(e,t,r,i){if("function"===typeof e.on)i.once?e.once(t,r):e.on(t,r);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function n(s){i.once&&e.removeEventListener(t,n),r(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!==typeof e||e<0||n(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||n(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,s=this._events;if(void 0!==s)n=n&&void 0===s.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(void 0===c)return!1;if("function"===typeof c)i(c,this,t);else{var l=c.length,u=p(c,l);for(r=0;r<l;++r)i(u[r],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){return a(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,i,n,s,o;if(a(t),void 0===(i=this._events))return this;if(void 0===(r=i[e]))return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!==typeof r){for(n=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){o=r[s].listener,n=s;break}if(n<0)return this;0===n?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,n),1===r.length&&(i[e]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var n,s=Object.keys(r);for(i=0;i<s.length;++i)"removeListener"!==(n=s[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},s.prototype.listeners=function(e){return d(this,e,!0)},s.prototype.rawListeners=function(e){return d(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},38:e=>{"use strict";e.exports=function(e,t){for(var r={},i=Object.keys(e),n=Array.isArray(t),s=0;s<i.length;s++){var o=i[s],a=e[o];(n?-1!==t.indexOf(o):t(o,a,e))&&(r[o]=a)}return r}},3697:(e,t,r)=>{var i=t;i.utils=r(7643),i.common=r(2629),i.sha=r(2624),i.ripemd=r(1859),i.hmac=r(7355),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},2629:(e,t,r)=>{"use strict";var i=r(7643),n=r(5482);function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=s,s.prototype.update=function(e,t){if(e=i.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=i.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},s.prototype.digest=function(e){return this.update(this._pad()),n(null===this.pending),this._digest(e)},s.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=new Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(e<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=e>>>24&255,i[n++]=e>>>16&255,i[n++]=e>>>8&255,i[n++]=255&e}else for(i[n++]=255&e,i[n++]=e>>>8&255,i[n++]=e>>>16&255,i[n++]=e>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,s=8;s<this.padLength;s++)i[n++]=0;return i}},7355:(e,t,r)=>{"use strict";var i=r(7643),n=r(5482);function s(e,t,r){if(!(this instanceof s))return new s(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(t,r))}e.exports=s,s.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),n(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},s.prototype.update=function(e,t){return this.inner.update(e,t),this},s.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},1859:(e,t,r)=>{"use strict";var i=r(7643),n=r(2629),s=i.rotl32,o=i.sum32,a=i.sum32_3,c=i.sum32_4,l=n.BlockHash;function u(){if(!(this instanceof u))return new u;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(e,t,r,i){return e<=15?t^r^i:e<=31?t&r|~t&i:e<=47?(t|~r)^i:e<=63?t&i|r&~i:t^(r|~i)}function d(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function f(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}i.inherits(u,l),t.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],n=this.h[2],l=this.h[3],u=this.h[4],y=r,v=i,w=n,S=l,E=u,_=0;_<80;_++){var M=o(s(c(r,h(_,i,n,l),e[p[_]+t],d(_)),b[_]),u);r=u,u=l,l=s(n,10),n=i,i=M,M=o(s(c(y,h(79-_,v,w,S),e[g[_]+t],f(_)),m[_]),E),y=E,E=S,S=s(w,10),w=v,v=M}M=a(this.h[1],n,S),this.h[1]=a(this.h[2],l,E),this.h[2]=a(this.h[3],u,y),this.h[3]=a(this.h[4],r,v),this.h[4]=a(this.h[0],i,w),this.h[0]=M},u.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],b=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},2624:(e,t,r)=>{"use strict";t.sha1=r(2236),t.sha224=r(3291),t.sha256=r(3410),t.sha384=r(4282),t.sha512=r(2155)},2236:(e,t,r)=>{"use strict";var i=r(7643),n=r(2629),s=r(1510),o=i.rotl32,a=i.sum32,c=i.sum32_5,l=s.ft_1,u=n.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(d,u),e.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=o(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],s=this.h[1],u=this.h[2],d=this.h[3],f=this.h[4];for(i=0;i<r.length;i++){var p=~~(i/20),g=c(o(n,5),l(p,s,u,d),f,r[i],h[p]);f=d,d=u,u=o(s,30),s=n,n=g}this.h[0]=a(this.h[0],n),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],u),this.h[3]=a(this.h[3],d),this.h[4]=a(this.h[4],f)},d.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},3291:(e,t,r)=>{"use strict";var i=r(7643),n=r(3410);function s(){if(!(this instanceof s))return new s;n.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(s,n),e.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},3410:(e,t,r)=>{"use strict";var i=r(7643),n=r(2629),s=r(1510),o=r(5482),a=i.sum32,c=i.sum32_4,l=i.sum32_5,u=s.ch32,h=s.maj32,d=s.s0_256,f=s.s1_256,p=s.g0_256,g=s.g1_256,b=n.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;b.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}i.inherits(y,b),e.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=c(g(r[i-2]),r[i-7],p(r[i-15]),r[i-16]);var n=this.h[0],s=this.h[1],b=this.h[2],m=this.h[3],y=this.h[4],v=this.h[5],w=this.h[6],S=this.h[7];for(o(this.k.length===r.length),i=0;i<r.length;i++){var E=l(S,f(y),u(y,v,w),this.k[i],r[i]),_=a(d(n),h(n,s,b));S=w,w=v,v=y,y=a(m,E),m=b,b=s,s=n,n=a(E,_)}this.h[0]=a(this.h[0],n),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],b),this.h[3]=a(this.h[3],m),this.h[4]=a(this.h[4],y),this.h[5]=a(this.h[5],v),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],S)},y.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},4282:(e,t,r)=>{"use strict";var i=r(7643),n=r(2155);function s(){if(!(this instanceof s))return new s;n.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(s,n),e.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},2155:(e,t,r)=>{"use strict";var i=r(7643),n=r(2629),s=r(5482),o=i.rotr64_hi,a=i.rotr64_lo,c=i.shr64_hi,l=i.shr64_lo,u=i.sum64,h=i.sum64_hi,d=i.sum64_lo,f=i.sum64_4_hi,p=i.sum64_4_lo,g=i.sum64_5_hi,b=i.sum64_5_lo,m=n.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function w(e,t,r,i,n){var s=e&r^~e&n;return s<0&&(s+=4294967296),s}function S(e,t,r,i,n,s){var o=t&i^~t&s;return o<0&&(o+=4294967296),o}function E(e,t,r,i,n){var s=e&r^e&n^r&n;return s<0&&(s+=4294967296),s}function _(e,t,r,i,n,s){var o=t&i^t&s^i&s;return o<0&&(o+=4294967296),o}function M(e,t){var r=o(e,t,28)^o(t,e,2)^o(t,e,7);return r<0&&(r+=4294967296),r}function I(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function x(e,t){var r=o(e,t,14)^o(e,t,18)^o(t,e,9);return r<0&&(r+=4294967296),r}function A(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function P(e,t){var r=o(e,t,1)^o(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}function k(e,t){var r=a(e,t,1)^a(e,t,8)^l(e,t,7);return r<0&&(r+=4294967296),r}function O(e,t){var r=o(e,t,19)^o(t,e,29)^c(e,t,6);return r<0&&(r+=4294967296),r}function N(e,t){var r=a(e,t,19)^a(t,e,29)^l(e,t,6);return r<0&&(r+=4294967296),r}i.inherits(v,m),e.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var n=O(r[i-4],r[i-3]),s=N(r[i-4],r[i-3]),o=r[i-14],a=r[i-13],c=P(r[i-30],r[i-29]),l=k(r[i-30],r[i-29]),u=r[i-32],h=r[i-31];r[i]=f(n,s,o,a,c,l,u,h),r[i+1]=p(n,s,o,a,c,l,u,h)}},v.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],n=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4],l=this.h[5],f=this.h[6],p=this.h[7],m=this.h[8],y=this.h[9],v=this.h[10],P=this.h[11],k=this.h[12],O=this.h[13],N=this.h[14],R=this.h[15];s(this.k.length===r.length);for(var T=0;T<r.length;T+=2){var C=N,L=R,z=x(m,y),U=A(m,y),D=w(m,y,v,P,k),q=S(m,y,v,P,k,O),j=this.k[T],B=this.k[T+1],F=r[T],K=r[T+1],V=g(C,L,z,U,D,q,j,B,F,K),H=b(C,L,z,U,D,q,j,B,F,K);C=M(i,n),L=I(i,n),z=E(i,n,o,a,c),U=_(i,n,o,a,c,l);var W=h(C,L,z,U),G=d(C,L,z,U);N=k,R=O,k=v,O=P,v=m,P=y,m=h(f,p,V,H),y=d(p,p,V,H),f=c,p=l,c=o,l=a,o=i,a=n,i=h(V,H,W,G),n=d(V,H,W,G)}u(this.h,0,i,n),u(this.h,2,o,a),u(this.h,4,c,l),u(this.h,6,f,p),u(this.h,8,m,y),u(this.h,10,v,P),u(this.h,12,k,O),u(this.h,14,N,R)},v.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},1510:(e,t,r)=>{"use strict";var i=r(7643).rotr32;function n(e,t,r){return e&t^~e&r}function s(e,t,r){return e&t^e&r^t&r}function o(e,t,r){return e^t^r}t.ft_1=function(e,t,r,i){return 0===e?n(t,r,i):1===e||3===e?o(t,r,i):2===e?s(t,r,i):void 0},t.ch32=n,t.maj32=s,t.p32=o,t.s0_256=function(e){return i(e,2)^i(e,13)^i(e,22)},t.s1_256=function(e){return i(e,6)^i(e,11)^i(e,25)},t.g0_256=function(e){return i(e,7)^i(e,18)^e>>>3},t.g1_256=function(e){return i(e,17)^i(e,19)^e>>>10}},7643:(e,t,r)=>{"use strict";var i=r(5482),n=r(6329);function s(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function o(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=n,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var i=0,n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?r[i++]=o:o<2048?(r[i++]=o>>6|192,r[i++]=63&o|128):s(e,n)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n)),r[i++]=o>>18|240,r[i++]=o>>12&63|128,r[i++]=o>>6&63|128,r[i++]=63&o|128):(r[i++]=o>>12|224,r[i++]=o>>6&63|128,r[i++]=63&o|128)}else for(n=0;n<e.length;n++)r[n]=0|e[n];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=a(e[r].toString(16));return t},t.htonl=o,t.toHex32=function(e,t){for(var r="",i=0;i<e.length;i++){var n=e[i];"little"===t&&(n=o(n)),r+=c(n.toString(16))}return r},t.zero2=a,t.zero8=c,t.join32=function(e,t,r,n){var s=r-t;i(s%4===0);for(var o=new Array(s/4),a=0,c=t;a<o.length;a++,c+=4){var l;l="big"===n?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],o[a]=l>>>0}return o},t.split32=function(e,t){for(var r=new Array(4*e.length),i=0,n=0;i<e.length;i++,n+=4){var s=e[i];"big"===t?(r[n]=s>>>24,r[n+1]=s>>>16&255,r[n+2]=s>>>8&255,r[n+3]=255&s):(r[n+3]=s>>>24,r[n+2]=s>>>16&255,r[n+1]=s>>>8&255,r[n]=255&s)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,i){return e+t+r+i>>>0},t.sum32_5=function(e,t,r,i,n){return e+t+r+i+n>>>0},t.sum64=function(e,t,r,i){var n=e[t],s=i+e[t+1]>>>0,o=(s<i?1:0)+r+n;e[t]=o>>>0,e[t+1]=s},t.sum64_hi=function(e,t,r,i){return(t+i>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,i){return t+i>>>0},t.sum64_4_hi=function(e,t,r,i,n,s,o,a){var c=0,l=t;return c+=(l=l+i>>>0)<t?1:0,c+=(l=l+s>>>0)<s?1:0,e+r+n+o+(c+=(l=l+a>>>0)<a?1:0)>>>0},t.sum64_4_lo=function(e,t,r,i,n,s,o,a){return t+i+s+a>>>0},t.sum64_5_hi=function(e,t,r,i,n,s,o,a,c,l){var u=0,h=t;return u+=(h=h+i>>>0)<t?1:0,u+=(h=h+s>>>0)<s?1:0,u+=(h=h+a>>>0)<a?1:0,e+r+n+o+c+(u+=(h=h+l>>>0)<l?1:0)>>>0},t.sum64_5_lo=function(e,t,r,i,n,s,o,a,c,l){return t+i+s+a+l>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},1172:(e,t,r)=>{"use strict";var i=r(3697),n=r(9848),s=r(5482);function o(e){if(!(this instanceof o))return new o(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=n.toArray(e.entropy,e.entropyEnc||"hex"),r=n.toArray(e.nonce,e.nonceEnc||"hex"),i=n.toArray(e.pers,e.persEnc||"hex");s(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}e.exports=o,o.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},o.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(e,t,r,i){"string"!==typeof t&&(i=r,r=t,t=null),e=n.toArray(e,t),r=n.toArray(r,i),s(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},o.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(i=r,r=t,t=null),r&&(r=n.toArray(r,i||"hex"),this._update(r));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(r),this._reseed++,n.encode(o,t)}},6329:e=>{"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},8725:(e,t,r)=>{e.exports=self.fetch||(self.fetch=r(1009).default||r(1009))},2161:(e,t,r)=>{var i;!function(){"use strict";var n="input is invalid type",s="object"===typeof window,o=s?window:{};o.JS_SHA3_NO_WINDOW&&(s=!1);var a=!s&&"object"===typeof self;!o.JS_SHA3_NO_NODE_JS&&"object"===typeof process&&process.versions&&process.versions.node?o=r.g:a&&(o=self);var c=!o.JS_SHA3_NO_COMMON_JS&&e.exports,l=r.amdO,u=!o.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,h="0123456789abcdef".split(""),d=[4,1024,262144,67108864],f=[0,8,16,24],p=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],g=[224,256,384,512],b=[128,256],m=["hex","buffer","arrayBuffer","array","digest"],y={128:168,256:136};!o.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!u||!o.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var v=function(e,t,r){return function(i){return new C(e,t,e).update(i)[r]()}},w=function(e,t,r){return function(i,n){return new C(e,t,n).update(i)[r]()}},S=function(e,t,r){return function(t,i,n,s){return x["cshake"+e].update(t,i,n,s)[r]()}},E=function(e,t,r){return function(t,i,n,s){return x["kmac"+e].update(t,i,n,s)[r]()}},_=function(e,t,r,i){for(var n=0;n<m.length;++n){var s=m[n];e[s]=t(r,i,s)}return e},M=function(e,t){var r=v(e,t,"hex");return r.create=function(){return new C(e,t,e)},r.update=function(e){return r.create().update(e)},_(r,v,e,t)},I=[{name:"keccak",padding:[1,256,65536,16777216],bits:g,createMethod:M},{name:"sha3",padding:[6,1536,393216,100663296],bits:g,createMethod:M},{name:"shake",padding:[31,7936,2031616,520093696],bits:b,createMethod:function(e,t){var r=w(e,t,"hex");return r.create=function(r){return new C(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},_(r,w,e,t)}},{name:"cshake",padding:d,bits:b,createMethod:function(e,t){var r=y[e],i=S(e,0,"hex");return i.create=function(i,n,s){return n||s?new C(e,t,i).bytepad([n,s],r):x["shake"+e].create(i)},i.update=function(e,t,r,n){return i.create(t,r,n).update(e)},_(i,S,e,t)}},{name:"kmac",padding:d,bits:b,createMethod:function(e,t){var r=y[e],i=E(e,0,"hex");return i.create=function(i,n,s){return new L(e,t,n).bytepad(["KMAC",s],r).bytepad([i],r)},i.update=function(e,t,r,n){return i.create(e,r,n).update(t)},_(i,E,e,t)}}],x={},A=[],P=0;P<I.length;++P)for(var k=I[P],O=k.bits,N=0;N<O.length;++N){var R=k.name+"_"+O[N];if(A.push(R),x[R]=k.createMethod(O[N],k.padding),"sha3"!==k.name){var T=k.name+O[N];A.push(T),x[T]=x[R]}}function C(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var i=0;i<50;++i)this.s[i]=0}function L(e,t,r){C.call(this,e,t,r)}C.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(n);if(null===e)throw new Error(n);if(u&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!u||!ArrayBuffer.isView(e)))throw new Error(n);t=!0}for(var i,s,o=this.blocks,a=this.byteCount,c=e.length,l=this.blockCount,h=0,d=this.s;h<c;){if(this.reset)for(this.reset=!1,o[0]=this.block,i=1;i<l+1;++i)o[i]=0;if(t)for(i=this.start;h<c&&i<a;++h)o[i>>2]|=e[h]<<f[3&i++];else for(i=this.start;h<c&&i<a;++h)(s=e.charCodeAt(h))<128?o[i>>2]|=s<<f[3&i++]:s<2048?(o[i>>2]|=(192|s>>6)<<f[3&i++],o[i>>2]|=(128|63&s)<<f[3&i++]):s<55296||s>=57344?(o[i>>2]|=(224|s>>12)<<f[3&i++],o[i>>2]|=(128|s>>6&63)<<f[3&i++],o[i>>2]|=(128|63&s)<<f[3&i++]):(s=65536+((1023&s)<<10|1023&e.charCodeAt(++h)),o[i>>2]|=(240|s>>18)<<f[3&i++],o[i>>2]|=(128|s>>12&63)<<f[3&i++],o[i>>2]|=(128|s>>6&63)<<f[3&i++],o[i>>2]|=(128|63&s)<<f[3&i++]);if(this.lastByteIndex=i,i>=a){for(this.start=i-a,this.block=o[l],i=0;i<l;++i)d[i]^=o[i];z(d),this.reset=!0}else this.start=i}return this},C.prototype.encode=function(e,t){var r=255&e,i=1,n=[r];for(r=255&(e>>=8);r>0;)n.unshift(r),r=255&(e>>=8),++i;return t?n.push(i):n.unshift(i),this.update(n),n.length},C.prototype.encodeString=function(e){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(n);if(null===e)throw new Error(n);if(u&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!u||!ArrayBuffer.isView(e)))throw new Error(n);t=!0}var i=0,s=e.length;if(t)i=s;else for(var o=0;o<e.length;++o){var a=e.charCodeAt(o);a<128?i+=1:a<2048?i+=2:a<55296||a>=57344?i+=3:(a=65536+((1023&a)<<10|1023&e.charCodeAt(++o)),i+=4)}return i+=this.encode(8*i),this.update(e),i},C.prototype.bytepad=function(e,t){for(var r=this.encode(t),i=0;i<e.length;++i)r+=this.encodeString(e[i]);var n=t-r%t,s=[];return s.length=n,this.update(s),this},C.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,i=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)i[t]^=e[t];z(i)}},C.prototype.toString=C.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,i=this.outputBlocks,n=this.extraBytes,s=0,o=0,a="";o<i;){for(s=0;s<t&&o<i;++s,++o)e=r[s],a+=h[e>>4&15]+h[15&e]+h[e>>12&15]+h[e>>8&15]+h[e>>20&15]+h[e>>16&15]+h[e>>28&15]+h[e>>24&15];o%t===0&&(z(r),s=0)}return n&&(e=r[s],a+=h[e>>4&15]+h[15&e],n>1&&(a+=h[e>>12&15]+h[e>>8&15]),n>2&&(a+=h[e>>20&15]+h[e>>16&15])),a},C.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,i=this.outputBlocks,n=this.extraBytes,s=0,o=0,a=this.outputBits>>3;e=n?new ArrayBuffer(i+1<<2):new ArrayBuffer(a);for(var c=new Uint32Array(e);o<i;){for(s=0;s<t&&o<i;++s,++o)c[o]=r[s];o%t===0&&z(r)}return n&&(c[s]=r[s],e=e.slice(0,a)),e},C.prototype.buffer=C.prototype.arrayBuffer,C.prototype.digest=C.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,i=this.s,n=this.outputBlocks,s=this.extraBytes,o=0,a=0,c=[];a<n;){for(o=0;o<r&&a<n;++o,++a)e=a<<2,t=i[o],c[e]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;a%r===0&&z(i)}return s&&(e=a<<2,t=i[o],c[e]=255&t,s>1&&(c[e+1]=t>>8&255),s>2&&(c[e+2]=t>>16&255)),c},L.prototype=new C,L.prototype.finalize=function(){return this.encode(this.outputBits,!0),C.prototype.finalize.call(this)};var z=function(e){var t,r,i,n,s,o,a,c,l,u,h,d,f,g,b,m,y,v,w,S,E,_,M,I,x,A,P,k,O,N,R,T,C,L,z,U,D,q,j,B,F,K,V,H,W,G,J,Y,Z,X,$,Q,ee,te,re,ie,ne,se,oe,ae,ce,le,ue;for(i=0;i<48;i+=2)n=e[0]^e[10]^e[20]^e[30]^e[40],s=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],c=e[4]^e[14]^e[24]^e[34]^e[44],l=e[5]^e[15]^e[25]^e[35]^e[45],u=e[6]^e[16]^e[26]^e[36]^e[46],h=e[7]^e[17]^e[27]^e[37]^e[47],t=(d=e[8]^e[18]^e[28]^e[38]^e[48])^(o<<1|a>>>31),r=(f=e[9]^e[19]^e[29]^e[39]^e[49])^(a<<1|o>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=n^(c<<1|l>>>31),r=s^(l<<1|c>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=o^(u<<1|h>>>31),r=a^(h<<1|u>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=c^(d<<1|f>>>31),r=l^(f<<1|d>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=u^(n<<1|s>>>31),r=h^(s<<1|n>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,g=e[0],b=e[1],G=e[11]<<4|e[10]>>>28,J=e[10]<<4|e[11]>>>28,k=e[20]<<3|e[21]>>>29,O=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,K=e[40]<<18|e[41]>>>14,V=e[41]<<18|e[40]>>>14,L=e[2]<<1|e[3]>>>31,z=e[3]<<1|e[2]>>>31,m=e[13]<<12|e[12]>>>20,y=e[12]<<12|e[13]>>>20,Y=e[22]<<10|e[23]>>>22,Z=e[23]<<10|e[22]>>>22,N=e[33]<<13|e[32]>>>19,R=e[32]<<13|e[33]>>>19,le=e[42]<<2|e[43]>>>30,ue=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,U=e[14]<<6|e[15]>>>26,D=e[15]<<6|e[14]>>>26,v=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,X=e[34]<<15|e[35]>>>17,$=e[35]<<15|e[34]>>>17,T=e[45]<<29|e[44]>>>3,C=e[44]<<29|e[45]>>>3,I=e[6]<<28|e[7]>>>4,x=e[7]<<28|e[6]>>>4,ie=e[17]<<23|e[16]>>>9,ne=e[16]<<23|e[17]>>>9,q=e[26]<<25|e[27]>>>7,j=e[27]<<25|e[26]>>>7,S=e[36]<<21|e[37]>>>11,E=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,H=e[8]<<27|e[9]>>>5,W=e[9]<<27|e[8]>>>5,A=e[18]<<20|e[19]>>>12,P=e[19]<<20|e[18]>>>12,se=e[29]<<7|e[28]>>>25,oe=e[28]<<7|e[29]>>>25,B=e[38]<<8|e[39]>>>24,F=e[39]<<8|e[38]>>>24,_=e[48]<<14|e[49]>>>18,M=e[49]<<14|e[48]>>>18,e[0]=g^~m&v,e[1]=b^~y&w,e[10]=I^~A&k,e[11]=x^~P&O,e[20]=L^~U&q,e[21]=z^~D&j,e[30]=H^~G&Y,e[31]=W^~J&Z,e[40]=te^~ie&se,e[41]=re^~ne&oe,e[2]=m^~v&S,e[3]=y^~w&E,e[12]=A^~k&N,e[13]=P^~O&R,e[22]=U^~q&B,e[23]=D^~j&F,e[32]=G^~Y&X,e[33]=J^~Z&$,e[42]=ie^~se&ae,e[43]=ne^~oe&ce,e[4]=v^~S&_,e[5]=w^~E&M,e[14]=k^~N&T,e[15]=O^~R&C,e[24]=q^~B&K,e[25]=j^~F&V,e[34]=Y^~X&Q,e[35]=Z^~$&ee,e[44]=se^~ae&le,e[45]=oe^~ce&ue,e[6]=S^~_&g,e[7]=E^~M&b,e[16]=N^~T&I,e[17]=R^~C&x,e[26]=B^~K&L,e[27]=F^~V&z,e[36]=X^~Q&H,e[37]=$^~ee&W,e[46]=ae^~le&te,e[47]=ce^~ue&re,e[8]=_^~g&m,e[9]=M^~b&y,e[18]=T^~I&A,e[19]=C^~x&P,e[28]=K^~L&U,e[29]=V^~z&D,e[38]=Q^~H&G,e[39]=ee^~W&J,e[48]=le^~te&ie,e[49]=ue^~re&ne,e[0]^=p[i],e[1]^=p[i+1]};if(c)e.exports=x;else{for(P=0;P<A.length;++P)o[A[P]]=x[A[P]];l&&(void 0===(i=function(){return x}.call(t,r,t,e))||(e.exports=i))}}()},67:(e,t,r)=>{e=r.nmd(e);var i="__lodash_hash_undefined__",n=9007199254740991,s="[object Arguments]",o="[object Array]",a="[object Boolean]",c="[object Date]",l="[object Error]",u="[object Function]",h="[object Map]",d="[object Number]",f="[object Object]",p="[object Promise]",g="[object RegExp]",b="[object Set]",m="[object String]",y="[object Symbol]",v="[object WeakMap]",w="[object ArrayBuffer]",S="[object DataView]",E=/^\[object .+?Constructor\]$/,_=/^(?:0|[1-9]\d*)$/,M={};M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M[s]=M[o]=M[w]=M[a]=M[S]=M[c]=M[l]=M[u]=M[h]=M[d]=M[f]=M[g]=M[b]=M[m]=M[v]=!1;var I="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,x="object"==typeof self&&self&&self.Object===Object&&self,A=I||x||Function("return this")(),P=t&&!t.nodeType&&t,k=P&&e&&!e.nodeType&&e,O=k&&k.exports===P,N=O&&I.process,R=function(){try{return N&&N.binding&&N.binding("util")}catch(e){}}(),T=R&&R.isTypedArray;function C(e,t){for(var r=-1,i=null==e?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}function L(e){var t=-1,r=Array(e.size);return e.forEach((function(e,i){r[++t]=[i,e]})),r}function z(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var U,D,q=Array.prototype,j=Function.prototype,B=Object.prototype,F=A["__core-js_shared__"],K=j.toString,V=B.hasOwnProperty,H=function(){var e=/[^.]+$/.exec(F&&F.keys&&F.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),W=B.toString,G=RegExp("^"+K.call(V).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),J=O?A.Buffer:void 0,Y=A.Symbol,Z=A.Uint8Array,X=B.propertyIsEnumerable,$=q.splice,Q=Y?Y.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=J?J.isBuffer:void 0,re=(U=Object.keys,D=Object,function(e){return U(D(e))}),ie=Ne(A,"DataView"),ne=Ne(A,"Map"),se=Ne(A,"Promise"),oe=Ne(A,"Set"),ae=Ne(A,"WeakMap"),ce=Ne(Object,"create"),le=Le(ie),ue=Le(ne),he=Le(se),de=Le(oe),fe=Le(ae),pe=Y?Y.prototype:void 0,ge=pe?pe.valueOf:void 0;function be(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function me(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function ye(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function ve(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new ye;++t<r;)this.add(e[t])}function we(e){var t=this.__data__=new me(e);this.size=t.size}function Se(e,t){var r=De(e),i=!r&&Ue(e),n=!r&&!i&&qe(e),s=!r&&!i&&!n&&Ve(e),o=r||i||n||s,a=o?function(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}(e.length,String):[],c=a.length;for(var l in e)!t&&!V.call(e,l)||o&&("length"==l||n&&("offset"==l||"parent"==l)||s&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Ce(l,c))||a.push(l);return a}function Ee(e,t){for(var r=e.length;r--;)if(ze(e[r][0],t))return r;return-1}function _e(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Q&&Q in Object(e)?function(e){var t=V.call(e,Q),r=e[Q];try{e[Q]=void 0;var i=!0}catch(s){}var n=W.call(e);i&&(t?e[Q]=r:delete e[Q]);return n}(e):function(e){return W.call(e)}(e)}function Me(e){return Ke(e)&&_e(e)==s}function Ie(e,t,r,i,n){return e===t||(null==e||null==t||!Ke(e)&&!Ke(t)?e!==e&&t!==t:function(e,t,r,i,n,u){var p=De(e),v=De(t),E=p?o:Te(e),_=v?o:Te(t),M=(E=E==s?f:E)==f,I=(_=_==s?f:_)==f,x=E==_;if(x&&qe(e)){if(!qe(t))return!1;p=!0,M=!1}if(x&&!M)return u||(u=new we),p||Ve(e)?Pe(e,t,r,i,n,u):function(e,t,r,i,n,s,o){switch(r){case S:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!s(new Z(e),new Z(t)));case a:case c:case d:return ze(+e,+t);case l:return e.name==t.name&&e.message==t.message;case g:case m:return e==t+"";case h:var u=L;case b:var f=1&i;if(u||(u=z),e.size!=t.size&&!f)return!1;var p=o.get(e);if(p)return p==t;i|=2,o.set(e,t);var v=Pe(u(e),u(t),i,n,s,o);return o.delete(e),v;case y:if(ge)return ge.call(e)==ge.call(t)}return!1}(e,t,E,r,i,n,u);if(!(1&r)){var A=M&&V.call(e,"__wrapped__"),P=I&&V.call(t,"__wrapped__");if(A||P){var k=A?e.value():e,O=P?t.value():t;return u||(u=new we),n(k,O,r,i,u)}}if(!x)return!1;return u||(u=new we),function(e,t,r,i,n,s){var o=1&r,a=ke(e),c=a.length,l=ke(t),u=l.length;if(c!=u&&!o)return!1;var h=c;for(;h--;){var d=a[h];if(!(o?d in t:V.call(t,d)))return!1}var f=s.get(e);if(f&&s.get(t))return f==t;var p=!0;s.set(e,t),s.set(t,e);var g=o;for(;++h<c;){var b=e[d=a[h]],m=t[d];if(i)var y=o?i(m,b,d,t,e,s):i(b,m,d,e,t,s);if(!(void 0===y?b===m||n(b,m,r,i,s):y)){p=!1;break}g||(g="constructor"==d)}if(p&&!g){var v=e.constructor,w=t.constructor;v==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof w&&w instanceof w||(p=!1)}return s.delete(e),s.delete(t),p}(e,t,r,i,n,u)}(e,t,r,i,Ie,n))}function xe(e){return!(!Fe(e)||function(e){return!!H&&H in e}(e))&&(je(e)?G:E).test(Le(e))}function Ae(e){if(!function(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||B;return e===r}(e))return re(e);var t=[];for(var r in Object(e))V.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Pe(e,t,r,i,n,s){var o=1&r,a=e.length,c=t.length;if(a!=c&&!(o&&c>a))return!1;var l=s.get(e);if(l&&s.get(t))return l==t;var u=-1,h=!0,d=2&r?new ve:void 0;for(s.set(e,t),s.set(t,e);++u<a;){var f=e[u],p=t[u];if(i)var g=o?i(p,f,u,t,e,s):i(f,p,u,e,t,s);if(void 0!==g){if(g)continue;h=!1;break}if(d){if(!C(t,(function(e,t){if(o=t,!d.has(o)&&(f===e||n(f,e,r,i,s)))return d.push(t);var o}))){h=!1;break}}else if(f!==p&&!n(f,p,r,i,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function ke(e){return function(e,t,r){var i=t(e);return De(e)?i:function(e,t){for(var r=-1,i=t.length,n=e.length;++r<i;)e[n+r]=t[r];return e}(i,r(e))}(e,He,Re)}function Oe(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function Ne(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return xe(r)?r:void 0}be.prototype.clear=function(){this.__data__=ce?ce(null):{},this.size=0},be.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},be.prototype.get=function(e){var t=this.__data__;if(ce){var r=t[e];return r===i?void 0:r}return V.call(t,e)?t[e]:void 0},be.prototype.has=function(e){var t=this.__data__;return ce?void 0!==t[e]:V.call(t,e)},be.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ce&&void 0===t?i:t,this},me.prototype.clear=function(){this.__data__=[],this.size=0},me.prototype.delete=function(e){var t=this.__data__,r=Ee(t,e);return!(r<0)&&(r==t.length-1?t.pop():$.call(t,r,1),--this.size,!0)},me.prototype.get=function(e){var t=this.__data__,r=Ee(t,e);return r<0?void 0:t[r][1]},me.prototype.has=function(e){return Ee(this.__data__,e)>-1},me.prototype.set=function(e,t){var r=this.__data__,i=Ee(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this},ye.prototype.clear=function(){this.size=0,this.__data__={hash:new be,map:new(ne||me),string:new be}},ye.prototype.delete=function(e){var t=Oe(this,e).delete(e);return this.size-=t?1:0,t},ye.prototype.get=function(e){return Oe(this,e).get(e)},ye.prototype.has=function(e){return Oe(this,e).has(e)},ye.prototype.set=function(e,t){var r=Oe(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this},ve.prototype.add=ve.prototype.push=function(e){return this.__data__.set(e,i),this},ve.prototype.has=function(e){return this.__data__.has(e)},we.prototype.clear=function(){this.__data__=new me,this.size=0},we.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},we.prototype.get=function(e){return this.__data__.get(e)},we.prototype.has=function(e){return this.__data__.has(e)},we.prototype.set=function(e,t){var r=this.__data__;if(r instanceof me){var i=r.__data__;if(!ne||i.length<199)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new ye(i)}return r.set(e,t),this.size=r.size,this};var Re=ee?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,i=null==e?0:e.length,n=0,s=[];++r<i;){var o=e[r];t(o,r,e)&&(s[n++]=o)}return s}(ee(e),(function(t){return X.call(e,t)})))}:function(){return[]},Te=_e;function Ce(e,t){return!!(t=null==t?n:t)&&("number"==typeof e||_.test(e))&&e>-1&&e%1==0&&e<t}function Le(e){if(null!=e){try{return K.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function ze(e,t){return e===t||e!==e&&t!==t}(ie&&Te(new ie(new ArrayBuffer(1)))!=S||ne&&Te(new ne)!=h||se&&Te(se.resolve())!=p||oe&&Te(new oe)!=b||ae&&Te(new ae)!=v)&&(Te=function(e){var t=_e(e),r=t==f?e.constructor:void 0,i=r?Le(r):"";if(i)switch(i){case le:return S;case ue:return h;case he:return p;case de:return b;case fe:return v}return t});var Ue=Me(function(){return arguments}())?Me:function(e){return Ke(e)&&V.call(e,"callee")&&!X.call(e,"callee")},De=Array.isArray;var qe=te||function(){return!1};function je(e){if(!Fe(e))return!1;var t=_e(e);return t==u||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Be(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}function Fe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ke(e){return null!=e&&"object"==typeof e}var Ve=T?function(e){return function(t){return e(t)}}(T):function(e){return Ke(e)&&Be(e.length)&&!!M[_e(e)]};function He(e){return null!=(t=e)&&Be(t.length)&&!je(t)?Se(e):Ae(e);var t}e.exports=function(e,t){return Ie(e,t)}},5482:e=>{function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},9848:(e,t)=>{"use strict";var r=t;function i(e){return 1===e.length?"0"+e:e}function n(e){for(var t="",r=0;r<e.length;r++)t+=i(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!==typeof e){for(var i=0;i<e.length;i++)r[i]=0|e[i];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(i=0;i<e.length;i++){var n=e.charCodeAt(i),s=n>>8,o=255&n;s?r.push(s,o):r.push(o)}return r},r.zero2=i,r.toHex=n,r.encode=function(e,t){return"hex"===t?n(e):e}},9370:(e,t,r)=>{"use strict";const i=r(7491),n=r(5707),s=r(1289),o=r(38),a=Symbol("encodeFragmentIdentifier");function c(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function l(e,t){return t.encode?t.strict?i(e):encodeURIComponent(e):e}function u(e,t){return t.decode?n(e):e}function h(e){return Array.isArray(e)?e.sort():"object"===typeof e?h(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function d(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function f(e){const t=(e=d(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function g(e,t){c((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,i)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===i[e]&&(i[e]={}),i[e][t[1]]=r):i[e]=r};case"bracket":return(e,r,i)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==i[e]?i[e]=[].concat(i[e],r):i[e]=[r]:i[e]=r};case"colon-list-separator":return(e,r,i)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==i[e]?i[e]=[].concat(i[e],r):i[e]=[r]:i[e]=r};case"comma":case"separator":return(t,r,i)=>{const n="string"===typeof r&&r.includes(e.arrayFormatSeparator),s="string"===typeof r&&!n&&u(r,e).includes(e.arrayFormatSeparator);r=s?u(r,e):r;const o=n||s?r.split(e.arrayFormatSeparator).map((t=>u(t,e))):null===r?r:u(r,e);i[t]=o};case"bracket-separator":return(t,r,i)=>{const n=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!n)return void(i[t]=r?u(r,e):r);const s=null===r?[]:r.split(e.arrayFormatSeparator).map((t=>u(t,e)));void 0!==i[t]?i[t]=[].concat(i[t],s):i[t]=s};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),i=Object.create(null);if("string"!==typeof e)return i;if(!(e=e.trim().replace(/^[?#&]/,"")))return i;for(const n of e.split("&")){if(""===n)continue;let[e,o]=s(t.decode?n.replace(/\+/g," "):n,"=");o=void 0===o?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?o:u(o,t),r(u(e,t),o,i)}for(const n of Object.keys(i)){const e=i[n];if("object"===typeof e&&null!==e)for(const r of Object.keys(e))e[r]=p(e[r],t);else i[n]=p(e,t)}return!1===t.sort?i:(!0===t.sort?Object.keys(i).sort():Object.keys(i).sort(t.sort)).reduce(((e,t)=>{const r=i[t];return Boolean(r)&&"object"===typeof r&&!Array.isArray(r)?e[t]=h(r):e[t]=r,e}),Object.create(null))}t.extract=f,t.parse=g,t.stringify=(e,t)=>{if(!e)return"";c((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const r=r=>{return t.skipNull&&(null===(i=e[r])||void 0===i)||t.skipEmptyString&&""===e[r];var i},i=function(e){switch(e.arrayFormat){case"index":return t=>(r,i)=>{const n=r.length;return void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?r:null===i?[...r,[l(t,e),"[",n,"]"].join("")]:[...r,[l(t,e),"[",l(n,e),"]=",l(i,e)].join("")]};case"bracket":return t=>(r,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?r:null===i?[...r,[l(t,e),"[]"].join("")]:[...r,[l(t,e),"[]=",l(i,e)].join("")];case"colon-list-separator":return t=>(r,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?r:null===i?[...r,[l(t,e),":list="].join("")]:[...r,[l(t,e),":list=",l(i,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(i,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?i:(n=null===n?"":n,0===i.length?[[l(r,e),t,l(n,e)].join("")]:[[i,l(n,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?r:null===i?[...r,l(t,e)]:[...r,[l(t,e),"=",l(i,e)].join("")]}}(t),n={};for(const o of Object.keys(e))r(o)||(n[o]=e[o]);const s=Object.keys(n);return!1!==t.sort&&s.sort(t.sort),s.map((r=>{const n=e[r];return void 0===n?"":null===n?l(r,t):Array.isArray(n)?0===n.length&&"bracket-separator"===t.arrayFormat?l(r,t)+"[]":n.reduce(i(r),[]).join("&"):l(r,t)+"="+l(n,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[r,i]=s(e,"#");return Object.assign({url:r.split("?")[0]||"",query:g(f(e),t)},t&&t.parseFragmentIdentifier&&i?{fragmentIdentifier:u(i,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0,[a]:!0},r);const i=d(e.url).split("?")[0]||"",n=t.extract(e.url),s=t.parse(n,{sort:!1}),o=Object.assign(s,e.query);let c=t.stringify(o,r);c&&(c="?".concat(c));let u=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(u="#".concat(r[a]?l(e.fragmentIdentifier,r):e.fragmentIdentifier)),"".concat(i).concat(c).concat(u)},t.pick=(e,r,i)=>{i=Object.assign({parseFragmentIdentifier:!0,[a]:!1},i);const{url:n,query:s,fragmentIdentifier:c}=t.parseUrl(e,i);return t.stringifyUrl({url:n,query:o(s,r),fragmentIdentifier:c},i)},t.exclude=(e,r,i)=>{const n=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return t.pick(e,n,i)}},5984:e=>{"use strict";function t(e){try{return JSON.stringify(e)}catch(t){return'"[Circular]"'}}e.exports=function(e,r,i){var n=i&&i.stringify||t;if("object"===typeof e&&null!==e){var s=r.length+1;if(1===s)return e;var o=new Array(s);o[0]=n(e);for(var a=1;a<s;a++)o[a]=n(r[a]);return o.join(" ")}if("string"!==typeof e)return e;var c=r.length;if(0===c)return e;for(var l="",u=0,h=-1,d=e&&e.length||0,f=0;f<d;){if(37===e.charCodeAt(f)&&f+1<d){switch(h=h>-1?h:0,e.charCodeAt(f+1)){case 100:case 102:if(u>=c)break;if(null==r[u])break;h<f&&(l+=e.slice(h,f)),l+=Number(r[u]),h=f+2,f++;break;case 105:if(u>=c)break;if(null==r[u])break;h<f&&(l+=e.slice(h,f)),l+=Math.floor(Number(r[u])),h=f+2,f++;break;case 79:case 111:case 106:if(u>=c)break;if(void 0===r[u])break;h<f&&(l+=e.slice(h,f));var p=typeof r[u];if("string"===p){l+="'"+r[u]+"'",h=f+2,f++;break}if("function"===p){l+=r[u].name||"<anonymous>",h=f+2,f++;break}l+=n(r[u]),h=f+2,f++;break;case 115:if(u>=c)break;h<f&&(l+=e.slice(h,f)),l+=String(r[u]),h=f+2,f++;break;case 37:h<f&&(l+=e.slice(h,f)),l+="%",h=f+2,f++,u--}++u}++f}if(-1===h)return e;h<d&&(l+=e.slice(h));return l}},7004:(e,t,r)=>{"use strict";var i=r(8853),n=r(5043),s=r(7950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var c=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),g=Symbol.for("react.consumer"),b=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var E=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var _=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var x=Symbol.for("react.client.reference");function A(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===x?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case h:return"Fragment";case u:return"Portal";case f:return"Profiler";case d:return"StrictMode";case y:return"Suspense";case v:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case b:return(e.displayName||"Context")+".Provider";case g:return(e._context.displayName||"Context")+".Consumer";case m:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case w:return null!==(t=e.displayName||null)?t:A(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return A(e(t))}catch(r){}}return null}var P,k,O=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign;function R(e){if(void 0===P)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||"",k=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+P+e+k}var T=!1;function C(e,t){if(!e||T)return"";T=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(n){var i=n}Reflect.construct(e,[],r)}else{try{r.call()}catch(s){i=s}e.call(r.prototype)}}else{try{throw Error()}catch(o){i=o}(r=e())&&"function"===typeof r.catch&&r.catch((function(){}))}}catch(a){if(a&&i&&"string"===typeof a.stack)return[a.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),o=s[0],a=s[1];if(o&&a){var c=o.split("\n"),l=a.split("\n");for(n=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;n<l.length&&!l[n].includes("DetermineComponentFrameRoot");)n++;if(i===c.length||n===l.length)for(i=c.length-1,n=l.length-1;1<=i&&0<=n&&c[i]!==l[n];)n--;for(;1<=i&&0<=n;i--,n--)if(c[i]!==l[n]){if(1!==i||1!==n)do{if(i--,0>--n||c[i]!==l[n]){var u="\n"+c[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=i&&0<=n);break}}}finally{T=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?R(r):""}function L(e){switch(e.tag){case 26:case 27:case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 15:return e=C(e.type,!1);case 11:return e=C(e.type.render,!1);case 1:return e=C(e.type,!0);default:return""}}function z(e){try{var t="";do{t+=L(e),e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}function U(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function D(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function q(e){if(U(e)!==e)throw Error(o(188))}function j(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=j(e)))return t;e=e.sibling}return null}var B=Array.isArray,F=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},V=[],H=-1;function W(e){return{current:e}}function G(e){0>H||(e.current=V[H],V[H]=null,H--)}function J(e,t){H++,V[H]=e.current,e.current=t}var Y=W(null),Z=W(null),X=W(null),$=W(null);function Q(e,t){switch(J(X,t),J(Z,e),J(Y,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Zu(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Xu(e=Zu(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(Y),J(Y,t)}function ee(){G(Y),G(Z),G(X)}function te(e){null!==e.memoizedState&&J($,e);var t=Y.current,r=Xu(t,e.type);t!==r&&(J(Z,e),J(Y,r))}function re(e){Z.current===e&&(G(Y),G(Z)),$.current===e&&(G($),zh._currentValue=K)}var ie=Object.prototype.hasOwnProperty,ne=i.unstable_scheduleCallback,se=i.unstable_cancelCallback,oe=i.unstable_shouldYield,ae=i.unstable_requestPaint,ce=i.unstable_now,le=i.unstable_getCurrentPriorityLevel,ue=i.unstable_ImmediatePriority,he=i.unstable_UserBlockingPriority,de=i.unstable_NormalPriority,fe=i.unstable_LowPriority,pe=i.unstable_IdlePriority,ge=i.log,be=i.unstable_setDisableYieldValue,me=null,ye=null;function ve(e){if("function"===typeof ge&&be(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(me,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Se(e)/Ee|0)|0},Se=Math.log,Ee=Math.LN2;var _e=128,Me=4194304;function Ie(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xe(e,t){var r=e.pendingLanes;if(0===r)return 0;var i=0,n=e.suspendedLanes,s=e.pingedLanes,o=e.warmLanes;e=0!==e.finishedLanes;var a=134217727&r;return 0!==a?0!==(r=a&~n)?i=Ie(r):0!==(s&=a)?i=Ie(s):e||0!==(o=a&~o)&&(i=Ie(o)):0!==(a=r&~n)?i=Ie(a):0!==s?i=Ie(s):e||0!==(o=r&~o)&&(i=Ie(o)),0===i?0:0!==t&&t!==i&&0===(t&n)&&((n=i&-i)>=(o=t&-t)||32===n&&0!==(4194176&o))?t:i}function Ae(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Pe(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=_e;return 0===(4194176&(_e<<=1))&&(_e=128),e}function Oe(){var e=Me;return 0===(62914560&(Me<<=1))&&(Me=4194304),e}function Ne(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Re(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-we(t);e.entangledLanes|=t,e.entanglements[i]=1073741824|e.entanglements[i]|4194218&r}function Ce(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-we(r),n=1<<i;n&t|e[i]&t&&(e[i]|=t),r&=~n}}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function ze(){var e=F.p;return 0!==e?e:void 0===(e=window.event)?32:Xh(e.type)}var Ue=Math.random().toString(36).slice(2),De="__reactFiber$"+Ue,qe="__reactProps$"+Ue,je="__reactContainer$"+Ue,Be="__reactEvents$"+Ue,Fe="__reactListeners$"+Ue,Ke="__reactHandles$"+Ue,Ve="__reactResources$"+Ue,He="__reactMarker$"+Ue;function We(e){delete e[De],delete e[qe],delete e[Be],delete e[Fe],delete e[Ke]}function Ge(e){var t=e[De];if(t)return t;for(var r=e.parentNode;r;){if(t=r[je]||r[De]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=ch(e);null!==e;){if(r=e[De])return r;e=ch(e)}return t}r=(e=r).parentNode}return null}function Je(e){if(e=e[De]||e[je]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ye(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function Ze(e){var t=e[Ve];return t||(t=e[Ve]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xe(e){e[He]=!0}var $e=new Set,Qe={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Qe[e]=t,e=0;e<t.length;e++)$e.add(t[e])}var rt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),it=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nt={},st={};function ot(e,t,r){if(n=t,ie.call(st,n)||!ie.call(nt,n)&&(it.test(n)?st[n]=!0:(nt[n]=!0,0)))if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var i=t.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i)return void e.removeAttribute(t)}e.setAttribute(t,""+r)}var n}function at(e,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+r)}}function ct(e,t,r,i){if(null===i)e.removeAttribute(r);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(r)}e.setAttributeNS(t,r,""+i)}}function lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var n=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){i=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=ut(e)?e.checked?"true":"false":e.value),(e=i)!==r&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function gt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function bt(e,t,r,i,n,s,o,a){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+lt(t)):e.value!==""+lt(t)&&(e.value=""+lt(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?yt(e,o,lt(t)):null!=r?yt(e,o,lt(r)):null!=i&&e.removeAttribute("value"),null==n&&null!=s&&(e.defaultChecked=!!s),null!=n&&(e.checked=n&&"function"!==typeof n&&"symbol"!==typeof n),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+lt(a):e.removeAttribute("name")}function mt(e,t,r,i,n,s,o,a){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=r){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;r=null!=r?""+lt(r):"",t=null!=t?""+lt(t):r,a||t===e.value||(e.value=t),e.defaultValue=t}i="function"!==typeof(i=null!=i?i:n)&&"symbol"!==typeof i&&!!i,e.checked=a?e.checked:!!i,e.defaultChecked=!!i,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o)}function yt(e,t,r){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function vt(e,t,r,i){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&i&&(e[r].defaultSelected=!0)}else{for(r=""+lt(r),t=null,n=0;n<e.length;n++){if(e[n].value===r)return e[n].selected=!0,void(i&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function wt(e,t,r){null==t||((t=""+lt(t))!==e.value&&(e.value=t),null!=r)?e.defaultValue=null!=r?""+lt(r):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,r,i){if(null==t){if(null!=i){if(null!=r)throw Error(o(92));if(B(i)){if(1<i.length)throw Error(o(93));i=i[0]}r=i}null==r&&(r=""),t=r}r=lt(t),e.defaultValue=r,(i=e.textContent)===r&&""!==i&&null!==i&&(e.value=i)}function Et(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var _t=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mt(e,t,r){var i=0===t.indexOf("--");null==r||"boolean"===typeof r||""===r?i?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":i?e.setProperty(t,r):"number"!==typeof r||0===r||_t.has(t)?"float"===t?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function It(e,t,r){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=r){for(var i in r)!r.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var n in t)i=t[n],t.hasOwnProperty(n)&&r[n]!==i&&Mt(e,n,i)}else for(var s in t)t.hasOwnProperty(s)&&Mt(e,s,t[s])}function xt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kt(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ot=null;function Nt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Rt=null,Tt=null;function Ct(e){var t=Je(e);if(t&&(e=t.stateNode)){var r=e[qe]||null;e:switch(e=t.stateNode,t.type){case"input":if(bt(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var n=i[qe]||null;if(!n)throw Error(o(90));bt(i,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<r.length;t++)(i=r[t]).form===e.form&&dt(i)}break e;case"textarea":wt(e,r.value,r.defaultValue);break e;case"select":null!=(t=r.value)&&vt(e,!!r.multiple,t,!1)}}}var Lt=!1;function zt(e,t,r){if(Lt)return e(t,r);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Rt||null!==Tt)&&(Dl(),Rt&&(t=Rt,e=Tt,Tt=Rt=null,Ct(t),e)))for(t=0;t<e.length;t++)Ct(e[t])}}function Ut(e,t){var r=e.stateNode;if(null===r)return null;var i=r[qe]||null;if(null===i)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(o(231,t,typeof r));return r}var Dt=!1;if(rt)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Dt=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(Sd){Dt=!1}var jt=null,Bt=null,Ft=null;function Kt(){if(Ft)return Ft;var e,t,r=Bt,i=r.length,n="value"in jt?jt.value:jt.textContent,s=n.length;for(e=0;e<i&&r[e]===n[e];e++);var o=i-e;for(t=1;t<=o&&r[i-t]===n[s-t];t++);return Ft=n.slice(e,1<t?1-t:void 0)}function Vt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Ht(){return!0}function Wt(){return!1}function Gt(e){function t(t,r,i,n,s){for(var o in this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=n,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(n):n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Ht:Wt,this.isPropagationStopped=Wt,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Ht)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Ht)},persist:function(){},isPersistent:Ht}),t}var Jt,Yt,Zt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$t=Gt(Xt),Qt=N({},Xt,{view:0,detail:0}),er=Gt(Qt),tr=N({},Qt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zt&&(Zt&&"mousemove"===e.type?(Jt=e.screenX-Zt.screenX,Yt=e.screenY-Zt.screenY):Yt=Jt=0,Zt=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rr=Gt(tr),ir=Gt(N({},tr,{dataTransfer:0})),nr=Gt(N({},Qt,{relatedTarget:0})),sr=Gt(N({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),or=Gt(N({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ar=Gt(N({},Xt,{data:0})),cr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ur={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ur[e])&&!!t[e]}function dr(){return hr}var fr=Gt(N({},Qt,{key:function(e){if(e.key){var t=cr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Vt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?lr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dr,charCode:function(e){return"keypress"===e.type?Vt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Vt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),pr=Gt(N({},tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gr=Gt(N({},Qt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dr})),br=Gt(N({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),mr=Gt(N({},tr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),yr=Gt(N({},Xt,{newState:0,oldState:0})),vr=[9,13,27,32],wr=rt&&"CompositionEvent"in window,Sr=null;rt&&"documentMode"in document&&(Sr=document.documentMode);var Er=rt&&"TextEvent"in window&&!Sr,_r=rt&&(!wr||Sr&&8<Sr&&11>=Sr),Mr=String.fromCharCode(32),Ir=!1;function xr(e,t){switch(e){case"keyup":return-1!==vr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ar(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pr=!1;var kr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!kr[e.type]:"textarea"===t}function Nr(e,t,r,i){Rt?Tt?Tt.push(i):Tt=[i]:Rt=i,0<(t=zu(t,"onChange")).length&&(r=new $t("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var Rr=null,Tr=null;function Cr(e){Pu(e,0)}function Lr(e){if(dt(Ye(e)))return e}function zr(e,t){if("change"===e)return t}var Ur=!1;if(rt){var Dr;if(rt){var qr="oninput"in document;if(!qr){var jr=document.createElement("div");jr.setAttribute("oninput","return;"),qr="function"===typeof jr.oninput}Dr=qr}else Dr=!1;Ur=Dr&&(!document.documentMode||9<document.documentMode)}function Br(){Rr&&(Rr.detachEvent("onpropertychange",Fr),Tr=Rr=null)}function Fr(e){if("value"===e.propertyName&&Lr(Tr)){var t=[];Nr(t,Tr,e,Nt(e)),zt(Cr,t)}}function Kr(e,t,r){"focusin"===e?(Br(),Tr=r,(Rr=t).attachEvent("onpropertychange",Fr)):"focusout"===e&&Br()}function Vr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Lr(Tr)}function Hr(e,t){if("click"===e)return Lr(t)}function Wr(e,t){if("input"===e||"change"===e)return Lr(t)}var Gr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Jr(e,t){if(Gr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var n=r[i];if(!ie.call(t,n)||!Gr(e[n],t[n]))return!1}return!0}function Yr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zr(e,t){var r,i=Yr(e);for(e=0;i;){if(3===i.nodeType){if(r=e+i.textContent.length,e<=t&&r>=t)return{node:i,offset:t-e};e=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Yr(i)}}function Xr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Xr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function $r(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(i){r=!1}if(!r)break;t=ft((e=t.contentWindow).document)}return t}function Qr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ei(e,t){var r=$r(t);t=e.focusedElem;var i=e.selectionRange;if(r!==t&&t&&t.ownerDocument&&Xr(t.ownerDocument.documentElement,t)){if(null!==i&&Qr(t))if(e=i.start,void 0===(r=i.end)&&(r=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(r,t.value.length);else if((r=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){r=r.getSelection();var n=t.textContent.length,s=Math.min(i.start,n);i=void 0===i.end?s:Math.min(i.end,n),!r.extend&&s>i&&(n=i,i=s,s=n),n=Zr(t,s);var o=Zr(t,i);n&&o&&(1!==r.rangeCount||r.anchorNode!==n.node||r.anchorOffset!==n.offset||r.focusNode!==o.node||r.focusOffset!==o.offset)&&((e=e.createRange()).setStart(n.node,n.offset),r.removeAllRanges(),s>i?(r.addRange(e),r.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),r.addRange(e)))}for(e=[],r=t;r=r.parentNode;)1===r.nodeType&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(r=e[t]).element.scrollLeft=r.left,r.element.scrollTop=r.top}}var ti=rt&&"documentMode"in document&&11>=document.documentMode,ri=null,ii=null,ni=null,si=!1;function oi(e,t,r){var i=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;si||null==ri||ri!==ft(i)||("selectionStart"in(i=ri)&&Qr(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},ni&&Jr(ni,i)||(ni=i,0<(i=zu(ii,"onSelect")).length&&(t=new $t("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=ri)))}function ai(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ci={animationend:ai("Animation","AnimationEnd"),animationiteration:ai("Animation","AnimationIteration"),animationstart:ai("Animation","AnimationStart"),transitionrun:ai("Transition","TransitionRun"),transitionstart:ai("Transition","TransitionStart"),transitioncancel:ai("Transition","TransitionCancel"),transitionend:ai("Transition","TransitionEnd")},li={},ui={};function hi(e){if(li[e])return li[e];if(!ci[e])return e;var t,r=ci[e];for(t in r)if(r.hasOwnProperty(t)&&t in ui)return li[e]=r[t];return e}rt&&(ui=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);var di=hi("animationend"),fi=hi("animationiteration"),pi=hi("animationstart"),gi=hi("transitionrun"),bi=hi("transitionstart"),mi=hi("transitioncancel"),yi=hi("transitionend"),vi=new Map,wi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Si(e,t){vi.set(e,t),et(t,[e])}var Ei=[],_i=0,Mi=0;function Ii(){for(var e=_i,t=Mi=_i=0;t<e;){var r=Ei[t];Ei[t++]=null;var i=Ei[t];Ei[t++]=null;var n=Ei[t];Ei[t++]=null;var s=Ei[t];if(Ei[t++]=null,null!==i&&null!==n){var o=i.pending;null===o?n.next=n:(n.next=o.next,o.next=n),i.pending=n}0!==s&&ki(r,n,s)}}function xi(e,t,r,i){Ei[_i++]=e,Ei[_i++]=t,Ei[_i++]=r,Ei[_i++]=i,Mi|=i,e.lanes|=i,null!==(e=e.alternate)&&(e.lanes|=i)}function Ai(e,t,r,i){return xi(e,t,r,i),Oi(e)}function Pi(e,t){return xi(e,null,null,t),Oi(e)}function ki(e,t,r){e.lanes|=r;var i=e.alternate;null!==i&&(i.lanes|=r);for(var n=!1,s=e.return;null!==s;)s.childLanes|=r,null!==(i=s.alternate)&&(i.childLanes|=r),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(n=!0)),e=s,s=s.return;n&&null!==t&&3===e.tag&&(s=e.stateNode,n=31-we(r),null===(e=(s=s.hiddenUpdates)[n])?s[n]=[t]:e.push(t),t.lane=536870912|r)}function Oi(e){if(50<Pl)throw Pl=0,kl=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ni={},Ri=new WeakMap;function Ti(e,t){if("object"===typeof e&&null!==e){var r=Ri.get(e);return void 0!==r?r:(t={value:e,source:t,stack:z(t)},Ri.set(e,t),t)}return{value:e,source:t,stack:z(t)}}var Ci=[],Li=0,zi=null,Ui=0,Di=[],qi=0,ji=null,Bi=1,Fi="";function Ki(e,t){Ci[Li++]=Ui,Ci[Li++]=zi,zi=e,Ui=t}function Vi(e,t,r){Di[qi++]=Bi,Di[qi++]=Fi,Di[qi++]=ji,ji=e;var i=Bi;e=Fi;var n=32-we(i)-1;i&=~(1<<n),r+=1;var s=32-we(t)+n;if(30<s){var o=n-n%5;s=(i&(1<<o)-1).toString(32),i>>=o,n-=o,Bi=1<<32-we(t)+n|r<<n|i,Fi=s+e}else Bi=1<<s|r<<n|i,Fi=e}function Hi(e){null!==e.return&&(Ki(e,1),Vi(e,1,0))}function Wi(e){for(;e===zi;)zi=Ci[--Li],Ci[Li]=null,Ui=Ci[--Li],Ci[Li]=null;for(;e===ji;)ji=Di[--qi],Di[qi]=null,Fi=Di[--qi],Di[qi]=null,Bi=Di[--qi],Di[qi]=null}var Gi=null,Ji=null,Yi=!1,Zi=null,Xi=!1,$i=Error(o(519));function Qi(e){throw sn(Ti(Error(o(418,"")),e)),$i}function en(e){var t=e.stateNode,r=e.type,i=e.memoizedProps;switch(t[De]=e,t[qe]=i,r){case"dialog":ku("cancel",t),ku("close",t);break;case"iframe":case"object":case"embed":ku("load",t);break;case"video":case"audio":for(r=0;r<xu.length;r++)ku(xu[r],t);break;case"source":ku("error",t);break;case"img":case"image":case"link":ku("error",t),ku("load",t);break;case"details":ku("toggle",t);break;case"input":ku("invalid",t),mt(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),ht(t);break;case"select":ku("invalid",t);break;case"textarea":ku("invalid",t),St(t,i.value,i.defaultValue,i.children),ht(t)}"string"!==typeof(r=i.children)&&"number"!==typeof r&&"bigint"!==typeof r||t.textContent===""+r||!0===i.suppressHydrationWarning||Fu(t.textContent,r)?(null!=i.popover&&(ku("beforetoggle",t),ku("toggle",t)),null!=i.onScroll&&ku("scroll",t),null!=i.onScrollEnd&&ku("scrollend",t),null!=i.onClick&&(t.onclick=Ku),t=!0):t=!1,t||Qi(e)}function tn(e){for(Gi=e.return;Gi;)switch(Gi.tag){case 3:case 27:return void(Xi=!0);case 5:case 13:return void(Xi=!1);default:Gi=Gi.return}}function rn(e){if(e!==Gi)return!1;if(!Yi)return tn(e),Yi=!0,!1;var t,r=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||$u(e.type,e.memoizedProps)),t=!t),t&&(r=!0),r&&Ji&&Qi(e),tn(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,r=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===r){Ji=ah(e.nextSibling);break e}r--}else"$"!==t&&"$!"!==t&&"$?"!==t||r++;e=e.nextSibling}Ji=null}}else Ji=Gi?ah(e.stateNode.nextSibling):null;return!0}function nn(){Ji=Gi=null,Yi=!1}function sn(e){null===Zi?Zi=[e]:Zi.push(e)}var on=Error(o(460)),an=Error(o(474)),cn={then:function(){}};function ln(e){return"fulfilled"===(e=e.status)||"rejected"===e}function un(){}function hn(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(un,un),t=r),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===on)throw Error(o(483));throw e;default:if("string"===typeof t.status)t.then(un,un);else{if(null!==(e=tl)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}}),(function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===on)throw Error(o(483));throw e}throw dn=t,on}}var dn=null;function fn(){if(null===dn)throw Error(o(459));var e=dn;return dn=null,e}var pn=null,gn=0;function bn(e){var t=gn;return gn+=1,null===pn&&(pn=[]),hn(pn,e,t)}function mn(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function yn(e,t){if(t.$$typeof===c)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vn(e){return(0,e._init)(e._payload)}function wn(e){function t(t,r){if(e){var i=t.deletions;null===i?(t.deletions=[r],t.flags|=16):i.push(r)}}function r(r,i){if(!e)return null;for(;null!==i;)t(r,i),i=i.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function n(e,t){return(e=Uc(e,t)).index=0,e.sibling=null,e}function s(t,r,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<r?(t.flags|=33554434,r):i:(t.flags|=33554434,r):(t.flags|=1048576,r)}function a(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function c(e,t,r,i){return null===t||6!==t.tag?((t=Fc(r,e.mode,i)).return=e,t):((t=n(t,r)).return=e,t)}function d(e,t,r,i){var s=r.type;return s===h?p(e,t,r.props.children,i,r.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===S&&vn(s)===t.type)?(mn(t=n(t,r.props),r),t.return=e,t):(mn(t=qc(r.type,r.key,r.props,null,e.mode,i),r),t.return=e,t)}function f(e,t,r,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Kc(r,e.mode,i)).return=e,t):((t=n(t,r.children||[])).return=e,t)}function p(e,t,r,i,s){return null===t||7!==t.tag?((t=jc(r,e.mode,i,s)).return=e,t):((t=n(t,r)).return=e,t)}function g(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Fc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case l:return mn(r=qc(t.type,t.key,t.props,null,e.mode,r),t),r.return=e,r;case u:return(t=Kc(t,e.mode,r)).return=e,t;case S:return g(e,t=(0,t._init)(t._payload),r)}if(B(t)||I(t))return(t=jc(t,e.mode,r,null)).return=e,t;if("function"===typeof t.then)return g(e,bn(t),r);if(t.$$typeof===b)return g(e,xa(e,t),r);yn(e,t)}return null}function m(e,t,r,i){var n=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return null!==n?null:c(e,t,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case l:return r.key===n?d(e,t,r,i):null;case u:return r.key===n?f(e,t,r,i):null;case S:return m(e,t,r=(n=r._init)(r._payload),i)}if(B(r)||I(r))return null!==n?null:p(e,t,r,i,null);if("function"===typeof r.then)return m(e,t,bn(r),i);if(r.$$typeof===b)return m(e,t,xa(e,r),i);yn(e,r)}return null}function y(e,t,r,i,n){if("string"===typeof i&&""!==i||"number"===typeof i||"bigint"===typeof i)return c(t,e=e.get(r)||null,""+i,n);if("object"===typeof i&&null!==i){switch(i.$$typeof){case l:return d(t,e=e.get(null===i.key?r:i.key)||null,i,n);case u:return f(t,e=e.get(null===i.key?r:i.key)||null,i,n);case S:return y(e,t,r,i=(0,i._init)(i._payload),n)}if(B(i)||I(i))return p(t,e=e.get(r)||null,i,n,null);if("function"===typeof i.then)return y(e,t,r,bn(i),n);if(i.$$typeof===b)return y(e,t,r,xa(t,i),n);yn(t,i)}return null}function v(c,d,f,p){if("object"===typeof f&&null!==f&&f.type===h&&null===f.key&&(f=f.props.children),"object"===typeof f&&null!==f){switch(f.$$typeof){case l:e:{for(var w=f.key;null!==d;){if(d.key===w){if((w=f.type)===h){if(7===d.tag){r(c,d.sibling),(p=n(d,f.props.children)).return=c,c=p;break e}}else if(d.elementType===w||"object"===typeof w&&null!==w&&w.$$typeof===S&&vn(w)===d.type){r(c,d.sibling),mn(p=n(d,f.props),f),p.return=c,c=p;break e}r(c,d);break}t(c,d),d=d.sibling}f.type===h?((p=jc(f.props.children,c.mode,p,f.key)).return=c,c=p):(mn(p=qc(f.type,f.key,f.props,null,c.mode,p),f),p.return=c,c=p)}return a(c);case u:e:{for(w=f.key;null!==d;){if(d.key===w){if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){r(c,d.sibling),(p=n(d,f.children||[])).return=c,c=p;break e}r(c,d);break}t(c,d),d=d.sibling}(p=Kc(f,c.mode,p)).return=c,c=p}return a(c);case S:return v(c,d,f=(w=f._init)(f._payload),p)}if(B(f))return function(n,o,a,c){for(var l=null,u=null,h=o,d=o=0,f=null;null!==h&&d<a.length;d++){h.index>d?(f=h,h=null):f=h.sibling;var p=m(n,h,a[d],c);if(null===p){null===h&&(h=f);break}e&&h&&null===p.alternate&&t(n,h),o=s(p,o,d),null===u?l=p:u.sibling=p,u=p,h=f}if(d===a.length)return r(n,h),Yi&&Ki(n,d),l;if(null===h){for(;d<a.length;d++)null!==(h=g(n,a[d],c))&&(o=s(h,o,d),null===u?l=h:u.sibling=h,u=h);return Yi&&Ki(n,d),l}for(h=i(h);d<a.length;d++)null!==(f=y(h,n,d,a[d],c))&&(e&&null!==f.alternate&&h.delete(null===f.key?d:f.key),o=s(f,o,d),null===u?l=f:u.sibling=f,u=f);return e&&h.forEach((function(e){return t(n,e)})),Yi&&Ki(n,d),l}(c,d,f,p);if(I(f)){if("function"!==typeof(w=I(f)))throw Error(o(150));return function(n,a,c,l){if(null==c)throw Error(o(151));for(var u=null,h=null,d=a,f=a=0,p=null,b=c.next();null!==d&&!b.done;f++,b=c.next()){d.index>f?(p=d,d=null):p=d.sibling;var v=m(n,d,b.value,l);if(null===v){null===d&&(d=p);break}e&&d&&null===v.alternate&&t(n,d),a=s(v,a,f),null===h?u=v:h.sibling=v,h=v,d=p}if(b.done)return r(n,d),Yi&&Ki(n,f),u;if(null===d){for(;!b.done;f++,b=c.next())null!==(b=g(n,b.value,l))&&(a=s(b,a,f),null===h?u=b:h.sibling=b,h=b);return Yi&&Ki(n,f),u}for(d=i(d);!b.done;f++,b=c.next())null!==(b=y(d,n,f,b.value,l))&&(e&&null!==b.alternate&&d.delete(null===b.key?f:b.key),a=s(b,a,f),null===h?u=b:h.sibling=b,h=b);return e&&d.forEach((function(e){return t(n,e)})),Yi&&Ki(n,f),u}(c,d,f=w.call(f),p)}if("function"===typeof f.then)return v(c,d,bn(f),p);if(f.$$typeof===b)return v(c,d,xa(c,f),p);yn(c,f)}return"string"===typeof f&&""!==f||"number"===typeof f||"bigint"===typeof f?(f=""+f,null!==d&&6===d.tag?(r(c,d.sibling),(p=n(d,f)).return=c,c=p):(r(c,d),(p=Fc(f,c.mode,p)).return=c,c=p),a(c)):r(c,d)}return function(e,t,r,i){try{gn=0;var n=v(e,t,r,i);return pn=null,n}catch(o){if(o===on)throw o;var s=Lc(29,o,null,e.mode);return s.lanes=i,s.return=e,s}}}var Sn=wn(!0),En=wn(!1),_n=W(null),Mn=W(0);function In(e,t){J(Mn,e=ll),J(_n,t),ll=e|t.baseLanes}function xn(){J(Mn,ll),J(_n,_n.current)}function An(){ll=Mn.current,G(_n),G(Mn)}var Pn=W(null),kn=null;function On(e){var t=e.alternate;J(Cn,1&Cn.current),J(Pn,e),null===kn&&(null===t||null!==_n.current||null!==t.memoizedState)&&(kn=e)}function Nn(e){if(22===e.tag){if(J(Cn,Cn.current),J(Pn,e),null===kn){var t=e.alternate;null!==t&&null!==t.memoizedState&&(kn=e)}}else Rn()}function Rn(){J(Cn,Cn.current),J(Pn,Pn.current)}function Tn(e){G(Pn),kn===e&&(kn=null),G(Cn)}var Cn=W(0);function Ln(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zn="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Un=i.unstable_scheduleCallback,Dn=i.unstable_NormalPriority,qn={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jn(){return{controller:new zn,data:new Map,refCount:0}}function Bn(e){e.refCount--,0===e.refCount&&Un(Dn,(function(){e.controller.abort()}))}var Fn=null,Kn=0,Vn=0,Hn=null;function Wn(){if(0===--Kn&&null!==Fn){null!==Hn&&(Hn.status="fulfilled");var e=Fn;Fn=null,Vn=0,Hn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Gn=O.S;O.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Fn){var r=Fn=[];Kn=0,Vn=Su(),Hn={status:"pending",value:void 0,then:function(e){r.push(e)}}}Kn++,t.then(Wn,Wn)}(0,t),null!==Gn&&Gn(e,t)};var Jn=W(null);function Yn(){var e=Jn.current;return null!==e?e:tl.pooledCache}function Zn(e,t){J(Jn,null===t?Jn.current:t.pool)}function Xn(){var e=Yn();return null===e?null:{parent:qn._currentValue,pool:e}}var $n=0,Qn=null,es=null,ts=null,rs=!1,is=!1,ns=!1,ss=0,os=0,as=null,cs=0;function ls(){throw Error(o(321))}function us(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Gr(e[r],t[r]))return!1;return!0}function hs(e,t,r,i,n,s){return $n=s,Qn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?xo:Ao,ns=!1,s=r(i,n),ns=!1,is&&(s=fs(t,r,i,n)),ds(e),s}function ds(e){O.H=Io;var t=null!==es&&null!==es.next;if($n=0,ts=es=Qn=null,rs=!1,os=0,as=null,t)throw Error(o(300));null===e||Vo||null!==(e=e.dependencies)&&_a(e)&&(Vo=!0)}function fs(e,t,r,i){Qn=e;var n=0;do{if(is&&(as=null),os=0,is=!1,25<=n)throw Error(o(301));if(n+=1,ts=es=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}O.H=Po,s=t(r,i)}while(is);return s}function ps(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?ws(t):t,e=e.useState()[0],(null!==es?es.memoizedState:null)!==e&&(Qn.flags|=1024),t}function gs(){var e=0!==ss;return ss=0,e}function bs(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function ms(e){if(rs){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}rs=!1}$n=0,ts=es=Qn=null,is=!1,os=ss=0,as=null}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ts?Qn.memoizedState=ts=e:ts=ts.next=e,ts}function vs(){if(null===es){var e=Qn.alternate;e=null!==e?e.memoizedState:null}else e=es.next;var t=null===ts?Qn.memoizedState:ts.next;if(null!==t)ts=t,es=e;else{if(null===e){if(null===Qn.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(es=e).memoizedState,baseState:es.baseState,baseQueue:es.baseQueue,queue:es.queue,next:null},null===ts?Qn.memoizedState=ts=e:ts=ts.next=e}return ts}function ws(e){var t=os;return os+=1,null===as&&(as=[]),e=hn(as,e,t),t=Qn,null===(null===ts?t.memoizedState:ts.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?xo:Ao),e}function Ss(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ws(e);if(e.$$typeof===b)return Ia(e)}throw Error(o(438,String(e)))}function Es(e){var t=null,r=Qn.updateQueue;if(null!==r&&(t=r.memoCache),null==t){var i=Qn.alternate;null!==i&&(null!==(i=i.updateQueue)&&(null!=(i=i.memoCache)&&(t={data:i.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===r&&(r={lastEffect:null,events:null,stores:null,memoCache:null},Qn.updateQueue=r),r.memoCache=t,void 0===(r=t.data[t.index]))for(r=t.data[t.index]=Array(e),i=0;i<e;i++)r[i]=_;return t.index++,r}function _s(e,t){return"function"===typeof t?t(e):t}function Ms(e){return Is(vs(),es,e)}function Is(e,t,r){var i=e.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=r;var n=e.baseQueue,s=i.pending;if(null!==s){if(null!==n){var a=n.next;n.next=s.next,s.next=a}t.baseQueue=n=s,i.pending=null}if(s=e.baseState,null===n)e.memoizedState=s;else{var c=a=null,l=null,u=t=n.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(il&d)===d:($n&d)===d){var f=u.revertLane;if(0===f)null!==l&&(l=l.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Vn&&(h=!0);else{if(($n&f)===f){u=u.next,f===Vn&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===l?(c=l=d,a=s):l=l.next=d,Qn.lanes|=f,hl|=f}d=u.action,ns&&r(s,d),s=u.hasEagerState?u.eagerState:r(s,d)}else f={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===l?(c=l=f,a=s):l=l.next=f,Qn.lanes|=d,hl|=d;u=u.next}while(null!==u&&u!==t);if(null===l?a=s:l.next=c,!Gr(s,e.memoizedState)&&(Vo=!0,h&&null!==(r=Hn)))throw r;e.memoizedState=s,e.baseState=a,e.baseQueue=l,i.lastRenderedState=s}return null===n&&(i.lanes=0),[e.memoizedState,i.dispatch]}function xs(e){var t=vs(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var i=r.dispatch,n=r.pending,s=t.memoizedState;if(null!==n){r.pending=null;var a=n=n.next;do{s=e(s,a.action),a=a.next}while(a!==n);Gr(s,t.memoizedState)||(Vo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),r.lastRenderedState=s}return[s,i]}function As(e,t,r){var i=Qn,n=vs(),s=Yi;if(s){if(void 0===r)throw Error(o(407));r=r()}else r=t();var a=!Gr((es||n).memoizedState,r);if(a&&(n.memoizedState=r,Vo=!0),n=n.queue,$s(Os.bind(null,i,n,e),[e]),n.getSnapshot!==t||a||null!==ts&&1&ts.memoizedState.tag){if(i.flags|=2048,Gs(9,ks.bind(null,i,n,r,t),{destroy:void 0},null),null===tl)throw Error(o(349));s||0!==(60&$n)||Ps(i,t,r)}return r}function Ps(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=Qn.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Qn.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function ks(e,t,r,i){t.value=r,t.getSnapshot=i,Ns(t)&&Rs(e)}function Os(e,t,r){return r((function(){Ns(t)&&Rs(e)}))}function Ns(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Gr(e,r)}catch(i){return!0}}function Rs(e){var t=Pi(e,2);null!==t&&Rl(t,e,2)}function Ts(e){var t=ys();if("function"===typeof e){var r=e;if(e=r(),ns){ve(!0);try{r()}finally{ve(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},t}function Cs(e,t,r,i){return e.baseState=r,Is(e,es,"function"===typeof i?i:_s)}function Ls(e,t,r,i,n){if(Eo(e))throw Error(o(485));if(null!==(e=t.action)){var s={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==O.T?r(!0):s.isTransition=!1,i(s),null===(r=t.pending)?(s.next=t.pending=s,zs(t,s)):(s.next=r.next,t.pending=r.next=s)}}function zs(e,t){var r=t.action,i=t.payload,n=e.state;if(t.isTransition){var s=O.T,o={};O.T=o;try{var a=r(n,i),c=O.S;null!==c&&c(o,a),Us(e,t,a)}catch(l){qs(e,t,l)}finally{O.T=s}}else try{Us(e,t,s=r(n,i))}catch(u){qs(e,t,u)}}function Us(e,t,r){null!==r&&"object"===typeof r&&"function"===typeof r.then?r.then((function(r){Ds(e,t,r)}),(function(r){return qs(e,t,r)})):Ds(e,t,r)}function Ds(e,t,r){t.status="fulfilled",t.value=r,js(t),e.state=r,null!==(t=e.pending)&&((r=t.next)===t?e.pending=null:(r=r.next,t.next=r,zs(e,r)))}function qs(e,t,r){var i=e.pending;if(e.pending=null,null!==i){i=i.next;do{t.status="rejected",t.reason=r,js(t),t=t.next}while(t!==i)}e.action=null}function js(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Bs(e,t){return t}function Fs(e,t){if(Yi){var r=tl.formState;if(null!==r){e:{var i=Qn;if(Yi){if(Ji){t:{for(var n=Ji,s=Xi;8!==n.nodeType;){if(!s){n=null;break t}if(null===(n=ah(n.nextSibling))){n=null;break t}}n="F!"===(s=n.data)||"F"===s?n:null}if(n){Ji=ah(n.nextSibling),i="F!"===n.data;break e}}Qi(i)}i=!1}i&&(t=r[0])}}return(r=ys()).memoizedState=r.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:t},r.queue=i,r=vo.bind(null,Qn,i),i.dispatch=r,i=Ts(!1),s=So.bind(null,Qn,!1,i.queue),n={state:t,dispatch:null,action:e,pending:null},(i=ys()).queue=n,r=Ls.bind(null,Qn,n,s,r),n.dispatch=r,i.memoizedState=e,[t,r,!1]}function Ks(e){return Vs(vs(),es,e)}function Vs(e,t,r){t=Is(e,t,Bs)[0],e=Ms(_s)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?ws(t):t;var i=vs(),n=i.queue,s=n.dispatch;return r!==i.memoizedState&&(Qn.flags|=2048,Gs(9,Hs.bind(null,n,r),{destroy:void 0},null)),[t,s,e]}function Hs(e,t){e.action=t}function Ws(e){var t=vs(),r=es;if(null!==r)return Vs(t,r,e);vs(),t=t.memoizedState;var i=(r=vs()).queue.dispatch;return r.memoizedState=e,[t,i,!1]}function Gs(e,t,r,i){return e={tag:e,create:t,inst:r,deps:i,next:null},null===(t=Qn.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Qn.updateQueue=t),null===(r=t.lastEffect)?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e),e}function Js(){return vs().memoizedState}function Ys(e,t,r,i){var n=ys();Qn.flags|=e,n.memoizedState=Gs(1|t,r,{destroy:void 0},void 0===i?null:i)}function Zs(e,t,r,i){var n=vs();i=void 0===i?null:i;var s=n.memoizedState.inst;null!==es&&null!==i&&us(i,es.memoizedState.deps)?n.memoizedState=Gs(t,r,s,i):(Qn.flags|=e,n.memoizedState=Gs(1|t,r,s,i))}function Xs(e,t){Ys(8390656,8,e,t)}function $s(e,t){Zs(2048,8,e,t)}function Qs(e,t){return Zs(4,2,e,t)}function eo(e,t){return Zs(4,4,e,t)}function to(e,t){if("function"===typeof t){e=e();var r=t(e);return function(){"function"===typeof r?r():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ro(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,Zs(4,4,to.bind(null,t,e),r)}function io(){}function no(e,t){var r=vs();t=void 0===t?null:t;var i=r.memoizedState;return null!==t&&us(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function so(e,t){var r=vs();t=void 0===t?null:t;var i=r.memoizedState;if(null!==t&&us(t,i[1]))return i[0];if(i=e(),ns){ve(!0);try{e()}finally{ve(!1)}}return r.memoizedState=[i,t],i}function oo(e,t,r){return void 0===r||0!==(1073741824&$n)?e.memoizedState=t:(e.memoizedState=r,e=Nl(),Qn.lanes|=e,hl|=e,r)}function ao(e,t,r,i){return Gr(r,t)?r:null!==_n.current?(e=oo(e,r,i),Gr(e,t)||(Vo=!0),e):0===(42&$n)?(Vo=!0,e.memoizedState=r):(e=Nl(),Qn.lanes|=e,hl|=e,t)}function co(e,t,r,i,n){var s=F.p;F.p=0!==s&&8>s?s:8;var o=O.T,a={};O.T=a,So(e,!1,t,r);try{var c=n(),l=O.S;if(null!==l&&l(a,c),null!==c&&"object"===typeof c&&"function"===typeof c.then)wo(e,t,function(e,t){var r=[],i={status:"pending",value:null,reason:null,then:function(e){r.push(e)}};return e.then((function(){i.status="fulfilled",i.value=t;for(var e=0;e<r.length;e++)(0,r[e])(t)}),(function(e){for(i.status="rejected",i.reason=e,e=0;e<r.length;e++)(0,r[e])(void 0)})),i}(c,i),Ol());else wo(e,t,i,Ol())}catch(u){wo(e,t,{then:function(){},status:"rejected",reason:u},Ol())}finally{F.p=s,O.T=o}}function lo(){}function uo(e,t,r,i){if(5!==e.tag)throw Error(o(476));var n=ho(e).queue;co(e,n,t,K,null===r?lo:function(){return fo(e),r(i)})}function ho(e){var t=e.memoizedState;if(null!==t)return t;var r={};return(t={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:K},next:null}).next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:r},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function fo(e){wo(e,ho(e).next.queue,{},Ol())}function po(){return Ia(zh)}function go(){return vs().memoizedState}function bo(){return vs().memoizedState}function mo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var r=Ol(),i=Ra(t,e=Na(r),r);return null!==i&&(Rl(i,t,r),Ta(i,t,r)),t={cache:jn()},void(e.payload=t)}t=t.return}}function yo(e,t,r){var i=Ol();r={lane:i,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Eo(e)?_o(t,r):null!==(r=Ai(e,t,r,i))&&(Rl(r,e,i),Mo(r,t,i))}function vo(e,t,r){wo(e,t,r,Ol())}function wo(e,t,r,i){var n={lane:i,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Eo(e))_o(t,n);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,r);if(n.hasEagerState=!0,n.eagerState=a,Gr(a,o))return xi(e,t,n,0),null===tl&&Ii(),!1}catch(c){}if(null!==(r=Ai(e,t,n,i)))return Rl(r,e,i),Mo(r,t,i),!0}return!1}function So(e,t,r,i){if(i={lane:2,revertLane:Su(),action:i,hasEagerState:!1,eagerState:null,next:null},Eo(e)){if(t)throw Error(o(479))}else null!==(t=Ai(e,r,i,2))&&Rl(t,e,2)}function Eo(e){var t=e.alternate;return e===Qn||null!==t&&t===Qn}function _o(e,t){is=rs=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Mo(e,t,r){if(0!==(4194176&r)){var i=t.lanes;r|=i&=e.pendingLanes,t.lanes=r,Ce(e,r)}}var Io={readContext:Ia,use:Ss,useCallback:ls,useContext:ls,useEffect:ls,useImperativeHandle:ls,useLayoutEffect:ls,useInsertionEffect:ls,useMemo:ls,useReducer:ls,useRef:ls,useState:ls,useDebugValue:ls,useDeferredValue:ls,useTransition:ls,useSyncExternalStore:ls,useId:ls};Io.useCacheRefresh=ls,Io.useMemoCache=ls,Io.useHostTransitionStatus=ls,Io.useFormState=ls,Io.useActionState=ls,Io.useOptimistic=ls;var xo={readContext:Ia,use:Ss,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:Xs,useImperativeHandle:function(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,Ys(4194308,4,to.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ys(4194308,4,e,t)},useInsertionEffect:function(e,t){Ys(4,2,e,t)},useMemo:function(e,t){var r=ys();t=void 0===t?null:t;var i=e();if(ns){ve(!0);try{e()}finally{ve(!1)}}return r.memoizedState=[i,t],i},useReducer:function(e,t,r){var i=ys();if(void 0!==r){var n=r(t);if(ns){ve(!0);try{r(t)}finally{ve(!1)}}}else n=t;return i.memoizedState=i.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},i.queue=e,e=e.dispatch=yo.bind(null,Qn,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:function(e){var t=(e=Ts(e)).queue,r=vo.bind(null,Qn,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:io,useDeferredValue:function(e,t){return oo(ys(),e,t)},useTransition:function(){var e=Ts(!1);return e=co.bind(null,Qn,e.queue,!0,!1),ys().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var i=Qn,n=ys();if(Yi){if(void 0===r)throw Error(o(407));r=r()}else{if(r=t(),null===tl)throw Error(o(349));0!==(60&il)||Ps(i,t,r)}n.memoizedState=r;var s={value:r,getSnapshot:t};return n.queue=s,Xs(Os.bind(null,i,s,e),[e]),i.flags|=2048,Gs(9,ks.bind(null,i,s,r,t),{destroy:void 0},null),r},useId:function(){var e=ys(),t=tl.identifierPrefix;if(Yi){var r=Fi;t=":"+t+"R"+(r=(Bi&~(1<<32-we(Bi)-1)).toString(32)+r),0<(r=ss++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=cs++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return ys().memoizedState=mo.bind(null,Qn)}};xo.useMemoCache=Es,xo.useHostTransitionStatus=po,xo.useFormState=Fs,xo.useActionState=Fs,xo.useOptimistic=function(e){var t=ys();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=So.bind(null,Qn,!0,r),r.dispatch=t,[e,t]};var Ao={readContext:Ia,use:Ss,useCallback:no,useContext:Ia,useEffect:$s,useImperativeHandle:ro,useInsertionEffect:Qs,useLayoutEffect:eo,useMemo:so,useReducer:Ms,useRef:Js,useState:function(){return Ms(_s)},useDebugValue:io,useDeferredValue:function(e,t){return ao(vs(),es.memoizedState,e,t)},useTransition:function(){var e=Ms(_s)[0],t=vs().memoizedState;return["boolean"===typeof e?e:ws(e),t]},useSyncExternalStore:As,useId:go};Ao.useCacheRefresh=bo,Ao.useMemoCache=Es,Ao.useHostTransitionStatus=po,Ao.useFormState=Ks,Ao.useActionState=Ks,Ao.useOptimistic=function(e,t){return Cs(vs(),0,e,t)};var Po={readContext:Ia,use:Ss,useCallback:no,useContext:Ia,useEffect:$s,useImperativeHandle:ro,useInsertionEffect:Qs,useLayoutEffect:eo,useMemo:so,useReducer:xs,useRef:Js,useState:function(){return xs(_s)},useDebugValue:io,useDeferredValue:function(e,t){var r=vs();return null===es?oo(r,e,t):ao(r,es.memoizedState,e,t)},useTransition:function(){var e=xs(_s)[0],t=vs().memoizedState;return["boolean"===typeof e?e:ws(e),t]},useSyncExternalStore:As,useId:go};function ko(e,t,r,i){r=null===(r=r(i,t=e.memoizedState))||void 0===r?t:N({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}Po.useCacheRefresh=bo,Po.useMemoCache=Es,Po.useHostTransitionStatus=po,Po.useFormState=Ws,Po.useActionState=Ws,Po.useOptimistic=function(e,t){var r=vs();return null!==es?Cs(r,0,e,t):(r.baseState=e,[e,r.queue.dispatch])};var Oo={isMounted:function(e){return!!(e=e._reactInternals)&&U(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=Ol(),n=Na(i);n.payload=t,void 0!==r&&null!==r&&(n.callback=r),null!==(t=Ra(e,n,i))&&(Rl(t,e,i),Ta(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=Ol(),n=Na(i);n.tag=1,n.payload=t,void 0!==r&&null!==r&&(n.callback=r),null!==(t=Ra(e,n,i))&&(Rl(t,e,i),Ta(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ol(),i=Na(r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(Rl(t,e,r),Ta(t,e,r))}};function No(e,t,r,i,n,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!Jr(r,i)||!Jr(n,s))}function Ro(e,t,r,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&Oo.enqueueReplaceState(t,t.state,null)}function To(e,t){var r=t;if("ref"in t)for(var i in r={},t)"ref"!==i&&(r[i]=t[i]);if(e=e.defaultProps)for(var n in r===t&&(r=N({},r)),e)void 0===r[n]&&(r[n]=e[n]);return r}var Co="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Lo(e){Co(e)}function zo(e){console.error(e)}function Uo(e){Co(e)}function Do(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(r){setTimeout((function(){throw r}))}}function qo(e,t,r){try{(0,e.onCaughtError)(r.value,{componentStack:r.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(i){setTimeout((function(){throw i}))}}function jo(e,t,r){return(r=Na(r)).tag=3,r.payload={element:null},r.callback=function(){Do(e,t)},r}function Bo(e){return(e=Na(e)).tag=3,e}function Fo(e,t,r,i){var n=r.type.getDerivedStateFromError;if("function"===typeof n){var s=i.value;e.payload=function(){return n(s)},e.callback=function(){qo(t,r,i)}}var o=r.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){qo(t,r,i),"function"!==typeof n&&(null===El?El=new Set([this]):El.add(this));var e=i.stack;this.componentDidCatch(i.value,{componentStack:null!==e?e:""})})}var Ko=Error(o(461)),Vo=!1;function Ho(e,t,r,i){t.child=null===e?En(t,null,r,i):Sn(t,e.child,r,i)}function Wo(e,t,r,i,n){r=r.render;var s=t.ref;if("ref"in i){var o={};for(var a in i)"ref"!==a&&(o[a]=i[a])}else o=i;return Ma(t),i=hs(e,t,r,o,s,n),a=gs(),null===e||Vo?(Yi&&a&&Hi(t),t.flags|=1,Ho(e,t,i,n),t.child):(bs(e,t,n),da(e,t,n))}function Go(e,t,r,i,n){if(null===e){var s=r.type;return"function"!==typeof s||zc(s)||void 0!==s.defaultProps||null!==r.compare?((e=qc(r.type,null,i,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Jo(e,t,s,i,n))}if(s=e.child,!fa(e,n)){var o=s.memoizedProps;if((r=null!==(r=r.compare)?r:Jr)(o,i)&&e.ref===t.ref)return da(e,t,n)}return t.flags|=1,(e=Uc(s,i)).ref=t.ref,e.return=t,t.child=e}function Jo(e,t,r,i,n){if(null!==e){var s=e.memoizedProps;if(Jr(s,i)&&e.ref===t.ref){if(Vo=!1,t.pendingProps=i=s,!fa(e,n))return t.lanes=e.lanes,da(e,t,n);0!==(131072&e.flags)&&(Vo=!0)}}return $o(e,t,r,i,n)}function Yo(e,t,r){var i=t.pendingProps,n=i.children,s=0!==(2&t.stateNode._pendingVisibility),o=null!==e?e.memoizedState:null;if(Xo(e,t),"hidden"===i.mode||s){if(0!==(128&t.flags)){if(i=null!==o?o.baseLanes|r:r,null!==e){for(n=t.child=e.child,s=0;null!==n;)s=s|n.lanes|n.childLanes,n=n.sibling;t.childLanes=s&~i}else t.childLanes=0,t.child=null;return Zo(e,t,i,r)}if(0===(536870912&r))return t.lanes=t.childLanes=536870912,Zo(e,t,null!==o?o.baseLanes|r:r,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Zn(0,null!==o?o.cachePool:null),null!==o?In(t,o):xn(),Nn(t)}else null!==o?(Zn(0,o.cachePool),In(t,o),Rn(),t.memoizedState=null):(null!==e&&Zn(0,null),xn(),Rn());return Ho(e,t,n,r),t.child}function Zo(e,t,r,i){var n=Yn();return n=null===n?null:{parent:qn._currentValue,pool:n},t.memoizedState={baseLanes:r,cachePool:n},null!==e&&Zn(0,null),xn(),Nn(t),null!==e&&Ea(e,t,i,!0),null}function Xo(e,t){var r=t.ref;if(null===r)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof r&&"object"!==typeof r)throw Error(o(284));null!==e&&e.ref===r||(t.flags|=2097664)}}function $o(e,t,r,i,n){return Ma(t),r=hs(e,t,r,i,void 0,n),i=gs(),null===e||Vo?(Yi&&i&&Hi(t),t.flags|=1,Ho(e,t,r,n),t.child):(bs(e,t,n),da(e,t,n))}function Qo(e,t,r,i,n,s){return Ma(t),t.updateQueue=null,r=fs(t,i,r,n),ds(e),i=gs(),null===e||Vo?(Yi&&i&&Hi(t),t.flags|=1,Ho(e,t,r,s),t.child):(bs(e,t,s),da(e,t,s))}function ea(e,t,r,i,n){if(Ma(t),null===t.stateNode){var s=Ni,o=r.contextType;"object"===typeof o&&null!==o&&(s=Ia(o)),s=new r(i,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=Oo,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=i,s.state=t.memoizedState,s.refs={},ka(t),o=r.contextType,s.context="object"===typeof o&&null!==o?Ia(o):Ni,s.state=t.memoizedState,"function"===typeof(o=r.getDerivedStateFromProps)&&(ko(t,r,o,i),s.state=t.memoizedState),"function"===typeof r.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(o=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),o!==s.state&&Oo.enqueueReplaceState(s,s.state,null),Ua(t,i,s,n),za(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),i=!0}else if(null===e){s=t.stateNode;var a=t.memoizedProps,c=To(r,a);s.props=c;var l=s.context,u=r.contextType;o=Ni,"object"===typeof u&&null!==u&&(o=Ia(u));var h=r.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a||l!==o)&&Ro(t,s,i,o),Pa=!1;var d=t.memoizedState;s.state=d,Ua(t,i,s,n),za(),l=t.memoizedState,a||d!==l||Pa?("function"===typeof h&&(ko(t,r,h,i),l=t.memoizedState),(c=Pa||No(t,r,c,i,d,l,o))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),s.props=i,s.state=l,s.context=o,i=c):("function"===typeof s.componentDidMount&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Oa(e,t),u=To(r,o=t.memoizedProps),s.props=u,h=t.pendingProps,d=s.context,l=r.contextType,c=Ni,"object"===typeof l&&null!==l&&(c=Ia(l)),(l="function"===typeof(a=r.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==h||d!==c)&&Ro(t,s,i,c),Pa=!1,d=t.memoizedState,s.state=d,Ua(t,i,s,n),za();var f=t.memoizedState;o!==h||d!==f||Pa||null!==e&&null!==e.dependencies&&_a(e.dependencies)?("function"===typeof a&&(ko(t,r,a,i),f=t.memoizedState),(u=Pa||No(t,r,u,i,d,f,c)||null!==e&&null!==e.dependencies&&_a(e.dependencies))?(l||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(i,f,c),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,f,c)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=f),s.props=i,s.state=f,s.context=c,i=u):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,Xo(e,t),i=0!==(128&t.flags),s||i?(s=t.stateNode,r=i&&"function"!==typeof r.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&i?(t.child=Sn(t,e.child,null,n),t.child=Sn(t,null,r,n)):Ho(e,t,r,n),t.memoizedState=s.state,e=t.child):e=da(e,t,n),e}function ta(e,t,r,i){return nn(),t.flags|=256,Ho(e,t,r,i),t.child}var ra={dehydrated:null,treeContext:null,retryLane:0};function ia(e){return{baseLanes:e,cachePool:Xn()}}function na(e,t,r){return e=null!==e?e.childLanes&~r:0,t&&(e|=pl),e}function sa(e,t,r){var i,n=t.pendingProps,s=!1,a=0!==(128&t.flags);if((i=a)||(i=(null===e||null!==e.memoizedState)&&0!==(2&Cn.current)),i&&(s=!0,t.flags&=-129),i=0!==(32&t.flags),t.flags&=-33,null===e){if(Yi){if(s?On(t):Rn(),Yi){var c,l=Ji;if(c=l){e:{for(c=l,l=Xi;8!==c.nodeType;){if(!l){l=null;break e}if(null===(c=ah(c.nextSibling))){l=null;break e}}l=c}null!==l?(t.memoizedState={dehydrated:l,treeContext:null!==ji?{id:Bi,overflow:Fi}:null,retryLane:536870912},(c=Lc(18,null,null,0)).stateNode=l,c.return=t,t.child=c,Gi=t,Ji=null,c=!0):c=!1}c||Qi(t)}if(null!==(l=t.memoizedState)&&null!==(l=l.dehydrated))return"$!"===l.data?t.lanes=16:t.lanes=536870912,null;Tn(t)}return l=n.children,n=n.fallback,s?(Rn(),l=aa({mode:"hidden",children:l},s=t.mode),n=jc(n,s,r,null),l.return=t,n.return=t,l.sibling=n,t.child=l,(s=t.child).memoizedState=ia(r),s.childLanes=na(e,i,r),t.memoizedState=ra,n):(On(t),oa(t,l))}if(null!==(c=e.memoizedState)&&null!==(l=c.dehydrated)){if(a)256&t.flags?(On(t),t.flags&=-257,t=ca(e,t,r)):null!==t.memoizedState?(Rn(),t.child=e.child,t.flags|=128,t=null):(Rn(),s=n.fallback,l=t.mode,n=aa({mode:"visible",children:n.children},l),(s=jc(s,l,r,null)).flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,Sn(t,e.child,null,r),(n=t.child).memoizedState=ia(r),n.childLanes=na(e,i,r),t.memoizedState=ra,t=s);else if(On(t),"$!"===l.data){if(i=l.nextSibling&&l.nextSibling.dataset)var u=i.dgst;i=u,(n=Error(o(419))).stack="",n.digest=i,sn({value:n,source:null,stack:null}),t=ca(e,t,r)}else if(Vo||Ea(e,t,r,!1),i=0!==(r&e.childLanes),Vo||i){if(null!==(i=tl)){if(0!==(42&(n=r&-r)))n=1;else switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=64;break;case 268435456:n=134217728;break;default:n=0}if(0!==(n=0!==(n&(i.suspendedLanes|r))?0:n)&&n!==c.retryLane)throw c.retryLane=n,Pi(e,n),Rl(i,e,n),Ko}"$?"===l.data||Vl(),t=ca(e,t,r)}else"$?"===l.data?(t.flags|=128,t.child=e.child,t=au.bind(null,e),l._reactRetry=t,t=null):(e=c.treeContext,Ji=ah(l.nextSibling),Gi=t,Yi=!0,Zi=null,Xi=!1,null!==e&&(Di[qi++]=Bi,Di[qi++]=Fi,Di[qi++]=ji,Bi=e.id,Fi=e.overflow,ji=t),(t=oa(t,n.children)).flags|=4096);return t}return s?(Rn(),s=n.fallback,l=t.mode,u=(c=e.child).sibling,(n=Uc(c,{mode:"hidden",children:n.children})).subtreeFlags=31457280&c.subtreeFlags,null!==u?s=Uc(u,s):(s=jc(s,l,r,null)).flags|=2,s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,null===(l=e.child.memoizedState)?l=ia(r):(null!==(c=l.cachePool)?(u=qn._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=Xn(),l={baseLanes:l.baseLanes|r,cachePool:c}),s.memoizedState=l,s.childLanes=na(e,i,r),t.memoizedState=ra,n):(On(t),e=(r=e.child).sibling,(r=Uc(r,{mode:"visible",children:n.children})).return=t,r.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=r,t.memoizedState=null,r)}function oa(e,t){return(t=aa({mode:"visible",children:t},e.mode)).return=e,e.child=t}function aa(e,t){return Bc(e,t,0,null)}function ca(e,t,r){return Sn(t,e.child,null,r),(e=oa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function la(e,t,r){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),wa(e.return,t,r)}function ua(e,t,r,i,n){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:n}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=r,s.tailMode=n)}function ha(e,t,r){var i=t.pendingProps,n=i.revealOrder,s=i.tail;if(Ho(e,t,i.children,r),0!==(2&(i=Cn.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&la(e,r,t);else if(19===e.tag)la(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(J(Cn,i),n){case"forwards":for(r=t.child,n=null;null!==r;)null!==(e=r.alternate)&&null===Ln(e)&&(n=r),r=r.sibling;null===(r=n)?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),ua(t,!1,n,r,s);break;case"backwards":for(r=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===Ln(e)){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}ua(t,!0,r,null,s);break;case"together":ua(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function da(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),hl|=t.lanes,0===(r&t.childLanes)){if(null===e)return null;if(Ea(e,t,r,!1),0===(r&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(r=Uc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Uc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function fa(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!_a(e))}function pa(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps)Vo=!0;else{if(!fa(e,r)&&0===(128&t.flags))return Vo=!1,function(e,t,r){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),ya(t,qn,e.memoizedState.cache),nn();break;case 27:case 5:te(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:ya(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(null!==i)return null!==i.dehydrated?(On(t),t.flags|=128,null):0!==(r&t.child.childLanes)?sa(e,t,r):(On(t),null!==(e=da(e,t,r))?e.sibling:null);On(t);break;case 19:var n=0!==(128&e.flags);if((i=0!==(r&t.childLanes))||(Ea(e,t,r,!1),i=0!==(r&t.childLanes)),n){if(i)return ha(e,t,r);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),J(Cn,Cn.current),i)break;return null;case 22:case 23:return t.lanes=0,Yo(e,t,r);case 24:ya(t,qn,e.memoizedState.cache)}return da(e,t,r)}(e,t,r);Vo=0!==(131072&e.flags)}else Vo=!1,Yi&&0!==(1048576&t.flags)&&Vi(t,Ui,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,n=i._init;if(i=n(i._payload),t.type=i,"function"!==typeof i){if(void 0!==i&&null!==i){if((n=i.$$typeof)===m){t.tag=11,t=Wo(null,t,i,e,r);break e}if(n===w){t.tag=14,t=Go(null,t,i,e,r);break e}}throw t=A(i)||i,Error(o(306,t,""))}zc(i)?(e=To(i,e),t.tag=1,t=ea(null,t,i,e,r)):(t.tag=0,t=$o(null,t,i,e,r))}return t;case 0:return $o(e,t,t.type,t.pendingProps,r);case 1:return ea(e,t,i=t.type,n=To(i,t.pendingProps),r);case 3:e:{if(Q(t,t.stateNode.containerInfo),null===e)throw Error(o(387));var s=t.pendingProps;i=(n=t.memoizedState).element,Oa(e,t),Ua(t,s,null,r);var a=t.memoizedState;if(s=a.cache,ya(t,qn,s),s!==n.cache&&Sa(t,[qn],r,!0),za(),s=a.element,n.isDehydrated){if(n={element:s,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=n,t.memoizedState=n,256&t.flags){t=ta(e,t,s,r);break e}if(s!==i){sn(i=Ti(Error(o(424)),t)),t=ta(e,t,s,r);break e}for(Ji=ah(t.stateNode.containerInfo.firstChild),Gi=t,Yi=!0,Zi=null,Xi=!0,r=En(t,null,s,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(nn(),s===i){t=da(e,t,r);break e}Ho(e,t,s,r)}t=t.child}return t;case 26:return Xo(e,t),null===e?(r=bh(t.type,null,t.pendingProps,null))?t.memoizedState=r:Yi||(r=t.type,e=t.pendingProps,(i=Yu(X.current).createElement(r))[De]=t,i[qe]=e,Wu(i,r,e),Xe(i),t.stateNode=i):t.memoizedState=bh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Yi&&(i=t.stateNode=lh(t.type,t.pendingProps,X.current),Gi=t,Xi=!0,Ji=ah(i.firstChild)),i=t.pendingProps.children,null!==e||Yi?Ho(e,t,i,r):t.child=Sn(t,null,i,r),Xo(e,t),t.child;case 5:return null===e&&Yi&&((n=i=Ji)&&(null!==(i=function(e,t,r,i){for(;1===e.nodeType;){var n=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(i){if(!e[He])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==n.rel||e.getAttribute("href")!==(null==n.href?null:n.href)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin)||e.getAttribute("title")!==(null==n.title?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==n.src?null:n.src)||e.getAttribute("type")!==(null==n.type?null:n.type)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==n.name?null:""+n.name;if("hidden"===n.type&&e.getAttribute("name")===s)return e}if(null===(e=ah(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,Xi))?(t.stateNode=i,Gi=t,Ji=ah(i.firstChild),Xi=!1,n=!0):n=!1),n||Qi(t)),te(t),n=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,i=s.children,$u(n,s)?i=null:null!==a&&$u(n,a)&&(t.flags|=32),null!==t.memoizedState&&(n=hs(e,t,ps,null,null,r),zh._currentValue=n),Xo(e,t),Ho(e,t,i,r),t.child;case 6:return null===e&&Yi&&((e=r=Ji)&&(null!==(r=function(e,t,r){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!r)return null;if(null===(e=ah(e.nextSibling)))return null}return e}(r,t.pendingProps,Xi))?(t.stateNode=r,Gi=t,Ji=null,e=!0):e=!1),e||Qi(t)),null;case 13:return sa(e,t,r);case 4:return Q(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Sn(t,null,i,r):Ho(e,t,i,r),t.child;case 11:return Wo(e,t,t.type,t.pendingProps,r);case 7:return Ho(e,t,t.pendingProps,r),t.child;case 8:case 12:return Ho(e,t,t.pendingProps.children,r),t.child;case 10:return i=t.pendingProps,ya(t,t.type,i.value),Ho(e,t,i.children,r),t.child;case 9:return n=t.type._context,i=t.pendingProps.children,Ma(t),i=i(n=Ia(n)),t.flags|=1,Ho(e,t,i,r),t.child;case 14:return Go(e,t,t.type,t.pendingProps,r);case 15:return Jo(e,t,t.type,t.pendingProps,r);case 19:return ha(e,t,r);case 22:return Yo(e,t,r);case 24:return Ma(t),i=Ia(qn),null===e?(null===(n=Yn())&&(n=tl,s=jn(),n.pooledCache=s,s.refCount++,null!==s&&(n.pooledCacheLanes|=r),n=s),t.memoizedState={parent:i,cache:n},ka(t),ya(t,qn,n)):(0!==(e.lanes&r)&&(Oa(e,t),Ua(t,null,null,r),za()),n=e.memoizedState,s=t.memoizedState,n.parent!==i?(n={parent:i,cache:i},t.memoizedState=n,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=n),ya(t,qn,i)):(i=s.cache,ya(t,qn,i),i!==n.cache&&Sa(t,[qn],r,!0))),Ho(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}var ga=W(null),ba=null,ma=null;function ya(e,t,r){J(ga,t._currentValue),t._currentValue=r}function va(e){e._currentValue=ga.current,G(ga)}function wa(e,t,r){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function Sa(e,t,r,i){var n=e.child;for(null!==n&&(n.return=e);null!==n;){var s=n.dependencies;if(null!==s){var a=n.child;s=s.firstContext;e:for(;null!==s;){var c=s;s=n;for(var l=0;l<t.length;l++)if(c.context===t[l]){s.lanes|=r,null!==(c=s.alternate)&&(c.lanes|=r),wa(s.return,r,e),i||(a=null);break e}s=c.next}}else if(18===n.tag){if(null===(a=n.return))throw Error(o(341));a.lanes|=r,null!==(s=a.alternate)&&(s.lanes|=r),wa(a,r,e),a=null}else a=n.child;if(null!==a)a.return=n;else for(a=n;null!==a;){if(a===e){a=null;break}if(null!==(n=a.sibling)){n.return=a.return,a=n;break}a=a.return}n=a}}function Ea(e,t,r,i){e=null;for(var n=t,s=!1;null!==n;){if(!s)if(0!==(524288&n.flags))s=!0;else if(0!==(262144&n.flags))break;if(10===n.tag){var a=n.alternate;if(null===a)throw Error(o(387));if(null!==(a=a.memoizedProps)){var c=n.type;Gr(n.pendingProps.value,a.value)||(null!==e?e.push(c):e=[c])}}else if(n===$.current){if(null===(a=n.alternate))throw Error(o(387));a.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(null!==e?e.push(zh):e=[zh])}n=n.return}null!==e&&Sa(t,e,r,i),t.flags|=262144}function _a(e){for(e=e.firstContext;null!==e;){if(!Gr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ma(e){ba=e,ma=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ia(e){return Aa(ba,e)}function xa(e,t){return null===ba&&Ma(e),Aa(e,t)}function Aa(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},null===ma){if(null===e)throw Error(o(308));ma=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ma=ma.next=t;return r}var Pa=!1;function ka(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Na(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,r){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&el)){var n=i.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),i.pending=t,t=Oi(e),ki(e,null,r),t}return xi(e,i,t,r),Oi(e)}function Ta(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&r))){var i=t.lanes;r|=i&=e.pendingLanes,t.lanes=r,Ce(e,r)}}function Ca(e,t){var r=e.updateQueue,i=e.alternate;if(null!==i&&r===(i=i.updateQueue)){var n=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var o={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};null===s?n=s=o:s=s.next=o,r=r.next}while(null!==r);null===s?n=s=t:s=s.next=t}else n=s=t;return r={baseState:i.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var La=!1;function za(){if(La){if(null!==Hn)throw Hn}}function Ua(e,t,r,i){La=!1;var n=e.updateQueue;Pa=!1;var s=n.firstBaseUpdate,o=n.lastBaseUpdate,a=n.shared.pending;if(null!==a){n.shared.pending=null;var c=a,l=c.next;c.next=null,null===o?s=l:o.next=l,o=c;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(null!==s){var h=n.baseState;for(o=0,u=l=c=null,a=s;;){var d=-536870913&a.lane,f=d!==a.lane;if(f?(il&d)===d:(i&d)===d){0!==d&&d===Vn&&(La=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var p=e,g=a;d=t;var b=r;switch(g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(b,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(b,h,d):p)||void 0===d)break e;h=N({},h,d);break e;case 2:Pa=!0}}null!==(d=a.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=n.callbacks)?n.callbacks=[d]:f.push(d))}else f={lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(l=u=f,c=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=n.shared.pending))break;a=(f=a).next,f.next=null,n.lastBaseUpdate=f,n.shared.pending=null}}null===u&&(c=h),n.baseState=c,n.firstBaseUpdate=l,n.lastBaseUpdate=u,null===s&&(n.shared.lanes=0),hl|=o,e.lanes=o,e.memoizedState=h}}function Da(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function qa(e,t){var r=e.callbacks;if(null!==r)for(e.callbacks=null,e=0;e<r.length;e++)Da(r[e],t)}function ja(e,t){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var n=i.next;r=n;do{if((r.tag&e)===e){i=void 0;var s=r.create,o=r.inst;i=s(),o.destroy=i}r=r.next}while(r!==n)}}catch(a){iu(t,t.return,a)}}function Ba(e,t,r){try{var i=t.updateQueue,n=null!==i?i.lastEffect:null;if(null!==n){var s=n.next;i=s;do{if((i.tag&e)===e){var o=i.inst,a=o.destroy;if(void 0!==a){o.destroy=void 0,n=t;var c=r;try{a()}catch(l){iu(n,c,l)}}}i=i.next}while(i!==s)}}catch(l){iu(t,t.return,l)}}function Fa(e){var t=e.updateQueue;if(null!==t){var r=e.stateNode;try{qa(t,r)}catch(i){iu(e,e.return,i)}}}function Ka(e,t,r){r.props=To(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(i){iu(e,t,i)}}function Va(e,t){try{var r=e.ref;if(null!==r){var i=e.stateNode;switch(e.tag){case 26:case 27:case 5:var n=i;break;default:n=i}"function"===typeof r?e.refCleanup=r(n):r.current=n}}catch(s){iu(e,t,s)}}function Ha(e,t){var r=e.ref,i=e.refCleanup;if(null!==r)if("function"===typeof i)try{i()}catch(n){iu(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof r)try{r(null)}catch(s){iu(e,t,s)}else r.current=null}function Wa(e){var t=e.type,r=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&i.focus();break e;case"img":r.src?i.src=r.src:r.srcSet&&(i.srcset=r.srcSet)}}catch(n){iu(e,e.return,n)}}function Ga(e,t,r){try{var i=e.stateNode;!function(e,t,r,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,s=null,a=null,c=null,l=null,u=null,h=null;for(p in r){var d=r[p];if(r.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":l=d;default:i.hasOwnProperty(p)||Vu(e,t,p,null,i,d)}}for(var f in i){var p=i[f];if(d=r[f],i.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":s=p;break;case"name":n=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":a=p;break;case"defaultValue":c=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==d&&Vu(e,t,f,p,i,d)}}return void bt(e,a,c,l,u,h,s,n);case"select":for(s in p=a=c=f=null,r)if(l=r[s],r.hasOwnProperty(s)&&null!=l)switch(s){case"value":break;case"multiple":p=l;default:i.hasOwnProperty(s)||Vu(e,t,s,null,i,l)}for(n in i)if(s=i[n],l=r[n],i.hasOwnProperty(n)&&(null!=s||null!=l))switch(n){case"value":f=s;break;case"defaultValue":c=s;break;case"multiple":a=s;default:s!==l&&Vu(e,t,n,s,i,l)}return t=c,r=a,i=p,void(null!=f?vt(e,!!r,f,!1):!!i!==!!r&&(null!=t?vt(e,!!r,t,!0):vt(e,!!r,r?[]:"",!1)));case"textarea":for(c in p=f=null,r)if(n=r[c],r.hasOwnProperty(c)&&null!=n&&!i.hasOwnProperty(c))switch(c){case"value":case"children":break;default:Vu(e,t,c,null,i,n)}for(a in i)if(n=i[a],s=r[a],i.hasOwnProperty(a)&&(null!=n||null!=s))switch(a){case"value":f=n;break;case"defaultValue":p=n;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=n)throw Error(o(91));break;default:n!==s&&Vu(e,t,a,n,i,s)}return void wt(e,f,p);case"option":for(var g in r)if(f=r[g],r.hasOwnProperty(g)&&null!=f&&!i.hasOwnProperty(g))if("selected"===g)e.selected=!1;else Vu(e,t,g,null,i,f);for(l in i)if(f=i[l],p=r[l],i.hasOwnProperty(l)&&f!==p&&(null!=f||null!=p))if("selected"===l)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Vu(e,t,l,f,i,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in r)f=r[b],r.hasOwnProperty(b)&&null!=f&&!i.hasOwnProperty(b)&&Vu(e,t,b,null,i,f);for(u in i)if(f=i[u],p=r[u],i.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:Vu(e,t,u,f,i,p)}return;default:if(xt(t)){for(var m in r)f=r[m],r.hasOwnProperty(m)&&void 0!==f&&!i.hasOwnProperty(m)&&Hu(e,t,m,void 0,i,f);for(h in i)f=i[h],p=r[h],!i.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||Hu(e,t,h,f,i,p);return}}for(var y in r)f=r[y],r.hasOwnProperty(y)&&null!=f&&!i.hasOwnProperty(y)&&Vu(e,t,y,null,i,f);for(d in i)f=i[d],p=r[d],!i.hasOwnProperty(d)||f===p||null==f&&null==p||Vu(e,t,d,f,i,p)}(i,e.type,r,t),i[qe]=t}catch(n){iu(e,e.return,n)}}function Ja(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Ya(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ja(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Za(e,t,r){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Ku));else if(4!==i&&27!==i&&null!==(e=e.child))for(Za(e,t,r),e=e.sibling;null!==e;)Za(e,t,r),e=e.sibling}function Xa(e,t,r){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==i&&27!==i&&null!==(e=e.child))for(Xa(e,t,r),e=e.sibling;null!==e;)Xa(e,t,r),e=e.sibling}var $a=!1,Qa=!1,ec=!1,tc="function"===typeof WeakSet?WeakSet:Set,rc=null,ic=!1;function nc(e,t,r){var i=r.flags;switch(r.tag){case 0:case 11:case 15:mc(e,r),4&i&&ja(5,r);break;case 1:if(mc(e,r),4&i)if(e=r.stateNode,null===t)try{e.componentDidMount()}catch(a){iu(r,r.return,a)}else{var n=To(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(c){iu(r,r.return,c)}}64&i&&Fa(r),512&i&&Va(r,r.return);break;case 3:if(mc(e,r),64&i&&null!==(i=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 27:case 5:case 1:e=r.child.stateNode}try{qa(i,e)}catch(a){iu(r,r.return,a)}}break;case 26:mc(e,r),512&i&&Va(r,r.return);break;case 27:case 5:mc(e,r),null===t&&4&i&&Wa(r),512&i&&Va(r,r.return);break;case 12:default:mc(e,r);break;case 13:mc(e,r),4&i&&uc(e,r);break;case 22:if(!(n=null!==r.memoizedState||$a)){t=null!==t&&null!==t.memoizedState||Qa;var s=$a,o=Qa;$a=n,(Qa=t)&&!o?vc(e,r,0!==(8772&r.subtreeFlags)):mc(e,r),$a=s,Qa=o}512&i&&("manual"===r.memoizedProps.mode?Va(r,r.return):Ha(r,r.return))}}function sc(e){var t=e.alternate;null!==t&&(e.alternate=null,sc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&We(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oc=null,ac=!1;function cc(e,t,r){for(r=r.child;null!==r;)lc(e,t,r),r=r.sibling}function lc(e,t,r){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(me,r)}catch(o){}switch(r.tag){case 26:Qa||Ha(r,t),cc(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode).parentNode.removeChild(r);break;case 27:Qa||Ha(r,t);var i=oc,n=ac;for(oc=r.stateNode,cc(e,t,r),t=(r=r.stateNode).attributes;t.length;)r.removeAttributeNode(t[0]);We(r),oc=i,ac=n;break;case 5:Qa||Ha(r,t);case 6:n=oc;var s=ac;if(oc=null,cc(e,t,r),ac=s,null!==(oc=n))if(ac)try{e=oc,i=r.stateNode,8===e.nodeType?e.parentNode.removeChild(i):e.removeChild(i)}catch(a){iu(r,t,a)}else try{oc.removeChild(r.stateNode)}catch(a){iu(r,t,a)}break;case 18:null!==oc&&(ac?(t=oc,r=r.stateNode,8===t.nodeType?sh(t.parentNode,r):1===t.nodeType&&sh(t,r),gd(t)):sh(oc,r.stateNode));break;case 4:i=oc,n=ac,oc=r.stateNode.containerInfo,ac=!0,cc(e,t,r),oc=i,ac=n;break;case 0:case 11:case 14:case 15:Qa||Ba(2,r,t),Qa||Ba(4,r,t),cc(e,t,r);break;case 1:Qa||(Ha(r,t),"function"===typeof(i=r.stateNode).componentWillUnmount&&Ka(r,t,i)),cc(e,t,r);break;case 21:cc(e,t,r);break;case 22:Qa||Ha(r,t),Qa=(i=Qa)||null!==r.memoizedState,cc(e,t,r),Qa=i;break;default:cc(e,t,r)}}function uc(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{gd(e)}catch(r){iu(t,t.return,r)}}function hc(e,t){var r=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new tc),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new tc),t;default:throw Error(o(435,e.tag))}}(e);t.forEach((function(t){var i=cu.bind(null,e,t);r.has(t)||(r.add(t),t.then(i,i))}))}function dc(e,t){var r=t.deletions;if(null!==r)for(var i=0;i<r.length;i++){var n=r[i],s=e,a=t,c=a;e:for(;null!==c;){switch(c.tag){case 27:case 5:oc=c.stateNode,ac=!1;break e;case 3:case 4:oc=c.stateNode.containerInfo,ac=!0;break e}c=c.return}if(null===oc)throw Error(o(160));lc(s,a,n),oc=null,ac=!1,null!==(s=n.alternate)&&(s.return=null),n.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)pc(t,e),t=t.sibling}var fc=null;function pc(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dc(t,e),gc(e),4&i&&(Ba(3,e,e.return),ja(3,e),Ba(5,e,e.return));break;case 1:dc(t,e),gc(e),512&i&&(Qa||null===r||Ha(r,r.return)),64&i&&$a&&(null!==(e=e.updateQueue)&&(null!==(i=e.callbacks)&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===r?i:r.concat(i))));break;case 26:var n=fc;if(dc(t,e),gc(e),512&i&&(Qa||null===r||Ha(r,r.return)),4&i){var s=null!==r?r.memoizedState:null;if(i=e.memoizedState,null===r)if(null===i)if(null===e.stateNode){e:{i=e.type,r=e.memoizedProps,n=n.ownerDocument||n;t:switch(i){case"title":(!(s=n.getElementsByTagName("title")[0])||s[He]||s[De]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=n.createElement(i),n.head.insertBefore(s,n.querySelector("head > title"))),Wu(s,i,r),s[De]=e,Xe(s),i=s;break e;case"link":var a=Ah("link","href",n).get(i+(r.href||""));if(a)for(var c=0;c<a.length;c++)if((s=a[c]).getAttribute("href")===(null==r.href?null:r.href)&&s.getAttribute("rel")===(null==r.rel?null:r.rel)&&s.getAttribute("title")===(null==r.title?null:r.title)&&s.getAttribute("crossorigin")===(null==r.crossOrigin?null:r.crossOrigin)){a.splice(c,1);break t}Wu(s=n.createElement(i),i,r),n.head.appendChild(s);break;case"meta":if(a=Ah("meta","content",n).get(i+(r.content||"")))for(c=0;c<a.length;c++)if((s=a[c]).getAttribute("content")===(null==r.content?null:""+r.content)&&s.getAttribute("name")===(null==r.name?null:r.name)&&s.getAttribute("property")===(null==r.property?null:r.property)&&s.getAttribute("http-equiv")===(null==r.httpEquiv?null:r.httpEquiv)&&s.getAttribute("charset")===(null==r.charSet?null:r.charSet)){a.splice(c,1);break t}Wu(s=n.createElement(i),i,r),n.head.appendChild(s);break;default:throw Error(o(468,i))}s[De]=e,Xe(s),i=s}e.stateNode=i}else Ph(n,e.type,e.stateNode);else e.stateNode=Eh(n,i,e.memoizedProps);else s!==i?(null===s?null!==r.stateNode&&(r=r.stateNode).parentNode.removeChild(r):s.count--,null===i?Ph(n,e.type,e.stateNode):Eh(n,i,e.memoizedProps)):null===i&&null!==e.stateNode&&Ga(e,e.memoizedProps,r.memoizedProps)}break;case 27:if(4&i&&null===e.alternate){n=e.stateNode,s=e.memoizedProps;try{for(var l=n.firstChild;l;){var u=l.nextSibling,h=l.nodeName;l[He]||"HEAD"===h||"BODY"===h||"SCRIPT"===h||"STYLE"===h||"LINK"===h&&"stylesheet"===l.rel.toLowerCase()||n.removeChild(l),l=u}for(var d=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Wu(n,d,s),n[De]=e,n[qe]=s}catch(g){iu(e,e.return,g)}}case 5:if(dc(t,e),gc(e),512&i&&(Qa||null===r||Ha(r,r.return)),32&e.flags){n=e.stateNode;try{Et(n,"")}catch(g){iu(e,e.return,g)}}4&i&&null!=e.stateNode&&Ga(e,n=e.memoizedProps,null!==r?r.memoizedProps:n),1024&i&&(ec=!0);break;case 6:if(dc(t,e),gc(e),4&i){if(null===e.stateNode)throw Error(o(162));i=e.memoizedProps,r=e.stateNode;try{r.nodeValue=i}catch(g){iu(e,e.return,g)}}break;case 3:if(xh=null,n=fc,fc=dh(t.containerInfo),dc(t,e),fc=n,gc(e),4&i&&null!==r&&r.memoizedState.isDehydrated)try{gd(t.containerInfo)}catch(g){iu(e,e.return,g)}ec&&(ec=!1,bc(e));break;case 4:i=fc,fc=dh(e.stateNode.containerInfo),dc(t,e),gc(e),fc=i;break;case 12:dc(t,e),gc(e);break;case 13:dc(t,e),gc(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==r&&null!==r.memoizedState)&&(vl=ce()),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,hc(e,i)));break;case 22:if(512&i&&(Qa||null===r||Ha(r,r.return)),l=null!==e.memoizedState,u=null!==r&&null!==r.memoizedState,$a=(h=$a)||l,Qa=(d=Qa)||u,dc(t,e),Qa=d,$a=h,gc(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&i&&(t._visibility=l?-2&t._visibility:1|t._visibility,l&&(t=$a||Qa,null===r||u||t||yc(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(r=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===r){u=r=t;try{if(n=u.stateNode,l)"function"===typeof(s=n.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{a=u.stateNode;var p=void 0!==(c=u.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null;a.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(g){iu(u,u.return,g)}}}else if(6===t.tag){if(null===r){u=t;try{u.stateNode.nodeValue=l?"":u.memoizedProps}catch(g){iu(u,u.return,g)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&i&&(null!==(i=e.updateQueue)&&(null!==(r=i.retryQueue)&&(i.retryQueue=null,hc(e,r))));break;case 19:dc(t,e),gc(e),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,hc(e,i)));break;case 21:break;default:dc(t,e),gc(e)}}function gc(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var r=e.return;null!==r;){if(Ja(r)){var i=r;break e}r=r.return}throw Error(o(160))}switch(i.tag){case 27:var n=i.stateNode;Xa(e,Ya(e),n);break;case 5:var s=i.stateNode;32&i.flags&&(Et(s,""),i.flags&=-33),Xa(e,Ya(e),s);break;case 3:case 4:var a=i.stateNode.containerInfo;Za(e,Ya(e),a);break;default:throw Error(o(161))}}}catch(c){iu(e,e.return,c)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bc(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;bc(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function mc(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)nc(e,t.alternate,t),t=t.sibling}function yc(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ba(4,t,t.return),yc(t);break;case 1:Ha(t,t.return);var r=t.stateNode;"function"===typeof r.componentWillUnmount&&Ka(t,t.return,r),yc(t);break;case 26:case 27:case 5:Ha(t,t.return),yc(t);break;case 22:Ha(t,t.return),null===t.memoizedState&&yc(t);break;default:yc(t)}e=e.sibling}}function vc(e,t,r){for(r=r&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var i=t.alternate,n=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:vc(n,s,r),ja(4,s);break;case 1:if(vc(n,s,r),"function"===typeof(n=(i=s).stateNode).componentDidMount)try{n.componentDidMount()}catch(l){iu(i,i.return,l)}if(null!==(n=(i=s).updateQueue)){var a=i.stateNode;try{var c=n.shared.hiddenCallbacks;if(null!==c)for(n.shared.hiddenCallbacks=null,n=0;n<c.length;n++)Da(c[n],a)}catch(l){iu(i,i.return,l)}}r&&64&o&&Fa(s),Va(s,s.return);break;case 26:case 27:case 5:vc(n,s,r),r&&null===i&&4&o&&Wa(s),Va(s,s.return);break;case 12:default:vc(n,s,r);break;case 13:vc(n,s,r),r&&4&o&&uc(n,s);break;case 22:null===s.memoizedState&&vc(n,s,r),Va(s,s.return)}t=t.sibling}}function wc(e,t){var r=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==r&&(null!=e&&e.refCount++,null!=r&&Bn(r))}function Sc(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bn(e))}function Ec(e,t,r,i){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)_c(e,t,r,i),t=t.sibling}function _c(e,t,r,i){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Ec(e,t,r,i),2048&n&&ja(9,t);break;case 3:Ec(e,t,r,i),2048&n&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bn(e)));break;case 12:if(2048&n){Ec(e,t,r,i),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,a=s.onPostCommit;"function"===typeof a&&a(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(c){iu(t,t.return,c)}}else Ec(e,t,r,i);break;case 23:break;case 22:s=t.stateNode,null!==t.memoizedState?4&s._visibility?Ec(e,t,r,i):Ic(e,t):4&s._visibility?Ec(e,t,r,i):(s._visibility|=4,Mc(e,t,r,i,0!==(10256&t.subtreeFlags))),2048&n&&wc(t.alternate,t);break;case 24:Ec(e,t,r,i),2048&n&&Sc(t.alternate,t);break;default:Ec(e,t,r,i)}}function Mc(e,t,r,i,n){for(n=n&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,o=t,a=r,c=i,l=o.flags;switch(o.tag){case 0:case 11:case 15:Mc(s,o,a,c,n),ja(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?4&u._visibility?Mc(s,o,a,c,n):Ic(s,o):(u._visibility|=4,Mc(s,o,a,c,n)),n&&2048&l&&wc(o.alternate,o);break;case 24:Mc(s,o,a,c,n),n&&2048&l&&Sc(o.alternate,o);break;default:Mc(s,o,a,c,n)}t=t.sibling}}function Ic(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,i=t,n=i.flags;switch(i.tag){case 22:Ic(r,i),2048&n&&wc(i.alternate,i);break;case 24:Ic(r,i),2048&n&&Sc(i.alternate,i);break;default:Ic(r,i)}t=t.sibling}}var xc=8192;function Ac(e){if(e.subtreeFlags&xc)for(e=e.child;null!==e;)Pc(e),e=e.sibling}function Pc(e){switch(e.tag){case 26:Ac(e),e.flags&xc&&null!==e.memoizedState&&function(e,t,r){if(null===Oh)throw Error(o(475));var i=Oh;if("stylesheet"===t.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var n=mh(r.href),s=e.querySelector(yh(n));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(i.count++,i=Rh.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=s,void Xe(s);s=e.ownerDocument||e,r=vh(r),(n=uh.get(n))&&Mh(r,n),Xe(s=s.createElement("link"));var a=s;a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),Wu(s,"link",r),t.instance=s}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(i.count++,t=Rh.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}(fc,e.memoizedState,e.memoizedProps);break;case 5:default:Ac(e);break;case 3:case 4:var t=fc;fc=dh(e.stateNode.containerInfo),Ac(e),fc=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=xc,xc=16777216,Ac(e),xc=t):Ac(e))}}function kc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Oc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var i=t[r];rc=i,Tc(i,e)}kc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Nc(e),e=e.sibling}function Nc(e){switch(e.tag){case 0:case 11:case 15:Oc(e),2048&e.flags&&Ba(9,e,e.return);break;case 3:case 12:default:Oc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Rc(e)):Oc(e)}}function Rc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var i=t[r];rc=i,Tc(i,e)}kc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Ba(8,t,t.return),Rc(t);break;case 22:4&(r=t.stateNode)._visibility&&(r._visibility&=-5,Rc(t));break;default:Rc(t)}e=e.sibling}}function Tc(e,t){for(;null!==rc;){var r=rc;switch(r.tag){case 0:case 11:case 15:Ba(8,r,t);break;case 23:case 22:if(null!==r.memoizedState&&null!==r.memoizedState.cachePool){var i=r.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:Bn(r.memoizedState.cache)}if(null!==(i=r.child))i.return=r,rc=i;else e:for(r=e;null!==rc;){var n=(i=rc).sibling,s=i.return;if(sc(i),i===r){rc=null;break e}if(null!==n){n.return=s,rc=n;break e}rc=s}}}function Cc(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lc(e,t,r,i){return new Cc(e,t,r,i)}function zc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Uc(e,t){var r=e.alternate;return null===r?((r=Lc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=31457280&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Dc(e,t){e.flags&=31457282;var r=e.alternate;return null===r?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qc(e,t,r,i,n,s){var a=0;if(i=e,"function"===typeof e)zc(e)&&(a=1);else if("string"===typeof e)a=function(e,t,r){if(1===r||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,r,Y.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case h:return jc(r.children,n,s,t);case d:a=8,n|=24;break;case f:return(e=Lc(12,r,t,2|n)).elementType=f,e.lanes=s,e;case y:return(e=Lc(13,r,t,n)).elementType=y,e.lanes=s,e;case v:return(e=Lc(19,r,t,n)).elementType=v,e.lanes=s,e;case E:return Bc(r,n,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case p:case b:a=10;break e;case g:a=9;break e;case m:a=11;break e;case w:a=14;break e;case S:a=16,i=null;break e}a=29,r=Error(o(130,null===e?"null":typeof e,"")),i=null}return(t=Lc(a,r,t,n)).elementType=e,t.type=i,t.lanes=s,t}function jc(e,t,r,i){return(e=Lc(7,e,i,t)).lanes=r,e}function Bc(e,t,r,i){(e=Lc(22,e,i,t)).elementType=E,e.lanes=r;var n={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=n._current;if(null===e)throw Error(o(456));if(0===(2&n._pendingVisibility)){var t=Pi(e,2);null!==t&&(n._pendingVisibility|=2,Rl(t,e,2))}},attach:function(){var e=n._current;if(null===e)throw Error(o(456));if(0!==(2&n._pendingVisibility)){var t=Pi(e,2);null!==t&&(n._pendingVisibility&=-3,Rl(t,e,2))}}};return e.stateNode=n,e}function Fc(e,t,r){return(e=Lc(6,e,null,t)).lanes=r,e}function Kc(e,t,r){return(t=Lc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e){e.flags|=4}function Hc(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!kh(t)){if(null!==(t=Pn.current)&&((4194176&il)===il?null!==kn:(62914560&il)!==il&&0===(536870912&il)||t!==kn))throw dn=cn,an;e.flags|=8192}}function Wc(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Oe():536870912,e.lanes|=t,gl|=t)}function Gc(e,t){if(!Yi)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;null!==r;)null!==r.alternate&&(i=r),r=r.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Jc(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,i=0;if(t)for(var n=e.child;null!==n;)r|=n.lanes|n.childLanes,i|=31457280&n.subtreeFlags,i|=31457280&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)r|=n.lanes|n.childLanes,i|=n.subtreeFlags,i|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function Yc(e,t,r){var i=t.pendingProps;switch(Wi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Jc(t),null;case 3:return r=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),va(qn),ee(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(rn(t)?Vc(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Zi&&(Cl(Zi),Zi=null))),Jc(t),null;case 26:return r=t.memoizedState,null===e?(Vc(t),null!==r?(Jc(t),Hc(t,r)):(Jc(t),t.flags&=-16777217)):r?r!==e.memoizedState?(Vc(t),Jc(t),Hc(t,r)):(Jc(t),t.flags&=-16777217):(e.memoizedProps!==i&&Vc(t),Jc(t),t.flags&=-16777217),null;case 27:re(t),r=X.current;var n=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Vc(t);else{if(!i){if(null===t.stateNode)throw Error(o(166));return Jc(t),null}e=Y.current,rn(t)?en(t):(e=lh(n,i,r),t.stateNode=e,Vc(t))}return Jc(t),null;case 5:if(re(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Vc(t);else{if(!i){if(null===t.stateNode)throw Error(o(166));return Jc(t),null}if(e=Y.current,rn(t))en(t);else{switch(n=Yu(X.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(e=n.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof i.is?n.createElement("select",{is:i.is}):n.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e="string"===typeof i.is?n.createElement(r,{is:i.is}):n.createElement(r)}}e[De]=t,e[qe]=i;e:for(n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&27!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;null===n.sibling;){if(null===n.return||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(Wu(e,r,i),r){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Vc(t)}}return Jc(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&Vc(t);else{if("string"!==typeof i&&null===t.stateNode)throw Error(o(166));if(e=X.current,rn(t)){if(e=t.stateNode,r=t.memoizedProps,i=null,null!==(n=Gi))switch(n.tag){case 27:case 5:i=n.memoizedProps}e[De]=t,(e=!!(e.nodeValue===r||null!==i&&!0===i.suppressHydrationWarning||Fu(e.nodeValue,r)))||Qi(t)}else(e=Yu(e).createTextNode(i))[De]=t,t.stateNode=e}return Jc(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(n=rn(t),null!==i&&null!==i.dehydrated){if(null===e){if(!n)throw Error(o(318));if(!(n=null!==(n=t.memoizedState)?n.dehydrated:null))throw Error(o(317));n[De]=t}else nn(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Jc(t),n=!1}else null!==Zi&&(Cl(Zi),Zi=null),n=!0;if(!n)return 256&t.flags?(Tn(t),t):(Tn(t),null)}if(Tn(t),0!==(128&t.flags))return t.lanes=r,t;if(r=null!==i,e=null!==e&&null!==e.memoizedState,r){n=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(n=i.alternate.memoizedState.cachePool.pool);var s=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(s=i.memoizedState.cachePool.pool),s!==n&&(i.flags|=2048)}return r!==e&&r&&(t.child.flags|=8192),Wc(t,t.updateQueue),Jc(t),null;case 4:return ee(),null===e&&Ru(t.stateNode.containerInfo),Jc(t),null;case 10:return va(t.type),Jc(t),null;case 19:if(G(Cn),null===(n=t.memoizedState))return Jc(t),null;if(i=0!==(128&t.flags),null===(s=n.rendering))if(i)Gc(n,!1);else{if(0!==ul||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Ln(e))){for(t.flags|=128,Gc(n,!1),e=s.updateQueue,t.updateQueue=e,Wc(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)Dc(r,e),r=r.sibling;return J(Cn,1&Cn.current|2),t.child}e=e.sibling}null!==n.tail&&ce()>wl&&(t.flags|=128,i=!0,Gc(n,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Ln(s))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Wc(t,e),Gc(n,!0),null===n.tail&&"hidden"===n.tailMode&&!s.alternate&&!Yi)return Jc(t),null}else 2*ce()-n.renderingStartTime>wl&&536870912!==r&&(t.flags|=128,i=!0,Gc(n,!1),t.lanes=4194304);n.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=n.last)?e.sibling=s:t.child=s,n.last=s)}return null!==n.tail?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=ce(),t.sibling=null,e=Cn.current,J(Cn,i?1&e|2:1&e),t):(Jc(t),null);case 22:case 23:return Tn(t),An(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?0!==(536870912&r)&&0===(128&t.flags)&&(Jc(t),6&t.subtreeFlags&&(t.flags|=8192)):Jc(t),null!==(r=t.updateQueue)&&Wc(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==r&&(t.flags|=2048),null!==e&&G(Jn),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),va(qn),Jc(t),null;case 25:return null}throw Error(o(156,t.tag))}function Zc(e,t){switch(Wi(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return va(qn),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return re(t),null;case 13:if(Tn(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));nn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return G(Cn),null;case 4:return ee(),null;case 10:return va(t.type),null;case 22:case 23:return Tn(t),An(),null!==e&&G(Jn),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return va(qn),null;default:return null}}function Xc(e,t){switch(Wi(t),t.tag){case 3:va(qn),ee();break;case 26:case 27:case 5:re(t);break;case 4:ee();break;case 13:Tn(t);break;case 19:G(Cn);break;case 10:va(t.type);break;case 22:case 23:Tn(t),An(),null!==e&&G(Jn);break;case 24:va(qn)}}var $c={getCacheForType:function(e){var t=Ia(qn),r=t.data.get(e);return void 0===r&&(r=e(),t.data.set(e,r)),r}},Qc="function"===typeof WeakMap?WeakMap:Map,el=0,tl=null,rl=null,il=0,nl=0,sl=null,ol=!1,al=!1,cl=!1,ll=0,ul=0,hl=0,dl=0,fl=0,pl=0,gl=0,bl=null,ml=null,yl=!1,vl=0,wl=1/0,Sl=null,El=null,_l=!1,Ml=null,Il=0,xl=0,Al=null,Pl=0,kl=null;function Ol(){if(0!==(2&el)&&0!==il)return il&-il;if(null!==O.T){return 0!==Vn?Vn:Su()}return ze()}function Nl(){0===pl&&(pl=0===(536870912&il)||Yi?ke():536870912);var e=Pn.current;return null!==e&&(e.flags|=32),pl}function Rl(e,t,r){(e===tl&&2===nl||null!==e.cancelPendingCommit)&&(jl(e,0),Ul(e,il,pl,!1)),Re(e,r),0!==(2&el)&&e===tl||(e===tl&&(0===(2&el)&&(dl|=r),4===ul&&Ul(e,il,pl,!1)),gu(e))}function Tl(e,t,r){if(0!==(6&el))throw Error(o(327));for(var i=!r&&0===(60&t)&&0===(t&e.expiredLanes)||Ae(e,t),n=i?function(e,t){var r=el;el|=2;var i=Fl(),n=Kl();tl!==e||il!==t?(Sl=null,wl=ce()+500,jl(e,t)):al=Ae(e,t);e:for(;;)try{if(0!==nl&&null!==rl){t=rl;var s=sl;t:switch(nl){case 1:nl=0,sl=null,Zl(e,t,s,1);break;case 2:if(ln(s)){nl=0,sl=null,Yl(t);break}t=function(){2===nl&&tl===e&&(nl=7),gu(e)},s.then(t,t);break e;case 3:nl=7;break e;case 4:nl=5;break e;case 7:ln(s)?(nl=0,sl=null,Yl(t)):(nl=0,sl=null,Zl(e,t,s,7));break;case 5:var a=null;switch(rl.tag){case 26:a=rl.memoizedState;case 5:case 27:var c=rl;if(!a||kh(a)){nl=0,sl=null;var l=c.sibling;if(null!==l)rl=l;else{var u=c.return;null!==u?(rl=u,Xl(u)):rl=null}break t}}nl=0,sl=null,Zl(e,t,s,5);break;case 6:nl=0,sl=null,Zl(e,t,s,6);break;case 8:ql(),ul=6;break e;default:throw Error(o(462))}}Gl();break}catch(h){Bl(e,h)}return ma=ba=null,O.H=i,O.A=n,el=r,null!==rl?0:(tl=null,il=0,Ii(),ul)}(e,t):Hl(e,t,!0),s=i;;){if(0===n){al&&!i&&Ul(e,t,0,!1);break}if(6===n)Ul(e,t,0,!ol);else{if(r=e.current.alternate,s&&!zl(r)){n=Hl(e,t,!1),s=!1;continue}if(2===n){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var c=e;n=bl;var l=c.current.memoizedState.isDehydrated;if(l&&(jl(c,a).flags|=256),2!==(a=Hl(c,a,!1))){if(cl&&!l){c.errorRecoveryDisabledLanes|=s,dl|=s,n=4;break e}s=ml,ml=n,null!==s&&Cl(s)}n=a}if(s=!1,2!==n)continue}}if(1===n){jl(e,0),Ul(e,t,0,!0);break}e:{switch(i=e,n){case 0:case 1:throw Error(o(345));case 4:if((4194176&t)===t){Ul(i,t,pl,!ol);break e}break;case 2:ml=null;break;case 3:case 5:break;default:throw Error(o(329))}if(i.finishedWork=r,i.finishedLanes=t,(62914560&t)===t&&10<(s=vl+300-ce())){if(Ul(i,t,pl,!ol),0!==xe(i,0))break e;i.timeoutHandle=eh(Ll.bind(null,i,r,ml,Sl,yl,t,pl,dl,gl,ol,2,-0,0),s)}else Ll(i,r,ml,Sl,yl,t,pl,dl,gl,ol,0,-0,0)}}break}gu(e)}function Cl(e){null===ml?ml=e:ml.push.apply(ml,e)}function Ll(e,t,r,i,n,s,a,c,l,u,h,d,f){var p=t.subtreeFlags;if((8192&p||16785408===(16785408&p))&&(Oh={stylesheets:null,count:0,unsuspend:Nh},Pc(t),null!==(t=function(){if(null===Oh)throw Error(o(475));var e=Oh;return e.stylesheets&&0===e.count&&Ch(e,e.stylesheets),0<e.count?function(t){var r=setTimeout((function(){if(e.stylesheets&&Ch(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(r)}}:null}())))return e.cancelPendingCommit=t(Ql.bind(null,e,r,i,n,a,c,l,1,d,f)),void Ul(e,s,a,!u);Ql(e,r,i,n,a,c,l,h,d,f)}function zl(e){for(var t=e;;){var r=t.tag;if((0===r||11===r||15===r)&&16384&t.flags&&(null!==(r=t.updateQueue)&&null!==(r=r.stores)))for(var i=0;i<r.length;i++){var n=r[i],s=n.getSnapshot;n=n.value;try{if(!Gr(s(),n))return!1}catch(o){return!1}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ul(e,t,r,i){t&=~fl,t&=~dl,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var n=t;0<n;){var s=31-we(n),o=1<<s;i[s]=-1,n&=~o}0!==r&&Te(e,r,t)}function Dl(){return 0!==(6&el)||(bu(0,!1),!1)}function ql(){if(null!==rl){if(0===nl)var e=rl.return;else ma=ba=null,ms(e=rl),pn=null,gn=0,e=rl;for(;null!==e;)Xc(e.alternate,e),e=e.return;rl=null}}function jl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,th(r)),null!==(r=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,r()),ql(),tl=e,rl=r=Uc(e.current,null),il=t,nl=0,sl=null,ol=!1,al=Ae(e,t),cl=!1,gl=pl=fl=dl=hl=ul=0,ml=bl=null,yl=!1,0!==(8&t)&&(t|=32&t);var i=e.entangledLanes;if(0!==i)for(e=e.entanglements,i&=t;0<i;){var n=31-we(i),s=1<<n;t|=e[n],i&=~s}return ll=t,Ii(),r}function Bl(e,t){Qn=null,O.H=Io,t===on?(t=fn(),nl=3):t===an?(t=fn(),nl=4):nl=t===Ko?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,sl=t,null===rl&&(ul=1,Do(e,Ti(t,e.current)))}function Fl(){var e=O.H;return O.H=Io,null===e?Io:e}function Kl(){var e=O.A;return O.A=$c,e}function Vl(){ul=4,ol||(4194176&il)!==il&&null!==Pn.current||(al=!0),0===(134217727&hl)&&0===(134217727&dl)||null===tl||Ul(tl,il,pl,!1)}function Hl(e,t,r){var i=el;el|=2;var n=Fl(),s=Kl();tl===e&&il===t||(Sl=null,jl(e,t)),t=!1;var o=ul;e:for(;;)try{if(0!==nl&&null!==rl){var a=rl,c=sl;switch(nl){case 8:ql(),o=6;break e;case 3:case 2:case 6:null===Pn.current&&(t=!0);var l=nl;if(nl=0,sl=null,Zl(e,a,c,l),r&&al){o=0;break e}break;default:l=nl,nl=0,sl=null,Zl(e,a,c,l)}}Wl(),o=ul;break}catch(u){Bl(e,u)}return t&&e.shellSuspendCounter++,ma=ba=null,el=i,O.H=n,O.A=s,null===rl&&(tl=null,il=0,Ii()),o}function Wl(){for(;null!==rl;)Jl(rl)}function Gl(){for(;null!==rl&&!oe();)Jl(rl)}function Jl(e){var t=pa(e.alternate,e,ll);e.memoizedProps=e.pendingProps,null===t?Xl(e):rl=t}function Yl(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Qo(r,t,t.pendingProps,t.type,void 0,il);break;case 11:t=Qo(r,t,t.pendingProps,t.type.render,t.ref,il);break;case 5:ms(t);default:Xc(r,t),t=pa(r,t=rl=Dc(t,ll),ll)}e.memoizedProps=e.pendingProps,null===t?Xl(e):rl=t}function Zl(e,t,r,i){ma=ba=null,ms(t),pn=null,gn=0;var n=t.return;try{if(function(e,t,r,i,n){if(r.flags|=32768,null!==i&&"object"===typeof i&&"function"===typeof i.then){if(null!==(t=r.alternate)&&Ea(t,r,n,!0),null!==(r=Pn.current)){switch(r.tag){case 13:return null===kn?Vl():null===r.alternate&&0===ul&&(ul=3),r.flags&=-257,r.flags|=65536,r.lanes=n,i===cn?r.flags|=16384:(null===(t=r.updateQueue)?r.updateQueue=new Set([i]):t.add(i),nu(e,i,n)),!1;case 22:return r.flags|=65536,i===cn?r.flags|=16384:(null===(t=r.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},r.updateQueue=t):null===(r=t.retryQueue)?t.retryQueue=new Set([i]):r.add(i),nu(e,i,n)),!1}throw Error(o(435,r.tag))}return nu(e,i,n),Vl(),!1}if(Yi)return null!==(t=Pn.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=n,i!==$i&&sn(Ti(e=Error(o(422),{cause:i}),r))):(i!==$i&&sn(Ti(t=Error(o(423),{cause:i}),r)),(e=e.current.alternate).flags|=65536,n&=-n,e.lanes|=n,i=Ti(i,r),Ca(e,n=jo(e.stateNode,i,n)),4!==ul&&(ul=2)),!1;var s=Error(o(520),{cause:i});if(s=Ti(s,r),null===bl?bl=[s]:bl.push(s),4!==ul&&(ul=2),null===t)return!0;i=Ti(i,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=n&-n,r.lanes|=e,Ca(r,e=jo(r.stateNode,i,e)),!1;case 1:if(t=r.type,s=r.stateNode,0===(128&r.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===El||!El.has(s))))return r.flags|=65536,n&=-n,r.lanes|=n,Fo(n=Bo(n),e,r,i),Ca(r,n),!1}r=r.return}while(null!==r);return!1}(e,n,t,r,il))return ul=1,Do(e,Ti(r,e.current)),void(rl=null)}catch(s){if(null!==n)throw rl=n,s;return ul=1,Do(e,Ti(r,e.current)),void(rl=null)}32768&t.flags?(Yi||1===i?e=!0:al||0!==(536870912&il)?e=!1:(ol=e=!0,(2===i||3===i||6===i)&&(null!==(i=Pn.current)&&13===i.tag&&(i.flags|=16384))),$l(t,e)):Xl(t)}function Xl(e){var t=e;do{if(0!==(32768&t.flags))return void $l(t,ol);e=t.return;var r=Yc(t.alternate,t,ll);if(null!==r)return void(rl=r);if(null!==(t=t.sibling))return void(rl=t);rl=t=e}while(null!==t);0===ul&&(ul=5)}function $l(e,t){do{var r=Zc(e.alternate,e);if(null!==r)return r.flags&=32767,void(rl=r);if(null!==(r=e.return)&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&null!==(e=e.sibling))return void(rl=e);rl=e=r}while(null!==e);ul=6,rl=null}function Ql(e,t,r,i,n,s,a,c,l,u){var h=O.T,d=F.p;try{F.p=2,O.T=null,function(e,t,r,i,n,s,a,c){do{tu()}while(null!==Ml);if(0!==(6&el))throw Error(o(327));var l=e.finishedWork;if(i=e.finishedLanes,null===l)return null;if(e.finishedWork=null,e.finishedLanes=0,l===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var u=l.lanes|l.childLanes;if(function(e,t,r,i,n,s){var o=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var a=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(r=o&~r;0<r;){var u=31-we(r),h=1<<u;a[u]=0,c[u]=-1;var d=l[u];if(null!==d)for(l[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}r&=~h}0!==i&&Te(e,i,0),0!==s&&0===n&&0!==e.tag&&(e.suspendedLanes|=s&~(o&~t))}(e,i,u|=Mi,s,a,c),e===tl&&(rl=tl=null,il=0),0===(10256&l.subtreeFlags)&&0===(10256&l.flags)||_l||(_l=!0,xl=u,Al=r,function(e,t){ne(e,t)}(de,(function(){return tu(),null}))),r=0!==(15990&l.flags),0!==(15990&l.subtreeFlags)||r?(r=O.T,O.T=null,s=F.p,F.p=2,a=el,el|=4,function(e,t){if(e=e.containerInfo,Gu=Vh,Qr(e=$r(e))){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(i&&0!==i.rangeCount){r=i.anchorNode;var n=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{r.nodeType,s.nodeType}catch(b){r=null;break e}var a=0,c=-1,l=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==r||0!==n&&3!==d.nodeType||(c=a+n),d!==s||0!==i&&3!==d.nodeType||(l=a+i),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===r&&++u===n&&(c=a),f===s&&++h===i&&(l=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}r=-1===c||-1===l?null:{start:c,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ju={focusedElem:e,selectionRange:r},Vh=!1,rc=t;null!==rc;)if(e=(t=rc).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,rc=e;else for(;null!==rc;){switch(s=(t=rc).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,r=t,n=s.memoizedProps,s=s.memoizedState,i=r.stateNode;try{var g=To(r.type,n,(r.elementType,r.type));e=i.getSnapshotBeforeUpdate(g,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(m){iu(r,r.return,m)}}break;case 3:if(0!==(1024&e))if(9===(r=(e=t.stateNode.containerInfo).nodeType))oh(e);else if(1===r)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":oh(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,rc=e;break}rc=t.return}g=ic,ic=!1}(e,l),pc(l,e),ei(Ju,e.containerInfo),Vh=!!Gu,Ju=Gu=null,e.current=l,nc(e,l.alternate,l),ae(),el=a,F.p=s,O.T=r):e.current=l,_l?(_l=!1,Ml=e,Il=i):eu(e,u),u=e.pendingLanes,0===u&&(El=null),function(e){if(ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(me,e,void 0,128===(128&e.current.flags))}catch(t){}}(l.stateNode),gu(e),null!==t)for(n=e.onRecoverableError,l=0;l<t.length;l++)u=t[l],n(u.value,{componentStack:u.stack});0!==(3&Il)&&tu(),u=e.pendingLanes,0!==(4194218&i)&&0!==(42&u)?e===kl?Pl++:(Pl=0,kl=e):Pl=0,bu(0,!1)}(e,t,r,i,d,n,s,a)}finally{O.T=h,F.p=d}}function eu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Bn(t)))}function tu(){if(null!==Ml){var e=Ml,t=xl;xl=0;var r=Le(Il),i=O.T,n=F.p;try{if(F.p=32>r?32:r,O.T=null,null===Ml)var s=!1;else{r=Al,Al=null;var a=Ml,c=Il;if(Ml=null,Il=0,0!==(6&el))throw Error(o(331));var l=el;if(el|=4,Nc(a.current),_c(a,a.current,c,r),el=l,bu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(me,a)}catch(u){}s=!0}return s}finally{F.p=n,O.T=i,eu(e,t)}}return!1}function ru(e,t,r){t=Ti(r,t),null!==(e=Ra(e,t=jo(e.stateNode,t,2),2))&&(Re(e,2),gu(e))}function iu(e,t,r){if(3===e.tag)ru(e,e,r);else for(;null!==t;){if(3===t.tag){ru(t,e,r);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===El||!El.has(i))){e=Ti(r,e),null!==(i=Ra(t,r=Bo(2),2))&&(Fo(r,i,t,e),Re(i,2),gu(i));break}}t=t.return}}function nu(e,t,r){var i=e.pingCache;if(null===i){i=e.pingCache=new Qc;var n=new Set;i.set(t,n)}else void 0===(n=i.get(t))&&(n=new Set,i.set(t,n));n.has(r)||(cl=!0,n.add(r),e=su.bind(null,e,t,r),t.then(e,e))}function su(e,t,r){var i=e.pingCache;null!==i&&i.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,tl===e&&(il&r)===r&&(4===ul||3===ul&&(62914560&il)===il&&300>ce()-vl?0===(2&el)&&jl(e,0):fl|=r,gl===il&&(gl=0)),gu(e)}function ou(e,t){0===t&&(t=Oe()),null!==(e=Pi(e,t))&&(Re(e,t),gu(e))}function au(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),ou(e,r)}function cu(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,n=e.memoizedState;null!==n&&(r=n.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==i&&i.delete(t),ou(e,r)}var lu=null,uu=null,hu=!1,du=!1,fu=!1,pu=0;function gu(e){var t;e!==uu&&null===e.next&&(null===uu?lu=uu=e:uu=uu.next=e),du=!0,hu||(hu=!0,t=mu,ih((function(){0!==(6&el)?ne(ue,t):t()})))}function bu(e,t){if(!fu&&du){fu=!0;do{for(var r=!1,i=lu;null!==i;){if(!t)if(0!==e){var n=i.pendingLanes;if(0===n)var s=0;else{var o=i.suspendedLanes,a=i.pingedLanes;s=(1<<31-we(42|e)+1)-1,s=201326677&(s&=n&~(o&~a))?201326677&s|1:s?2|s:0}0!==s&&(r=!0,wu(i,s))}else s=il,0===(3&(s=xe(i,i===tl?s:0)))||Ae(i,s)||(r=!0,wu(i,s));i=i.next}}while(r);fu=!1}}function mu(){du=hu=!1;var e=0;0!==pu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Qu&&(Qu=e,!0);return Qu=null,!1}()&&(e=pu),pu=0);for(var t=ce(),r=null,i=lu;null!==i;){var n=i.next,s=yu(i,t);0===s?(i.next=null,null===r?lu=n:r.next=n,null===n&&(uu=r)):(r=i,(0!==e||0!==(3&s))&&(du=!0)),i=n}bu(e,!1)}function yu(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,n=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var o=31-we(s),a=1<<o,c=n[o];-1===c?0!==(a&r)&&0===(a&i)||(n[o]=Pe(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}if(r=il,r=xe(e,e===(t=tl)?r:0),i=e.callbackNode,0===r||e===t&&2===nl||null!==e.cancelPendingCommit)return null!==i&&null!==i&&se(i),e.callbackNode=null,e.callbackPriority=0;if(0===(3&r)||Ae(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==i&&se(i),Le(r)){case 2:case 8:r=he;break;case 32:default:r=de;break;case 268435456:r=pe}return i=vu.bind(null,e),r=ne(r,i),e.callbackPriority=t,e.callbackNode=r,t}return null!==i&&null!==i&&se(i),e.callbackPriority=2,e.callbackNode=null,2}function vu(e,t){var r=e.callbackNode;if(tu()&&e.callbackNode!==r)return null;var i=il;return 0===(i=xe(e,e===tl?i:0))?null:(Tl(e,i,t),yu(e,ce()),null!=e.callbackNode&&e.callbackNode===r?vu.bind(null,e):null)}function wu(e,t){if(tu())return null;Tl(e,t,!0)}function Su(){return 0===pu&&(pu=ke()),pu}function Eu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:kt(""+e)}function _u(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}for(var Mu=0;Mu<wi.length;Mu++){var Iu=wi[Mu];Si(Iu.toLowerCase(),"on"+(Iu[0].toUpperCase()+Iu.slice(1)))}Si(di,"onAnimationEnd"),Si(fi,"onAnimationIteration"),Si(pi,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(gi,"onTransitionRun"),Si(bi,"onTransitionStart"),Si(mi,"onTransitionCancel"),Si(yi,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Au=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xu));function Pu(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var i=e[r],n=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var o=i.length-1;0<=o;o--){var a=i[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&n.isPropagationStopped())break e;s=a,n.currentTarget=l;try{s(n)}catch(u){Co(u)}n.currentTarget=null,s=c}else for(o=0;o<i.length;o++){if(c=(a=i[o]).instance,l=a.currentTarget,a=a.listener,c!==s&&n.isPropagationStopped())break e;s=a,n.currentTarget=l;try{s(n)}catch(u){Co(u)}n.currentTarget=null,s=c}}}}function ku(e,t){var r=t[Be];void 0===r&&(r=t[Be]=new Set);var i=e+"__bubble";r.has(i)||(Tu(t,e,2,!1),r.add(i))}function Ou(e,t,r){var i=0;t&&(i|=4),Tu(r,e,i,t)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function Ru(e){if(!e[Nu]){e[Nu]=!0,$e.forEach((function(t){"selectionchange"!==t&&(Au.has(t)||Ou(t,!1,e),Ou(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Nu]||(t[Nu]=!0,Ou("selectionchange",!1,t))}}function Tu(e,t,r,i){switch(Xh(t)){case 2:var n=Hh;break;case 8:n=Wh;break;default:n=Gh}r=n.bind(null,t,r,e),n=void 0,!Dt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),i?void 0!==n?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):void 0!==n?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function Cu(e,t,r,i,n){var s=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var a=i.stateNode.containerInfo;if(a===n||8===a.nodeType&&a.parentNode===n)break;if(4===o)for(o=i.return;null!==o;){var c=o.tag;if((3===c||4===c)&&((c=o.stateNode.containerInfo)===n||8===c.nodeType&&c.parentNode===n))return;o=o.return}for(;null!==a;){if(null===(o=Ge(a)))return;if(5===(c=o.tag)||6===c||26===c||27===c){i=s=o;continue e}a=a.parentNode}}i=i.return}zt((function(){var i=s,n=Nt(r),o=[];e:{var a=vi.get(e);if(void 0!==a){var c=$t,l=e;switch(e){case"keypress":if(0===Vt(r))break e;case"keydown":case"keyup":c=fr;break;case"focusin":l="focus",c=nr;break;case"focusout":l="blur",c=nr;break;case"beforeblur":case"afterblur":c=nr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ir;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=gr;break;case di:case fi:case pi:c=sr;break;case yi:c=br;break;case"scroll":case"scrollend":c=er;break;case"wheel":c=mr;break;case"copy":case"cut":case"paste":c=or;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=pr;break;case"toggle":case"beforetoggle":c=yr}var u=0!==(4&t),h=!u&&("scroll"===e||"scrollend"===e),d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=i;null!==p;){var g=p;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===d||null!=(g=Ut(p,d))&&u.push(Lu(p,g,f)),h)break;p=p.return}0<u.length&&(a=new c(a,l,null,r,n),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||r===Ot||!(l=r.relatedTarget||r.fromElement)||!Ge(l)&&!l[je])&&(c||a)&&(a=n.window===n?n:(a=n.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=i,null!==(l=(l=r.relatedTarget||r.toElement)?Ge(l):null)&&(h=U(l),u=l.tag,l!==h||5!==u&&27!==u&&6!==u)&&(l=null)):(c=null,l=i),c!==l)){if(u=rr,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=pr,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==c?a:Ye(c),f=null==l?a:Ye(l),(a=new u(g,p+"leave",c,r,n)).target=h,a.relatedTarget=f,g=null,Ge(n)===i&&((u=new u(d,p+"enter",l,r,n)).target=f,u.relatedTarget=h,g=u),h=g,c&&l)e:{for(d=l,p=0,f=u=c;f;f=Uu(f))p++;for(f=0,g=d;g;g=Uu(g))f++;for(;0<p-f;)u=Uu(u),p--;for(;0<f-p;)d=Uu(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Uu(u),d=Uu(d)}u=null}else u=null;null!==c&&Du(o,a,c,u,!1),null!==l&&null!==h&&Du(o,h,l,u,!0)}if("select"===(c=(a=i?Ye(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var b=zr;else if(Or(a))if(Ur)b=Wr;else{b=Vr;var m=Kr}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?i&&xt(i.elementType)&&(b=zr):b=Hr;switch(b&&(b=b(e,i))?Nr(o,b,r,n):(m&&m(e,a,i),"focusout"===e&&i&&"number"===a.type&&null!=i.memoizedProps.value&&yt(a,"number",a.value)),m=i?Ye(i):window,e){case"focusin":(Or(m)||"true"===m.contentEditable)&&(ri=m,ii=i,ni=null);break;case"focusout":ni=ii=ri=null;break;case"mousedown":si=!0;break;case"contextmenu":case"mouseup":case"dragend":si=!1,oi(o,r,n);break;case"selectionchange":if(ti)break;case"keydown":case"keyup":oi(o,r,n)}var y;if(wr)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Pr?xr(e,r)&&(v="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(v="onCompositionStart");v&&(_r&&"ko"!==r.locale&&(Pr||"onCompositionStart"!==v?"onCompositionEnd"===v&&Pr&&(y=Kt()):(Bt="value"in(jt=n)?jt.value:jt.textContent,Pr=!0)),0<(m=zu(i,v)).length&&(v=new ar(v,e,null,r,n),o.push({event:v,listeners:m}),y?v.data=y:null!==(y=Ar(r))&&(v.data=y))),(y=Er?function(e,t){switch(e){case"compositionend":return Ar(t);case"keypress":return 32!==t.which?null:(Ir=!0,Mr);case"textInput":return(e=t.data)===Mr&&Ir?null:e;default:return null}}(e,r):function(e,t){if(Pr)return"compositionend"===e||!wr&&xr(e,t)?(e=Kt(),Ft=Bt=jt=null,Pr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _r&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(v=zu(i,"onBeforeInput")).length&&(m=new ar("onBeforeInput","beforeinput",null,r,n),o.push({event:m,listeners:v}),m.data=y)),function(e,t,r,i,n){if("submit"===t&&r&&r.stateNode===n){var s=Eu((n[qe]||null).action),o=i.submitter;o&&null!==(t=(t=o[qe]||null)?Eu(t.formAction):o.getAttribute("formAction"))&&(s=t,o=null);var a=new $t("action","action",null,i,n);e.push({event:a,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(0!==pu){var e=o?_u(n,o):new FormData(n);uo(r,{pending:!0,data:e,method:n.method,action:s},null,e)}}else"function"===typeof s&&(a.preventDefault(),e=o?_u(n,o):new FormData(n),uo(r,{pending:!0,data:e,method:n.method,action:s},s,e))},currentTarget:n}]})}}(o,e,i,r,n)}Pu(o,t)}))}function Lu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function zu(e,t){for(var r=t+"Capture",i=[];null!==e;){var n=e,s=n.stateNode;5!==(n=n.tag)&&26!==n&&27!==n||null===s||(null!=(n=Ut(e,r))&&i.unshift(Lu(e,n,s)),null!=(n=Ut(e,t))&&i.push(Lu(e,n,s))),e=e.return}return i}function Uu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Du(e,t,r,i,n){for(var s=t._reactName,o=[];null!==r&&r!==i;){var a=r,c=a.alternate,l=a.stateNode;if(a=a.tag,null!==c&&c===i)break;5!==a&&26!==a&&27!==a||null===l||(c=l,n?null!=(l=Ut(r,s))&&o.unshift(Lu(r,l,c)):n||null!=(l=Ut(r,s))&&o.push(Lu(r,l,c))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}var qu=/\r\n?/g,ju=/\u0000|\uFFFD/g;function Bu(e){return("string"===typeof e?e:""+e).replace(qu,"\n").replace(ju,"")}function Fu(e,t){return t=Bu(t),Bu(e)===t}function Ku(){}function Vu(e,t,r,i,n,s){switch(r){case"children":"string"===typeof i?"body"===t||"textarea"===t&&""===i||Et(e,i):("number"===typeof i||"bigint"===typeof i)&&"body"!==t&&Et(e,""+i);break;case"className":at(e,"class",i);break;case"tabIndex":at(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":at(e,r,i);break;case"style":It(e,i,s);break;case"data":if("object"!==t){at(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==r)){e.removeAttribute(r);break}if(null==i||"function"===typeof i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(r);break}i=kt(""+i),e.setAttribute(r,i);break;case"action":case"formAction":if("function"===typeof i){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===r?("input"!==t&&Vu(e,t,"name",n.name,n,null),Vu(e,t,"formEncType",n.formEncType,n,null),Vu(e,t,"formMethod",n.formMethod,n,null),Vu(e,t,"formTarget",n.formTarget,n,null)):(Vu(e,t,"encType",n.encType,n,null),Vu(e,t,"method",n.method,n,null),Vu(e,t,"target",n.target,n,null))),null==i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(r);break}i=kt(""+i),e.setAttribute(r,i);break;case"onClick":null!=i&&(e.onclick=Ku);break;case"onScroll":null!=i&&ku("scroll",e);break;case"onScrollEnd":null!=i&&ku("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(o(61));if(null!=(r=i.__html)){if(null!=n.children)throw Error(o(60));e.innerHTML=r}}break;case"multiple":e.multiple=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"muted":e.muted=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"===typeof i||"boolean"===typeof i||"symbol"===typeof i){e.removeAttribute("xlink:href");break}r=kt(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(r,""+i):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":!0===i?e.setAttribute(r,""):!1!==i&&null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(r,i):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&!isNaN(i)&&1<=i?e.setAttribute(r,i):e.removeAttribute(r);break;case"rowSpan":case"start":null==i||"function"===typeof i||"symbol"===typeof i||isNaN(i)?e.removeAttribute(r):e.setAttribute(r,i);break;case"popover":ku("beforetoggle",e),ku("toggle",e),ot(e,"popover",i);break;case"xlinkActuate":ct(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ct(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ct(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ct(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ct(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ct(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ct(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ct(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ct(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ot(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&ot(e,r=At.get(r)||r,i)}}function Hu(e,t,r,i,n,s){switch(r){case"style":It(e,i,s);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(o(61));if(null!=(r=i.__html)){if(null!=n.children)throw Error(o(60));e.innerHTML=r}}break;case"children":"string"===typeof i?Et(e,i):("number"===typeof i||"bigint"===typeof i)&&Et(e,""+i);break;case"onScroll":null!=i&&ku("scroll",e);break;case"onScrollEnd":null!=i&&ku("scrollend",e);break;case"onClick":null!=i&&(e.onclick=Ku);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Qe.hasOwnProperty(r)||("o"!==r[0]||"n"!==r[1]||(n=r.endsWith("Capture"),t=r.slice(2,n?r.length-7:void 0),"function"===typeof(s=null!=(s=e[qe]||null)?s[r]:null)&&e.removeEventListener(t,s,n),"function"!==typeof i)?r in e?e[r]=i:!0===i?e.setAttribute(r,""):ot(e,r,i):("function"!==typeof s&&null!==s&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,i,n)))}}function Wu(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ku("error",e),ku("load",e);var i,n=!1,s=!1;for(i in r)if(r.hasOwnProperty(i)){var a=r[i];if(null!=a)switch(i){case"src":n=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Vu(e,t,i,a,r,null)}}return s&&Vu(e,t,"srcSet",r.srcSet,r,null),void(n&&Vu(e,t,"src",r.src,r,null));case"input":ku("invalid",e);var c=i=a=s=null,l=null,u=null;for(n in r)if(r.hasOwnProperty(n)){var h=r[n];if(null!=h)switch(n){case"name":s=h;break;case"type":a=h;break;case"checked":l=h;break;case"defaultChecked":u=h;break;case"value":i=h;break;case"defaultValue":c=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(o(137,t));break;default:Vu(e,t,n,h,r,null)}}return mt(e,i,c,l,u,a,s,!1),void ht(e);case"select":for(s in ku("invalid",e),n=a=i=null,r)if(r.hasOwnProperty(s)&&null!=(c=r[s]))switch(s){case"value":i=c;break;case"defaultValue":a=c;break;case"multiple":n=c;default:Vu(e,t,s,c,r,null)}return t=i,r=a,e.multiple=!!n,void(null!=t?vt(e,!!n,t,!1):null!=r&&vt(e,!!n,r,!0));case"textarea":for(a in ku("invalid",e),i=s=n=null,r)if(r.hasOwnProperty(a)&&null!=(c=r[a]))switch(a){case"value":n=c;break;case"defaultValue":s=c;break;case"children":i=c;break;case"dangerouslySetInnerHTML":if(null!=c)throw Error(o(91));break;default:Vu(e,t,a,c,r,null)}return St(e,n,s,i),void ht(e);case"option":for(l in r)if(r.hasOwnProperty(l)&&null!=(n=r[l]))if("selected"===l)e.selected=n&&"function"!==typeof n&&"symbol"!==typeof n;else Vu(e,t,l,n,r,null);return;case"dialog":ku("cancel",e),ku("close",e);break;case"iframe":case"object":ku("load",e);break;case"video":case"audio":for(n=0;n<xu.length;n++)ku(xu[n],e);break;case"image":ku("error",e),ku("load",e);break;case"details":ku("toggle",e);break;case"embed":case"source":case"link":ku("error",e),ku("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in r)if(r.hasOwnProperty(u)&&null!=(n=r[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Vu(e,t,u,n,r,null)}return;default:if(xt(t)){for(h in r)r.hasOwnProperty(h)&&(void 0!==(n=r[h])&&Hu(e,t,h,n,r,void 0));return}}for(c in r)r.hasOwnProperty(c)&&(null!=(n=r[c])&&Vu(e,t,c,n,r,null))}var Gu=null,Ju=null;function Yu(e){return 9===e.nodeType?e:e.ownerDocument}function Zu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function $u(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Qu=null;var eh="function"===typeof setTimeout?setTimeout:void 0,th="function"===typeof clearTimeout?clearTimeout:void 0,rh="function"===typeof Promise?Promise:void 0,ih="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof rh?function(e){return rh.resolve(null).then(e).catch(nh)}:eh;function nh(e){setTimeout((function(){throw e}))}function sh(e,t){var r=t,i=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&8===n.nodeType)if("/$"===(r=n.data)){if(0===i)return e.removeChild(n),void gd(t);i--}else"$"!==r&&"$?"!==r&&"$!"!==r||i++;r=n}while(r);gd(t)}function oh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":oh(r),We(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===r.rel.toLowerCase())continue}e.removeChild(r)}}function ah(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function ch(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}function lh(e,t,r){switch(t=Yu(r),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}var uh=new Map,hh=new Set;function dh(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var fh=F.d;F.d={f:function(){var e=fh.f(),t=Dl();return e||t},r:function(e){var t=Je(e);null!==t&&5===t.tag&&"form"===t.type?fo(t):fh.r(e)},D:function(e){fh.D(e),gh("dns-prefetch",e,null)},C:function(e,t){fh.C(e,t),gh("preconnect",e,t)},L:function(e,t,r){fh.L(e,t,r);var i=ph;if(i&&e&&t){var n='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&r&&r.imageSrcSet?(n+='[imagesrcset="'+gt(r.imageSrcSet)+'"]',"string"===typeof r.imageSizes&&(n+='[imagesizes="'+gt(r.imageSizes)+'"]')):n+='[href="'+gt(e)+'"]';var s=n;switch(t){case"style":s=mh(e);break;case"script":s=wh(e)}uh.has(s)||(e=N({rel:"preload",href:"image"===t&&r&&r.imageSrcSet?void 0:e,as:t},r),uh.set(s,e),null!==i.querySelector(n)||"style"===t&&i.querySelector(yh(s))||"script"===t&&i.querySelector(Sh(s))||(Wu(t=i.createElement("link"),"link",e),Xe(t),i.head.appendChild(t)))}},m:function(e,t){fh.m(e,t);var r=ph;if(r&&e){var i=t&&"string"===typeof t.as?t.as:"script",n='link[rel="modulepreload"][as="'+gt(i)+'"][href="'+gt(e)+'"]',s=n;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=wh(e)}if(!uh.has(s)&&(e=N({rel:"modulepreload",href:e},t),uh.set(s,e),null===r.querySelector(n))){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Sh(s)))return}Wu(i=r.createElement("link"),"link",e),Xe(i),r.head.appendChild(i)}}},X:function(e,t){fh.X(e,t);var r=ph;if(r&&e){var i=Ze(r).hoistableScripts,n=wh(e),s=i.get(n);s||((s=r.querySelector(Sh(n)))||(e=N({src:e,async:!0},t),(t=uh.get(n))&&Ih(e,t),Xe(s=r.createElement("script")),Wu(s,"link",e),r.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(n,s))}},S:function(e,t,r){fh.S(e,t,r);var i=ph;if(i&&e){var n=Ze(i).hoistableStyles,s=mh(e);t=t||"default";var o=n.get(s);if(!o){var a={loading:0,preload:null};if(o=i.querySelector(yh(s)))a.loading=5;else{e=N({rel:"stylesheet",href:e,"data-precedence":t},r),(r=uh.get(s))&&Mh(e,r);var c=o=i.createElement("link");Xe(c),Wu(c,"link",e),c._p=new Promise((function(e,t){c.onload=e,c.onerror=t})),c.addEventListener("load",(function(){a.loading|=1})),c.addEventListener("error",(function(){a.loading|=2})),a.loading|=4,_h(o,t,i)}o={type:"stylesheet",instance:o,count:1,state:a},n.set(s,o)}}},M:function(e,t){fh.M(e,t);var r=ph;if(r&&e){var i=Ze(r).hoistableScripts,n=wh(e),s=i.get(n);s||((s=r.querySelector(Sh(n)))||(e=N({src:e,async:!0,type:"module"},t),(t=uh.get(n))&&Ih(e,t),Xe(s=r.createElement("script")),Wu(s,"link",e),r.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(n,s))}}};var ph="undefined"===typeof document?null:document;function gh(e,t,r){var i=ph;if(i&&"string"===typeof t&&t){var n=gt(t);n='link[rel="'+e+'"][href="'+n+'"]',"string"===typeof r&&(n+='[crossorigin="'+r+'"]'),hh.has(n)||(hh.add(n),e={rel:e,crossOrigin:r,href:t},null===i.querySelector(n)&&(Wu(t=i.createElement("link"),"link",e),Xe(t),i.head.appendChild(t)))}}function bh(e,t,r,i){var n,s,a,c,l=(l=X.current)?dh(l):null;if(!l)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof r.precedence&&"string"===typeof r.href?(t=mh(r.href),(i=(r=Ze(l).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},r.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===r.rel&&"string"===typeof r.href&&"string"===typeof r.precedence){e=mh(r.href);var u=Ze(l).hoistableStyles,h=u.get(e);if(h||(l=l.ownerDocument||l,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=l.querySelector(yh(e)))&&!u._p&&(h.instance=u,h.state.loading=5),uh.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},uh.set(e,r),u||(n=l,s=e,a=r,c=h.state,n.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=n.createElement("link"),c.preload=s,s.addEventListener("load",(function(){return c.loading|=1})),s.addEventListener("error",(function(){return c.loading|=2})),Wu(s,"link",a),Xe(s),n.head.appendChild(s))))),t&&null===i)throw Error(o(528,""));return h}if(t&&null!==i)throw Error(o(529,""));return null;case"script":return t=r.async,"string"===typeof(r=r.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=wh(r),(i=(r=Ze(l).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},r.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function mh(e){return'href="'+gt(e)+'"'}function yh(e){return'link[rel="stylesheet"]['+e+"]"}function vh(e){return N({},e,{"data-precedence":e.precedence,precedence:null})}function wh(e){return'[src="'+gt(e)+'"]'}function Sh(e){return"script[async]"+e}function Eh(e,t,r){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+gt(r.href)+'"]');if(i)return t.instance=i,Xe(i),i;var n=N({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return Xe(i=(e.ownerDocument||e).createElement("style")),Wu(i,"style",n),_h(i,r.precedence,e),t.instance=i;case"stylesheet":n=mh(r.href);var s=e.querySelector(yh(n));if(s)return t.state.loading|=4,t.instance=s,Xe(s),s;i=vh(r),(n=uh.get(n))&&Mh(i,n),Xe(s=(e.ownerDocument||e).createElement("link"));var a=s;return a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),Wu(s,"link",i),t.state.loading|=4,_h(s,r.precedence,e),t.instance=s;case"script":return s=wh(r.src),(n=e.querySelector(Sh(s)))?(t.instance=n,Xe(n),n):(i=r,(n=uh.get(s))&&Ih(i=N({},r),n),Xe(n=(e=e.ownerDocument||e).createElement("script")),Wu(n,"link",i),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,_h(i,r.precedence,e));return t.instance}function _h(e,t,r){for(var i=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=i.length?i[i.length-1]:null,s=n,o=0;o<i.length;o++){var a=i[o];if(a.dataset.precedence===t)s=a;else if(s!==n)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===r.nodeType?r.head:r).insertBefore(e,t.firstChild)}function Mh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ih(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var xh=null;function Ah(e,t,r){if(null===xh){var i=new Map,n=xh=new Map;n.set(r,i)}else(i=(n=xh).get(r))||(i=new Map,n.set(r,i));if(i.has(e))return i;for(i.set(e,null),r=r.getElementsByTagName(e),n=0;n<r.length;n++){var s=r[n];if(!(s[He]||s[De]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var o=s.getAttribute(t)||"";o=e+o;var a=i.get(o);a?a.push(s):i.set(o,[s])}}return i}function Ph(e,t,r){(e=e.ownerDocument||e).head.insertBefore(r,"title"===t?e.querySelector("head > title"):null)}function kh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Oh=null;function Nh(){}function Rh(){if(this.count--,0===this.count)if(this.stylesheets)Ch(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Th=null;function Ch(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Th=new Map,t.forEach(Lh,e),Th=null,Rh.call(e))}function Lh(e,t){if(!(4&t.state.loading)){var r=Th.get(e);if(r)var i=r.get(null);else{r=new Map,Th.set(e,r);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<n.length;s++){var o=n[s];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(r.set(o.dataset.precedence,o),i=o)}i&&r.set(null,i)}o=(n=t.instance).getAttribute("data-precedence"),(s=r.get(o)||i)===i&&r.set(null,n),r.set(o,n),this.count++,i=Rh.bind(this),n.addEventListener("load",i),n.addEventListener("error",i),s?s.parentNode.insertBefore(n,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(n,e.firstChild),t.state.loading|=4}}var zh={$$typeof:b,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function Uh(e,t,r,i,n,s,o,a){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=i,this.onUncaughtError=n,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function Dh(e,t,r,i,n,s,o,a,c,l,u,h){return e=new Uh(e,t,r,o,a,c,l,h),t=1,!0===s&&(t|=24),s=Lc(3,null,null,t),e.current=s,s.stateNode=e,(t=jn()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:r,cache:t},ka(s),e}function qh(e){return e?e=Ni:Ni}function jh(e,t,r,i,n,s){n=qh(n),null===i.context?i.context=n:i.pendingContext=n,(i=Na(t)).payload={element:r},null!==(s=void 0===s?null:s)&&(i.callback=s),null!==(r=Ra(e,i,t))&&(Rl(r,0,t),Ta(r,e,t))}function Bh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Fh(e,t){Bh(e,t),(e=e.alternate)&&Bh(e,t)}function Kh(e){if(13===e.tag){var t=Pi(e,67108864);null!==t&&Rl(t,0,67108864),Fh(e,67108864)}}var Vh=!0;function Hh(e,t,r,i){var n=O.T;O.T=null;var s=F.p;try{F.p=2,Gh(e,t,r,i)}finally{F.p=s,O.T=n}}function Wh(e,t,r,i){var n=O.T;O.T=null;var s=F.p;try{F.p=8,Gh(e,t,r,i)}finally{F.p=s,O.T=n}}function Gh(e,t,r,i){if(Vh){var n=Jh(i);if(null===n)Cu(e,t,i,Yh,r),od(e,i);else if(function(e,t,r,i,n){switch(t){case"focusin":return Qh=ad(Qh,e,t,r,i,n),!0;case"dragenter":return ed=ad(ed,e,t,r,i,n),!0;case"mouseover":return td=ad(td,e,t,r,i,n),!0;case"pointerover":var s=n.pointerId;return rd.set(s,ad(rd.get(s)||null,e,t,r,i,n)),!0;case"gotpointercapture":return s=n.pointerId,id.set(s,ad(id.get(s)||null,e,t,r,i,n)),!0}return!1}(n,e,t,r,i))i.stopPropagation();else if(od(e,i),4&t&&-1<sd.indexOf(e)){for(;null!==n;){var s=Je(n);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var o=Ie(s.pendingLanes);if(0!==o){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var c=1<<31-we(o);a.entanglements[1]|=c,o&=~c}gu(s),0===(6&el)&&(wl=ce()+500,bu(0,!1))}}break;case 13:null!==(a=Pi(s,2))&&Rl(a,0,2),Dl(),Fh(s,2)}if(null===(s=Jh(i))&&Cu(e,t,i,Yh,r),s===n)break;n=s}null!==n&&i.stopPropagation()}else Cu(e,t,i,null,r)}}function Jh(e){return Zh(e=Nt(e))}var Yh=null;function Zh(e){if(Yh=null,null!==(e=Ge(e))){var t=U(e);if(null===t)e=null;else{var r=t.tag;if(13===r){if(null!==(e=D(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Yh=e,null}function Xh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case ue:return 2;case he:return 8;case de:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var $h=!1,Qh=null,ed=null,td=null,rd=new Map,id=new Map,nd=[],sd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function od(e,t){switch(e){case"focusin":case"focusout":Qh=null;break;case"dragenter":case"dragleave":ed=null;break;case"mouseover":case"mouseout":td=null;break;case"pointerover":case"pointerout":rd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":id.delete(t.pointerId)}}function ad(e,t,r,i,n,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:s,targetContainers:[n]},null!==t&&(null!==(t=Je(t))&&Kh(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function cd(e){var t=Ge(e.target);if(null!==t){var r=U(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=D(r)))return e.blockedOn=t,void function(e,t){var r=F.p;try{return F.p=e,t()}finally{F.p=r}}(e.priority,(function(){if(13===r.tag){var e=Ol(),t=Pi(r,e);null!==t&&Rl(t,0,e),Fh(r,e)}}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function ld(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Jh(e.nativeEvent);if(null!==r)return null!==(t=Je(r))&&Kh(t),e.blockedOn=r,!1;var i=new(r=e.nativeEvent).constructor(r.type,r);Ot=i,r.target.dispatchEvent(i),Ot=null,t.shift()}return!0}function ud(e,t,r){ld(e)&&r.delete(t)}function hd(){$h=!1,null!==Qh&&ld(Qh)&&(Qh=null),null!==ed&&ld(ed)&&(ed=null),null!==td&&ld(td)&&(td=null),rd.forEach(ud),id.forEach(ud)}function dd(e,t){e.blockedOn===t&&(e.blockedOn=null,$h||($h=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,hd)))}var fd=null;function pd(e){fd!==e&&(fd=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,(function(){fd===e&&(fd=null);for(var t=0;t<e.length;t+=3){var r=e[t],i=e[t+1],n=e[t+2];if("function"!==typeof i){if(null===Zh(i||r))continue;break}var s=Je(r);null!==s&&(e.splice(t,3),t-=3,uo(s,{pending:!0,data:n,method:r.method,action:i},i,n))}})))}function gd(e){function t(t){return dd(t,e)}null!==Qh&&dd(Qh,e),null!==ed&&dd(ed,e),null!==td&&dd(td,e),rd.forEach(t),id.forEach(t);for(var r=0;r<nd.length;r++){var i=nd[r];i.blockedOn===e&&(i.blockedOn=null)}for(;0<nd.length&&null===(r=nd[0]).blockedOn;)cd(r),null===r.blockedOn&&nd.shift();if(null!=(r=(e.ownerDocument||e).$$reactFormReplay))for(i=0;i<r.length;i+=3){var n=r[i],s=r[i+1],o=n[qe]||null;if("function"===typeof s)o||pd(r);else if(o){var a=null;if(s&&s.hasAttribute("formAction")){if(n=s,o=s[qe]||null)a=o.formAction;else if(null!==Zh(n))continue}else a=o.action;"function"===typeof a?r[i+1]=a:(r.splice(i,3),i-=3),pd(r)}}}function bd(e){this._internalRoot=e}function md(e){this._internalRoot=e}md.prototype.render=bd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));jh(t.current,Ol(),e,t,null,null)},md.prototype.unmount=bd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&tu(),jh(e.current,2,null,e,null,null),Dl(),t[je]=null}},md.prototype.unstable_scheduleHydration=function(e){if(e){var t=ze();e={blockedOn:null,target:e,priority:t};for(var r=0;r<nd.length&&0!==t&&t<nd[r].priority;r++);nd.splice(r,0,e),0===r&&cd(e)}};var yd=n.version;if("19.0.0"!==yd)throw Error(o(527,yd,"19.0.0"));F.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=U(e)))throw Error(o(188));return t!==e?null:e}for(var r=e,i=t;;){var n=r.return;if(null===n)break;var s=n.alternate;if(null===s){if(null!==(i=n.return)){r=i;continue}break}if(n.child===s.child){for(s=n.child;s;){if(s===r)return q(n),e;if(s===i)return q(n),t;s=s.sibling}throw Error(o(188))}if(r.return!==i.return)r=n,i=s;else{for(var a=!1,c=n.child;c;){if(c===r){a=!0,r=n,i=s;break}if(c===i){a=!0,i=n,r=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===r){a=!0,r=s,i=n;break}if(c===i){a=!0,i=s,r=n;break}c=c.sibling}if(!a)throw Error(o(189))}}if(r.alternate!==i)throw Error(o(190))}if(3!==r.tag)throw Error(o(188));return r.stateNode.current===r?e:t}(t),e=null===(e=null!==e?j(e):null)?null:e.stateNode};var vd={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:O,findFiberByHostInstance:Ge,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wd.isDisabled&&wd.supportsFiber)try{me=wd.inject(vd),ye=wd}catch(Ed){}}t.createRoot=function(e,t){if(!a(e))throw Error(o(299));var r=!1,i="",n=Lo,s=zo,c=Uo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(n=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(c=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Dh(e,1,!1,null,0,r,i,n,s,c,0,null),e[je]=t.current,Ru(8===e.nodeType?e.parentNode:e),new bd(t)},t.hydrateRoot=function(e,t,r){if(!a(e))throw Error(o(299));var i=!1,n="",s=Lo,c=zo,l=Uo,u=null;return null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(i=!0),void 0!==r.identifierPrefix&&(n=r.identifierPrefix),void 0!==r.onUncaughtError&&(s=r.onUncaughtError),void 0!==r.onCaughtError&&(c=r.onCaughtError),void 0!==r.onRecoverableError&&(l=r.onRecoverableError),void 0!==r.unstable_transitionCallbacks&&r.unstable_transitionCallbacks,void 0!==r.formState&&(u=r.formState)),(t=Dh(e,1,!0,t,0,i,n,s,c,l,0,u)).context=qh(null),r=t.current,(n=Na(i=Ol())).callback=null,Ra(r,n,i),t.current.lanes=i,Re(t,i),gu(t),e[je]=t.current,Ru(e),new md(t)},t.version="19.0.0"},6672:(e,t,r)=>{"use strict";var i=r(5043);function n(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},a=Symbol.for("react.portal");var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(n(299));return function(e,t,r){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==i?null:""+i,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.flushSync=function(e){var t=c.T,r=o.p;try{if(c.T=null,o.p=2,e)return e()}finally{c.T=t,o.p=r,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var r=t.as,i=l(r,t.crossOrigin),n="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:n,fetchPriority:s}):"script"===r&&o.d.X(e,{crossOrigin:i,integrity:n,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=l(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var r=t.as,i=l(r,t.crossOrigin);o.d.L(e,r,{crossOrigin:i,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var r=l(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,r){return c.H.useFormState(e,t,r)},t.useFormStatus=function(){return c.H.useHostTransitionStatus()},t.version="19.0.0"},4391:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(7004)},7950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(6672)},2799:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element");function i(e,t,i){var n=null;if(void 0!==i&&(n=""+i),void 0!==t.key&&(n=""+t.key),"key"in t)for(var s in i={},t)"key"!==s&&(i[s]=t[s]);else i=t;return t=i.ref,{$$typeof:r,type:e,key:n,ref:void 0!==t?t:null,props:i}}Symbol.for("react.fragment"),t.jsx=i,t.jsxs=i},4288:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,b={};function m(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||p}function y(){}function v(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var w=v.prototype=new y;w.constructor=v,g(w,m.prototype),w.isPureReactComponent=!0;var S=Array.isArray,E={H:null,A:null,T:null,S:null},_=Object.prototype.hasOwnProperty;function M(e,t,i,n,s,o){return i=o.ref,{$$typeof:r,type:e,key:t,ref:void 0!==i?i:null,props:o}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var x=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(){}function k(e,t,n,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c,l,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case r:case i:u=!0;break;case d:return k((u=e._init)(e._payload),t,n,s,o)}}if(u)return o=o(e),u=""===s?"."+A(e,0):s,S(o)?(n="",null!=u&&(n=u.replace(x,"$&/")+"/"),k(o,t,n,"",(function(e){return e}))):null!=o&&(I(o)&&(c=o,l=n+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(x,"$&/")+"/")+u,o=M(c.type,l,void 0,0,0,c.props)),t.push(o)),1;u=0;var h,p=""===s?".":s+":";if(S(e))for(var g=0;g<e.length;g++)u+=k(s=e[g],t,n,a=p+A(s,g),o);else if("function"===typeof(g=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=f&&h[f]||h["@@iterator"])?h:null))for(e=g.call(e),g=0;!(s=e.next()).done;)u+=k(s=s.value,t,n,a=p+A(s,g++),o);else if("object"===a){if("function"===typeof e.then)return k(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(P,P):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,n,s,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function O(e,t,r){if(null==e)return e;var i=[],n=0;return k(e,i,"","",(function(e){return t.call(r,e,n++)})),i}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function T(){}t.Children={map:O,forEach:function(e,t,r){O(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=n,t.Profiler=o,t.PureComponent=v,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var i=g({},e.props),n=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(n=""+t.key),t)!_.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(i[s]=t[s]);var s=arguments.length-2;if(1===s)i.children=r;else if(1<s){for(var o=Array(s),a=0;a<s;a++)o[a]=arguments[a+2];i.children=o}return M(e.type,n,void 0,0,0,i)},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,r){var i,n={},s=null;if(null!=t)for(i in void 0!==t.key&&(s=""+t.key),t)_.call(t,i)&&"key"!==i&&"__self"!==i&&"__source"!==i&&(n[i]=t[i]);var o=arguments.length-2;if(1===o)n.children=r;else if(1<o){for(var a=Array(o),c=0;c<o;c++)a[c]=arguments[c+2];n.children=a}if(e&&e.defaultProps)for(i in o=e.defaultProps)void 0===n[i]&&(n[i]=o[i]);return M(e,s,void 0,0,0,n)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=E.T,r={};E.T=r;try{var i=e(),n=E.S;null!==n&&n(r,i),"object"===typeof i&&null!==i&&"function"===typeof i.then&&i.then(T,R)}catch(s){R(s)}finally{E.T=t}},t.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},t.use=function(e){return E.H.use(e)},t.useActionState=function(e,t,r){return E.H.useActionState(e,t,r)},t.useCallback=function(e,t){return E.H.useCallback(e,t)},t.useContext=function(e){return E.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return E.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return E.H.useEffect(e,t)},t.useId=function(){return E.H.useId()},t.useImperativeHandle=function(e,t,r){return E.H.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return E.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return E.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return E.H.useMemo(e,t)},t.useOptimistic=function(e,t){return E.H.useOptimistic(e,t)},t.useReducer=function(e,t,r){return E.H.useReducer(e,t,r)},t.useRef=function(e){return E.H.useRef(e)},t.useState=function(e){return E.H.useState(e)},t.useSyncExternalStore=function(e,t,r){return E.H.useSyncExternalStore(e,t,r)},t.useTransition=function(){return E.H.useTransition()},t.version="19.0.0"},5043:(e,t,r)=>{"use strict";e.exports=r(4288)},579:(e,t,r)=>{"use strict";e.exports=r(2799)},5896:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var i=r-1>>>1,n=e[i];if(!(0<s(n,t)))break e;e[i]=t,e[r]=n,r=i}}function i(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var i=0,n=e.length,o=n>>>1;i<o;){var a=2*(i+1)-1,c=e[a],l=a+1,u=e[l];if(0>s(c,r))l<n&&0>s(u,c)?(e[i]=u,e[l]=r,i=l):(e[i]=c,e[a]=r,i=a);else{if(!(l<n&&0>s(u,r)))break e;e[i]=u,e[l]=r,i=l}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var l=[],u=[],h=1,d=null,f=3,p=!1,g=!1,b=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=i(u);null!==t;){if(null===t.callback)n(u);else{if(!(t.startTime<=e))break;n(u),t.sortIndex=t.expirationTime,r(l,t)}t=i(u)}}function S(e){if(b=!1,w(e),!g)if(null!==i(l))g=!0,N();else{var t=i(u);null!==t&&R(S,t.startTime-e)}}var E,_=!1,M=-1,I=5,x=-1;function A(){return!(t.unstable_now()-x<I)}function P(){if(_){var e=t.unstable_now();x=e;var r=!0;try{e:{g=!1,b&&(b=!1,y(M),M=-1),p=!0;var s=f;try{t:{for(w(e),d=i(l);null!==d&&!(d.expirationTime>e&&A());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){d.callback=a,w(e),r=!0;break t}d===i(l)&&n(l),w(e)}else n(l);d=i(l)}if(null!==d)r=!0;else{var c=i(u);null!==c&&R(S,c.startTime-e),r=!1}}break e}finally{d=null,f=s,p=!1}r=void 0}}finally{r?E():_=!1}}}if("function"===typeof v)E=function(){v(P)};else if("undefined"!==typeof MessageChannel){var k=new MessageChannel,O=k.port2;k.port1.onmessage=P,E=function(){O.postMessage(null)}}else E=function(){m(P,0)};function N(){_||(_=!0,E())}function R(e,r){M=m((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,N())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return i(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,n,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:n,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,r(u,e),null===i(l)&&e===i(u)&&(b?(y(M),M=-1):b=!0,R(S,s-o))):(e.sortIndex=a,r(l,e),g||p||(g=!0,N())),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},8853:(e,t,r)=>{"use strict";e.exports=r(5896)},1289:e=>{"use strict";e.exports=(e,t)=>{if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},7491:e=>{"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>"%".concat(e.charCodeAt(0).toString(16).toUpperCase())))},1009:(e,t,r)=>{"use strict";function i(e,t){return t=t||{},new Promise((function(r,i){var n=new XMLHttpRequest,s=[],o=[],a={},c=function(){return{ok:2==(n.status/100|0),statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(n.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:c,headers:{keys:function(){return s},entries:function(){return o},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase()in a}}}};for(var l in n.open(t.method||"get",e,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,r){s.push(t=t.toLowerCase()),o.push([t,r]),a[t]=a[t]?a[t]+","+r:r})),r(c())},n.onerror=i,n.withCredentials="include"==t.credentials,t.headers)n.setRequestHeader(l,t.headers[l]);n.send(t.body||null)}))}r.r(t),r.d(t,{default:()=>i})},1198:e=>{"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},9432:()=>{},2065:()=>{},6448:()=>{},7790:()=>{},3776:()=>{},9368:()=>{},5711:(e,t,r)=>{"use strict";const i=r(5984);e.exports=o;const n=function(){function e(e){return"undefined"!==typeof e&&e}try{return"undefined"!==typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{},s={mapHttpRequest:d,mapHttpResponse:d,wrapRequestSerializer:f,wrapResponseSerializer:f,wrapErrorSerializer:f,req:d,res:d,err:function(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const r in e)void 0===t[r]&&(t[r]=e[r]);return t}};function o(e){(e=e||{}).browser=e.browser||{};const t=e.browser.transmit;if(t&&"function"!==typeof t.send)throw Error("pino: transmit option must have a send function");const r=e.browser.write||n;e.browser.write&&(e.browser.asObject=!0);const i=e.serializers||{},s=function(e,t){if(Array.isArray(e))return e.filter((function(e){return"!stdSerializers.err"!==e}));return!0===e&&Object.keys(t)}(e.browser.serialize,i);let d=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(d=!1);"function"===typeof r&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),!1===e.enabled&&(e.level="silent");const f=e.level||"info",g=Object.create(r);g.log||(g.log=p),Object.defineProperty(g,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(g,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,a(b,g,"error","log"),a(b,g,"fatal","error"),a(b,g,"warn","error"),a(b,g,"info","log"),a(b,g,"debug","log"),a(b,g,"trace","log")}});const b={transmit:t,serialize:s,asObject:e.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:h(e)};return g.levels=o.levels,g.level=f,g.setMaxListeners=g.getMaxListeners=g.emit=g.addListener=g.on=g.prependListener=g.once=g.prependOnceListener=g.removeListener=g.removeAllListeners=g.listeners=g.listenerCount=g.eventNames=g.write=g.flush=p,g.serializers=i,g._serialize=s,g._stdErrSerialize=d,g.child=function(r,n){if(!r)throw new Error("missing bindings for child Pino");n=n||{},s&&r.serializers&&(n.serializers=r.serializers);const o=n.serializers;if(s&&o){var a=Object.assign({},i,o),h=!0===e.browser.serialize?Object.keys(a):s;delete r.serializers,c([r],h,a,this._stdErrSerialize)}function d(e){this._childLevel=1+(0|e._childLevel),this.error=l(e,r,"error"),this.fatal=l(e,r,"fatal"),this.warn=l(e,r,"warn"),this.info=l(e,r,"info"),this.debug=l(e,r,"debug"),this.trace=l(e,r,"trace"),a&&(this.serializers=a,this._serialize=h),t&&(this._logEvent=u([].concat(e._logEvent.bindings,r)))}return d.prototype=this,new d(this)},t&&(g._logEvent=u()),g}function a(e,t,r,s){const a=Object.getPrototypeOf(t);t[r]=t.levelVal>t.levels.values[r]?p:a[r]?a[r]:n[r]||n[s]||p,function(e,t,r){if(!e.transmit&&t[r]===p)return;t[r]=(s=t[r],function(){const a=e.timestamp(),l=new Array(arguments.length),h=Object.getPrototypeOf&&Object.getPrototypeOf(this)===n?n:this;for(var d=0;d<l.length;d++)l[d]=arguments[d];if(e.serialize&&!e.asObject&&c(l,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?s.call(h,function(e,t,r,n){e._serialize&&c(r,e._serialize,e.serializers,e._stdErrSerialize);const s=r.slice();let a=s[0];const l={};n&&(l.time=n),l.level=o.levels.values[t];let u=1+(0|e._childLevel);if(u<1&&(u=1),null!==a&&"object"===typeof a){for(;u--&&"object"===typeof s[0];)Object.assign(l,s.shift());a=s.length?i(s.shift(),s):void 0}else"string"===typeof a&&(a=i(s.shift(),s));return void 0!==a&&(l.msg=a),l}(this,r,l,a)):s.apply(h,l),e.transmit){const i=e.transmit.level||t.level,n=o.levels.values[i],s=o.levels.values[r];if(s<n)return;!function(e,t,r){const i=t.send,n=t.ts,s=t.methodLevel,o=t.methodValue,a=t.val,l=e._logEvent.bindings;c(r,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=n,e._logEvent.messages=r.filter((function(e){return-1===l.indexOf(e)})),e._logEvent.level.label=s,e._logEvent.level.value=o,i(s,e._logEvent,a),e._logEvent=u(l)}(this,{ts:a,methodLevel:r,methodValue:s,transmitLevel:i,transmitValue:o.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},l)}});var s}(e,t,r)}function c(e,t,r,i){for(const n in e)if(i&&e[n]instanceof Error)e[n]=o.stdSerializers.err(e[n]);else if("object"===typeof e[n]&&!Array.isArray(e[n]))for(const i in e[n])t&&t.indexOf(i)>-1&&i in r&&(e[n][i]=r[i](e[n][i]))}function l(e,t,r){return function(){const i=new Array(1+arguments.length);i[0]=t;for(var n=1;n<i.length;n++)i[n]=arguments[n-1];return e[r].apply(this,i)}}function u(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function h(e){return"function"===typeof e.timestamp?e.timestamp:!1===e.timestamp?g:b}function d(){return{}}function f(e){return e}function p(){}function g(){return!1}function b(){return Date.now()}o.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},o.stdSerializers=s,o.stdTimeFunctions=Object.assign({},{nullTime:g,epochTime:b,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})},1633:e=>{"use strict";e.exports={rE:"6.5.7"}},4242:e=>{"use strict";e.exports={rE:"6.5.7"}},1636:e=>{"use strict";e.exports={rE:"6.6.1"}}},t={};function r(i){var n=t[i];if(void 0!==n)return n.exports;var s=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}r.m=e,r.amdO={},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,i)=>(r.f[i](e,t),t)),[])),r.u=e=>"static/js/"+e+".68521f19.chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="my-react-app:";r.l=(i,n,s,o)=>{if(e[i])e[i].push(n);else{var a,c;if(void 0!==s)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var h=l[u];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack",t+s),a.src=i),e[i]=[n];var d=(t,r)=>{a.onerror=a.onload=null,clearTimeout(f);var n=e[i];if(delete e[i],a.parentNode&&a.parentNode.removeChild(a),n&&n.forEach((e=>e(r))),t)return t(r)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),c&&document.head.appendChild(a)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/feri/",(()=>{var e={792:0};r.f.j=(t,i)=>{var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)i.push(n[2]);else{var s=new Promise(((r,i)=>n=e[t]=[r,i]));i.push(n[2]=s);var o=r.p+r.u(t),a=new Error;r.l(o,(i=>{if(r.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var s=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,n[1](a)}}),"chunk-"+t,t)}};var t=(t,i)=>{var n,s,o=i[0],a=i[1],c=i[2],l=0;if(o.some((t=>0!==e[t]))){for(n in a)r.o(a,n)&&(r.m[n]=a[n]);if(c)c(r)}for(t&&t(i);l<o.length;l++)s=o[l],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0},i=self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{"use strict";var e={};r.r(e),r.d(e,{OG:()=>ce,My:()=>Q,Ph:()=>re,lX:()=>ie,Id:()=>ae,fg:()=>he,qj:()=>oe,aT:()=>te,lq:()=>ne,z:()=>se,Q5:()=>fe});var t={};r.r(t),r.d(t,{identity:()=>qd});var i={};r.r(i),r.d(i,{base2:()=>jd});var n={};r.r(n),r.d(n,{base8:()=>Bd});var s={};r.r(s),r.d(s,{base10:()=>Fd});var o={};r.r(o),r.d(o,{base16:()=>Kd,base16upper:()=>Vd});var a={};r.r(a),r.d(a,{base32:()=>Hd,base32hex:()=>Yd,base32hexpad:()=>Xd,base32hexpadupper:()=>$d,base32hexupper:()=>Zd,base32pad:()=>Gd,base32padupper:()=>Jd,base32upper:()=>Wd,base32z:()=>Qd});var c={};r.r(c),r.d(c,{base36:()=>ef,base36upper:()=>tf});var l={};r.r(l),r.d(l,{base58btc:()=>rf,base58flickr:()=>nf});var u={};r.r(u),r.d(u,{base64:()=>sf,base64pad:()=>of,base64url:()=>af,base64urlpad:()=>cf});var h={};r.r(h),r.d(h,{base256emoji:()=>df});var d={};r.r(d),r.d(d,{sha256:()=>Uf,sha512:()=>Df});var f={};r.r(f),r.d(f,{identity:()=>jf});var p={};r.r(p),r.d(p,{code:()=>Ff,decode:()=>Vf,encode:()=>Kf,name:()=>Bf});var g={};r.r(g),r.d(g,{code:()=>Jf,decode:()=>Zf,encode:()=>Yf,name:()=>Gf});var b=r(5043),m=r(4391);function y(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function v(e,t,r){y(e,t),t.set(e,r)}function w(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}function S(e,t){return e.get(w(e,t))}function E(e,t,r){return e.set(w(e,t),r),r}function _(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function M(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(r.length>0&&!r.includes(e.length))throw new Error("Expected Uint8Array of length ".concat(r,", not of length=").concat(e.length))}function I(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");_(e.outputLen),_(e.blockLen)}function x(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function A(e,t){M(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least ".concat(r))}const P="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,k=e=>e instanceof Uint8Array,O=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),N=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),R=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");const T=async()=>{};async function C(e,t,r){let i=Date.now();for(let n=0;n<e;n++){r(n);const e=Date.now()-i;e>=0&&e<t||(await T(),i+=e)}}function L(e){if("string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array((new TextEncoder).encode(e))}(e)),!k(e))throw new Error("expected Uint8Array, got ".concat(typeof e));return e}class z{clone(){return this._cloneInto()}}const U={}.toString;function D(e,t){if(void 0!==t&&"[object Object]"!==U.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)}function q(e){const t=t=>e().update(L(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function j(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(P&&"function"===typeof P.getRandomValues)return P.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class B extends z{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=N(this.buffer)}update(e){x(this);const{view:t,buffer:r,blockLen:i}=this,n=(e=L(e)).length;for(let s=0;s<n;){const o=Math.min(i-this.pos,n-s);if(o!==i)r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(t,0),this.pos=0);else{const t=N(e);for(;i<=n-s;s+=i)this.process(t,s)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){x(this),A(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:n}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let u=s;u<i;u++)t[u]=0;!function(e,t,r,i){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,r,i);const n=BigInt(32),s=BigInt(4294967295),o=Number(r>>n&s),a=Number(r&s),c=i?4:0,l=i?0:4;e.setUint32(t+c,o,i),e.setUint32(t+l,a,i)}(r,i-8,BigInt(8*this.length),n),this.process(r,0);const o=N(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)o.setUint32(4*u,l[u],n)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:n,destroyed:s,pos:o}=this;return e.length=i,e.pos=o,e.finished=n,e.destroyed=s,i%t&&e.buffer.set(r),e}}const F=(e,t,r)=>e&t^~e&r,K=(e,t,r)=>e&t^e&r^t&r,V=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),H=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),W=new Uint32Array(64);class G extends B{constructor(){super(64,32,8,!1),this.A=0|H[0],this.B=0|H[1],this.C=0|H[2],this.D=0|H[3],this.E=0|H[4],this.F=0|H[5],this.G=0|H[6],this.H=0|H[7]}get(){const{A:e,B:t,C:r,D:i,E:n,F:s,G:o,H:a}=this;return[e,t,r,i,n,s,o,a]}set(e,t,r,i,n,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|i,this.E=0|n,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let u=0;u<16;u++,t+=4)W[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=W[u-15],t=W[u-2],r=R(e,7)^R(e,18)^e>>>3,i=R(t,17)^R(t,19)^t>>>10;W[u]=i+W[u-7]+r+W[u-16]|0}let{A:r,B:i,C:n,D:s,E:o,F:a,G:c,H:l}=this;for(let u=0;u<64;u++){const e=l+(R(o,6)^R(o,11)^R(o,25))+F(o,a,c)+V[u]+W[u]|0,t=(R(r,2)^R(r,13)^R(r,22))+K(r,i,n)|0;l=c,c=a,a=o,o=s+e|0,s=n,n=i,i=r,r=e+t|0}r=r+this.A|0,i=i+this.B|0,n=n+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(r,i,n,s,o,a,c,l)}roundClean(){W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const J=q((()=>new G)),Y=(BigInt(0),BigInt(1)),Z=BigInt(2),X=e=>e instanceof Uint8Array,$=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Q(e){if(!X(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=$[e[r]];return t}function ee(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":"0x".concat(e))}function te(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let i=0;i<r.length;i++){const t=2*i,n=e.slice(t,t+2),s=Number.parseInt(n,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[i]=s}return r}function re(e){return ee(Q(e))}function ie(e){if(!X(e))throw new Error("Uint8Array expected");return ee(Q(Uint8Array.from(e).reverse()))}function ne(e,t){return te(e.toString(16).padStart(2*t,"0"))}function se(e,t){return ne(e,t).reverse()}function oe(e,t,r){let i;if("string"===typeof t)try{i=te(t)}catch(s){throw new Error("".concat(e,' must be valid hex string, got "').concat(t,'". Cause: ').concat(s))}else{if(!X(t))throw new Error("".concat(e," must be hex string or Uint8Array"));i=Uint8Array.from(t)}const n=i.length;if("number"===typeof r&&n!==r)throw new Error("".concat(e," expected ").concat(r," bytes, got ").concat(n));return i}function ae(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const i=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let n=0;return t.forEach((e=>{if(!X(e))throw new Error("Uint8Array expected");i.set(e,n),n+=e.length})),i}const ce=e=>(Z<<BigInt(e-1))-Y,le=e=>new Uint8Array(e),ue=e=>Uint8Array.from(e);function he(e,t,r){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof r)throw new Error("hmacFn must be a function");let i=le(e),n=le(e),s=0;const o=()=>{i.fill(1),n.fill(0),s=0},a=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r(n,i,...t)},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le();n=a(ue([0]),e),i=a(),0!==e.length&&(n=a(ue([1]),e),i=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){i=a();const t=i.slice();r.push(t),e+=i.length}return ae(...r)};return(e,t)=>{let r;for(o(),c(e);!(r=t(l()));)c();return o(),r}}const de={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function fe(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=(t,r,i)=>{const n=de[r];if("function"!==typeof n)throw new Error('Invalid validator "'.concat(r,'", expected function'));const s=e[t];if((!i||void 0!==s)&&!n(s,e))throw new Error("Invalid param ".concat(String(t),"=").concat(s," (").concat(typeof s,"), expected ").concat(r))};for(const[n,s]of Object.entries(t))i(n,s,!1);for(const[n,s]of Object.entries(r))i(n,s,!0);return e}const pe=BigInt(0),ge=BigInt(1),be=BigInt(2),me=BigInt(3),ye=BigInt(4),ve=BigInt(5),we=BigInt(8);BigInt(9),BigInt(16);function Se(e,t){const r=e%t;return r>=pe?r:t+r}function Ee(e,t,r){if(r<=pe||t<pe)throw new Error("Expected power/modulo > 0");if(r===ge)return pe;let i=ge;for(;t>pe;)t&ge&&(i=i*e%r),e=e*e%r,t>>=ge;return i}function _e(e,t,r){let i=e;for(;t-- >pe;)i*=i,i%=r;return i}function Me(e,t){if(e===pe||t<=pe)throw new Error("invert: expected positive integers, got n=".concat(e," mod=").concat(t));let r=Se(e,t),i=t,n=pe,s=ge,o=ge,a=pe;for(;r!==pe;){const e=i/r,t=i%r,c=n-o*e,l=s-a*e;i=r,r=t,n=o,s=a,o=c,a=l}if(i!==ge)throw new Error("invert: does not exist");return Se(n,t)}function Ie(e){if(e%ye===me){const t=(e+ge)/ye;return function(e,r){const i=e.pow(r,t);if(!e.eql(e.sqr(i),r))throw new Error("Cannot find square root");return i}}if(e%we===ve){const t=(e-ve)/we;return function(e,r){const i=e.mul(r,be),n=e.pow(i,t),s=e.mul(r,n),o=e.mul(e.mul(s,be),n),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),r))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-ge)/be;let r,i,n;for(r=e-ge,i=0;r%be===pe;r/=be,i++);for(n=be;n<e&&Ee(n,t,e)!==e-ge;n++);if(1===i){const t=(e+ge)/ye;return function(e,r){const i=e.pow(r,t);if(!e.eql(e.sqr(i),r))throw new Error("Cannot find square root");return i}}const s=(r+ge)/be;return function(e,o){if(e.pow(o,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=i,c=e.pow(e.mul(e.ONE,n),r),l=e.pow(o,s),u=e.pow(o,r);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let i=e.sqr(u);t<a&&!e.eql(i,e.ONE);t++)i=e.sqr(i);const r=e.pow(c,ge<<BigInt(a-t-1));c=e.sqr(r),l=e.mul(l,r),u=e.mul(u,c),a=t}return l}}(e)}const xe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ae(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function Pe(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function ke(e){const t=Pe(e);return t+Math.ceil(t/2)}function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function Ne(e){var t=function(e,t){if("object"!=Oe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=Oe(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Oe(t)?t:t+""}function Re(e,t,r){return(t=Ne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(r),!0).forEach((function(t){Re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class Le extends z{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,I(e);const r=L(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,n=new Uint8Array(i);n.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<n.length;s++)n[s]^=54;this.iHash.update(n),this.oHash=e.create();for(let s=0;s<n.length;s++)n[s]^=106;this.oHash.update(n),n.fill(0)}update(e){return x(this),this.iHash.update(e),this}digestInto(e){x(this),M(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:i,destroyed:n,blockLen:s,outputLen:o}=this;return e.finished=i,e.destroyed=n,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ze=(e,t,r)=>new Le(e,t).update(r).digest();ze.create=(e,t)=>new Le(e,t);const Ue=BigInt(0),De=BigInt(1);function qe(e){return fe(e.Fp,xe.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),fe(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(Ce(Ce(Ce({},Ae(e.n,e.nBitLength)),e),{p:e.Fp.ORDER}))}const{Ph:je,aT:Be}=e,Fe={Err:class extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},_parseInt(e){const{Err:t}=Fe;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const r=e[1],i=e.subarray(2,r+2);if(!r||i.length!==r)throw new t("Invalid signature integer: wrong length");if(128&i[0])throw new t("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:je(i),l:e.subarray(r+2)}},toSig(e){const{Err:t}=Fe,r="string"===typeof e?Be(e):e;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let i=r.length;if(i<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==i-2)throw new t("Invalid signature: incorrect length");const{d:n,l:s}=Fe._parseInt(r.subarray(2)),{d:o,l:a}=Fe._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:n,s:o}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?"0".concat(t):t},i=t(r(e.s)),n=t(r(e.r)),s=i.length/2,o=n.length/2,a=r(s),c=r(o);return"30".concat(r(o+s+4),"02").concat(c).concat(n,"02").concat(a).concat(i)}},Ke=BigInt(0),Ve=BigInt(1),He=(BigInt(2),BigInt(3));BigInt(4);function We(e){const t=function(e){const t=qe(e);fe(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:i,a:n}=t;if(r){if(!i.eql(n,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof r||"bigint"!==typeof r.beta||"function"!==typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze(Ce({},t))}(e),{Fp:r}=t,i=t.toBytes||((e,t,i)=>{const n=t.toAffine();return ae(Uint8Array.from([4]),r.toBytes(n.x),r.toBytes(n.y))}),n=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function s(e){const{a:i,b:n}=t,s=r.sqr(e),o=r.mul(s,e);return r.add(r.add(o,r.mul(e,i)),n)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function o(e){return"bigint"===typeof e&&Ke<e&&e<t.n}function a(e){if(!o(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:r,nByteLength:i,wrapPrivateKey:n,n:s}=t;if(r&&"bigint"!==typeof e){if(e instanceof Uint8Array&&(e=Q(e)),"string"!==typeof e||!r.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*i,"0")}let o;try{o="bigint"===typeof e?e:re(oe("private key",e,i))}catch(c){throw new Error("private key must be ".concat(i," bytes, hex or bigint, not ").concat(typeof e))}return n&&(o=Se(o,s)),a(o),o}const l=new Map;function u(e){if(!(e instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(e,t,i){if(this.px=e,this.py=t,this.pz=i,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==i||!r.isValid(i))throw new Error("z required")}static fromAffine(e){const{x:t,y:i}=e||{};if(!e||!r.isValid(t)||!r.isValid(i))throw new Error("invalid affine point");if(e instanceof h)throw new Error("projective point not allowed");const n=e=>r.eql(e,r.ZERO);return n(t)&&n(i)?h.ZERO:new h(t,i,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(h.fromAffine)}static fromHex(e){const t=h.fromAffine(n(oe("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return h.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:i}=this.toAffine();if(!r.isValid(e)||!r.isValid(i))throw new Error("bad point: x or y not FE");const n=r.sqr(i),o=s(e);if(!r.eql(n,o))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){u(e);const{px:t,py:i,pz:n}=this,{px:s,py:o,pz:a}=e,c=r.eql(r.mul(t,a),r.mul(s,n)),l=r.eql(r.mul(i,a),r.mul(o,n));return c&&l}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:i}=t,n=r.mul(i,He),{px:s,py:o,pz:a}=this;let c=r.ZERO,l=r.ZERO,u=r.ZERO,d=r.mul(s,s),f=r.mul(o,o),p=r.mul(a,a),g=r.mul(s,o);return g=r.add(g,g),u=r.mul(s,a),u=r.add(u,u),c=r.mul(e,u),l=r.mul(n,p),l=r.add(c,l),c=r.sub(f,l),l=r.add(f,l),l=r.mul(c,l),c=r.mul(g,c),u=r.mul(n,u),p=r.mul(e,p),g=r.sub(d,p),g=r.mul(e,g),g=r.add(g,u),u=r.add(d,d),d=r.add(u,d),d=r.add(d,p),d=r.mul(d,g),l=r.add(l,d),p=r.mul(o,a),p=r.add(p,p),d=r.mul(p,g),c=r.sub(c,d),u=r.mul(p,f),u=r.add(u,u),u=r.add(u,u),new h(c,l,u)}add(e){u(e);const{px:i,py:n,pz:s}=this,{px:o,py:a,pz:c}=e;let l=r.ZERO,d=r.ZERO,f=r.ZERO;const p=t.a,g=r.mul(t.b,He);let b=r.mul(i,o),m=r.mul(n,a),y=r.mul(s,c),v=r.add(i,n),w=r.add(o,a);v=r.mul(v,w),w=r.add(b,m),v=r.sub(v,w),w=r.add(i,s);let S=r.add(o,c);return w=r.mul(w,S),S=r.add(b,y),w=r.sub(w,S),S=r.add(n,s),l=r.add(a,c),S=r.mul(S,l),l=r.add(m,y),S=r.sub(S,l),f=r.mul(p,w),l=r.mul(g,y),f=r.add(l,f),l=r.sub(m,f),f=r.add(m,f),d=r.mul(l,f),m=r.add(b,b),m=r.add(m,b),y=r.mul(p,y),w=r.mul(g,w),m=r.add(m,y),y=r.sub(b,y),y=r.mul(p,y),w=r.add(w,y),b=r.mul(m,w),d=r.add(d,b),b=r.mul(S,w),l=r.mul(v,l),l=r.sub(l,b),b=r.mul(v,m),f=r.mul(S,f),f=r.add(f,b),new h(l,d,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return f.wNAFCached(this,l,e,(e=>{const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(h.fromAffine)}))}multiplyUnsafe(e){const i=h.ZERO;if(e===Ke)return i;if(a(e),e===Ve)return this;const{endo:n}=t;if(!n)return f.unsafeLadder(this,e);let{k1neg:s,k1:o,k2neg:c,k2:l}=n.splitScalar(e),u=i,d=i,p=this;for(;o>Ke||l>Ke;)o&Ve&&(u=u.add(p)),l&Ve&&(d=d.add(p)),p=p.double(),o>>=Ve,l>>=Ve;return s&&(u=u.negate()),c&&(d=d.negate()),d=new h(r.mul(d.px,n.beta),d.py,d.pz),u.add(d)}multiply(e){a(e);let i,n,s=e;const{endo:o}=t;if(o){const{k1neg:e,k1:t,k2neg:a,k2:c}=o.splitScalar(s);let{p:l,f:u}=this.wNAF(t),{p:d,f:p}=this.wNAF(c);l=f.constTimeNegate(e,l),d=f.constTimeNegate(a,d),d=new h(r.mul(d.px,o.beta),d.py,d.pz),i=l.add(d),n=u.add(p)}else{const{p:e,f:t}=this.wNAF(s);i=e,n=t}return h.normalizeZ([i,n])[0]}multiplyAndAddUnsafe(e,t,r){const i=h.BASE,n=(e,t)=>t!==Ke&&t!==Ve&&e.equals(i)?e.multiply(t):e.multiplyUnsafe(t),s=n(this,t).add(n(e,r));return s.is0()?void 0:s}toAffine(e){const{px:t,py:i,pz:n}=this,s=this.is0();null==e&&(e=s?r.ONE:r.inv(n));const o=r.mul(t,e),a=r.mul(i,e),c=r.mul(n,e);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error("invZ was invalid");return{x:o,y:a}}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===Ve)return!0;if(r)return r(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===Ve?this:r?r(h,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertValidity(),i(h,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Q(this.toRawBytes(e))}}h.BASE=new h(t.Gx,t.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);const d=t.nBitLength,f=function(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},i=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let i=e.ZERO,n=t;for(;r>Ue;)r&De&&(i=i.add(n)),n=n.double(),r>>=De;return i},precomputeWindow(e,t){const{windows:r,windowSize:n}=i(t),s=[];let o=e,a=o;for(let i=0;i<r;i++){a=o,s.push(a);for(let e=1;e<n;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(t,n,s){const{windows:o,windowSize:a}=i(t);let c=e.ZERO,l=e.BASE;const u=BigInt(2**t-1),h=2**t,d=BigInt(t);for(let e=0;e<o;e++){const t=e*a;let i=Number(s&u);s>>=d,i>a&&(i-=h,s+=De);const o=t,f=t+Math.abs(i)-1,p=e%2!==0,g=i<0;0===i?l=l.add(r(p,n[o])):c=c.add(r(g,n[f]))}return{p:c,f:l}},wNAFCached(e,t,r,i){const n=e._WINDOW_SIZE||1;let s=t.get(e);return s||(s=this.precomputeWindow(e,n),1!==n&&t.set(e,i(s))),this.wNAF(n,s,r)}}}(h,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}function Ge(e){const t=function(e){const t=qe(e);return fe(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(Ce({lowS:!0},t))}(e),{Fp:r,n:i}=t,n=r.BYTES+1,s=2*r.BYTES+1;function o(e){return Se(e,i)}function a(e){return Me(e,i)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:h}=We(Ce(Ce({},t),{},{toBytes(e,t,i){const n=t.toAffine(),s=r.toBytes(n.x),o=ae;return i?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,r.toBytes(n.y))},fromBytes(e){const t=e.length,i=e[0],o=e.subarray(1);if(t!==n||2!==i&&3!==i){if(t===s&&4===i){return{x:r.fromBytes(o.subarray(0,r.BYTES)),y:r.fromBytes(o.subarray(r.BYTES,2*r.BYTES))}}throw new Error("Point of length ".concat(t," was invalid. Expected ").concat(n," compressed bytes or ").concat(s," uncompressed bytes"))}{const e=re(o);if(!(Ke<(a=e)&&a<r.ORDER))throw new Error("Point is not on curve");const t=u(e);let n=r.sqrt(t);return 1===(1&i)!==((n&Ve)===Ve)&&(n=r.neg(n)),{x:e,y:n}}var a}})),d=e=>Q(ne(e,t.nByteLength));function f(e){return e>i>>Ve}const p=(e,t,r)=>re(e.slice(t,r));class g{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const r=t.nByteLength;return e=oe("compactSignature",e,2*r),new g(p(e,0,r),p(e,r,2*r))}static fromDER(e){const{r:t,s:r}=Fe.toSig(oe("DER",e));return new g(t,r)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new g(this.r,this.s,e)}recoverPublicKey(e){const{r:i,s:n,recovery:s}=this,l=v(oe("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const u=2===s||3===s?i+t.n:i;if(u>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const h=0===(1&s)?"02":"03",f=c.fromHex(h+d(u)),p=a(u),g=o(-l*p),b=o(n*p),m=c.BASE.multiplyAndAddUnsafe(f,g,b);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return te(this.toDERHex())}toDERHex(){return Fe.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return te(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const b={isValidPrivateKey(e){try{return l(e),!0}catch(t){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const e=ke(t.n);return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=e.length,n=Pe(t),s=ke(t);if(i<16||i<s||i>1024)throw new Error("expected ".concat(s,"-1024 bytes of input, got ").concat(i));const o=Se(r?re(e):ie(e),t-ge)+ge;return r?se(o,n):ne(o,n)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function m(e){const t=e instanceof Uint8Array,r="string"===typeof e,i=(t||r)&&e.length;return t?i===n||i===s:r?i===2*n||i===2*s:e instanceof c}const y=t.bits2int||function(e){const r=re(e),i=8*e.length-t.nBitLength;return i>0?r>>BigInt(i):r},v=t.bits2int_modN||function(e){return o(y(e))},w=ce(t.nBitLength);function S(e){if("bigint"!==typeof e)throw new Error("bigint expected");if(!(Ke<=e&&e<w))throw new Error("bigint expected < 2^".concat(t.nBitLength));return ne(e,t.nByteLength)}function E(e,i){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;if(["recovered","canonical"].some((e=>e in n)))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:u}=t;let{lowS:d,prehash:p,extraEntropy:b}=n;null==d&&(d=!0),e=oe("msgHash",e),p&&(e=oe("prehashed msgHash",s(e)));const m=v(e),w=l(i),E=[S(w),S(m)];if(null!=b){const e=!0===b?u(r.BYTES):b;E.push(oe("extraEntropy",e))}const M=ae(...E),I=m;return{seed:M,k2sig:function(e){const t=y(e);if(!h(t))return;const r=a(t),i=c.BASE.multiply(t).toAffine(),n=o(i.x);if(n===Ke)return;const s=o(r*o(I+n*w));if(s===Ke)return;let l=(i.x===n?0:2)|Number(i.y&Ve),u=s;return d&&f(s)&&(u=function(e){return f(e)?o(-e):e}(s),l^=1),new g(n,u,l)}}}const _={lowS:t.lowS,prehash:!1},M={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(m(e))throw new Error("first arg must be private key");if(!m(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(l(e)).toRawBytes(r)},sign:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;const{seed:n,k2sig:s}=E(e,r,i),o=t;return he(o.hash.outputLen,o.nByteLength,o.hmac)(n,s)},verify:function(e,r,i){var n;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:M;const l=e;if(r=oe("msgHash",r),i=oe("publicKey",i),"strict"in s)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:h}=s;let d,f;try{if("string"===typeof l||l instanceof Uint8Array)try{d=g.fromDER(l)}catch(_){if(!(_ instanceof Fe.Err))throw _;d=g.fromCompact(l)}else{if("object"!==typeof l||"bigint"!==typeof l.r||"bigint"!==typeof l.s)throw new Error("PARSE");{const{r:e,s:t}=l;d=new g(e,t)}}f=c.fromHex(i)}catch(I){if("PARSE"===I.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&d.hasHighS())return!1;h&&(r=t.hash(r));const{r:p,s:b}=d,m=v(r),y=a(b),w=o(m*y),S=o(p*y),E=null===(n=c.BASE.multiplyAndAddUnsafe(f,w,S))||void 0===n?void 0:n.toAffine();return!!E&&o(E.x)===p},ProjectivePoint:c,Signature:g,utils:b}}function Je(e){return{hash:e,hmac:function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];return ze(e,t,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const i=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let n=0;return t.forEach((e=>{if(!k(e))throw new Error("Uint8Array expected");i.set(e,n),n+=e.length})),i}(...i))},randomBytes:j}}const Ye=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ze=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Xe=BigInt(1),$e=BigInt(2),Qe=(e,t)=>(e+t/$e)/t;function et(e){const t=Ye,r=BigInt(3),i=BigInt(6),n=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,h=_e(u,r,t)*u%t,d=_e(h,r,t)*u%t,f=_e(d,$e,t)*l%t,p=_e(f,n,t)*f%t,g=_e(p,s,t)*p%t,b=_e(g,a,t)*g%t,m=_e(b,c,t)*b%t,y=_e(m,a,t)*g%t,v=_e(y,r,t)*u%t,w=_e(v,o,t)*p%t,S=_e(w,i,t)*l%t,E=_e(S,$e,t);if(!tt.eql(tt.sqr(E),e))throw new Error("Cannot find square root");return E}const tt=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=pe)throw new Error("Expected Field ORDER > 0, got ".concat(e));const{nBitLength:n,nByteLength:s}=Ae(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=Ie(e),a=Object.freeze({ORDER:e,BITS:n,BYTES:s,MASK:ce(n),ZERO:pe,ONE:ge,create:t=>Se(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("Invalid field element: expected bigint, got ".concat(typeof t));return pe<=t&&t<e},is0:e=>e===pe,isOdd:e=>(e&ge)===ge,neg:t=>Se(-t,e),eql:(e,t)=>e===t,sqr:t=>Se(t*t,e),add:(t,r)=>Se(t+r,e),sub:(t,r)=>Se(t-r,e),mul:(t,r)=>Se(t*r,e),pow:(e,t)=>function(e,t,r){if(r<pe)throw new Error("Expected power > 0");if(r===pe)return e.ONE;if(r===ge)return t;let i=e.ONE,n=t;for(;r>pe;)r&ge&&(i=e.mul(i,n)),n=e.sqr(n),r>>=ge;return i}(a,e,t),div:(t,r)=>Se(t*Me(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Me(t,e),sqrt:i.sqrt||(e=>o(a,e)),invertBatch:e=>function(e,t){const r=new Array(t.length),i=t.reduce(((t,i,n)=>e.is0(i)?t:(r[n]=t,e.mul(t,i))),e.ONE),n=e.inv(i);return t.reduceRight(((t,i,n)=>e.is0(i)?t:(r[n]=e.mul(t,r[n]),e.mul(t,i))),n),r}(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?se(e,s):ne(e,s),fromBytes:e=>{if(e.length!==s)throw new Error("Fp.fromBytes: expected ".concat(s,", got ").concat(e.length));return r?ie(e):re(e)}});return Object.freeze(a)}(Ye,void 0,void 0,{sqrt:et}),rt=function(e,t){const r=t=>Ge(Ce(Ce({},e),Je(t)));return Object.freeze(Ce(Ce({},r(t)),{},{create:r}))}({a:BigInt(0),b:BigInt(7),Fp:tt,n:Ze,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Ze,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-Xe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=Qe(s*e,t),c=Qe(-i*e,t);let l=Se(e-a*r-c*n,t),u=Se(-a*i-c*s,t);const h=l>o,d=u>o;if(h&&(l=t-l),d&&(u=t-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:l,k2neg:d,k2:u}}}},J);BigInt(0);rt.ProjectivePoint;const it="6.13.5";function nt(e,t,r){const i=t.split("|").map((e=>e.trim()));for(let s=0;s<i.length;s++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const n=new Error("invalid value for type ".concat(t));throw n.code="INVALID_ARGUMENT",n.argument="value.".concat(r),n.value=e,n}async function st(e){const t=Object.keys(e),r=await Promise.all(t.map((t=>Promise.resolve(e[t]))));return r.reduce(((e,r,i)=>(e[t[i]]=r,e)),{})}function ot(e,t,r){for(let i in t){let n=t[i];const s=r?r[i]:null;s&&nt(n,s,i),Object.defineProperty(e,i,{enumerable:!0,value:n,writable:!1})}}function at(e){if(null==e)return"null";if(Array.isArray(e))return"[ "+e.map(at).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let r="0x";for(let i=0;i<e.length;i++)r+=t[e[i]>>4],r+=t[15&e[i]];return r}if("object"===typeof e&&"function"===typeof e.toJSON)return at(e.toJSON());switch(typeof e){case"boolean":case"symbol":case"number":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{ "+t.map((t=>"".concat(at(t),": ").concat(at(e[t])))).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function ct(e,t,r){let i,n=e;{const i=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error("value will overwrite populated values: ".concat(at(r)));for(const e in r){if("shortMessage"===e)continue;const t=r[e];i.push(e+"="+at(t))}}i.push("code=".concat(t)),i.push("version=".concat(it)),i.length&&(e+=" ("+i.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":i=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(e);break;default:i=new Error(e)}return ot(i,{code:t}),r&&Object.assign(i,r),null==i.shortMessage&&ot(i,{shortMessage:n}),i}function lt(e,t,r,i){if(!e)throw ct(t,r,i)}function ut(e,t,r,i){lt(e,t,"INVALID_ARGUMENT",{argument:r,value:i})}const ht=["NFD","NFC","NFKD","NFKC"].reduce(((e,t)=>{try{if("test"!=="test".normalize(t))throw new Error("bad");if("NFD"===t){const e=String.fromCharCode(233).normalize("NFD");if(e!==String.fromCharCode(101,769))throw new Error("broken")}e.push(t)}catch(r){}return e}),[]);function dt(e){lt(ht.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}function ft(e,t,r){if(null==r&&(r=""),e!==t){let e=r,t="new";r&&(e+=".",t+=" "+r),lt(!1,"private constructor; use ".concat(e,"from* methods"),"UNSUPPORTED_OPERATION",{operation:t})}}function pt(e,t,r){if(e instanceof Uint8Array)return r?new Uint8Array(e):e;if("string"===typeof e&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const t=new Uint8Array((e.length-2)/2);let r=2;for(let i=0;i<t.length;i++)t[i]=parseInt(e.substring(r,r+2),16),r+=2;return t}ut(!1,"invalid BytesLike value",t||"value",e)}function gt(e,t){return pt(e,t,!1)}function bt(e,t){return pt(e,t,!0)}function mt(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(("number"!==typeof t||e.length===2+2*t)&&(!0!==t||e.length%2===0))}function yt(e){return mt(e,!0)||e instanceof Uint8Array}const vt="0123456789abcdef";function wt(e){const t=gt(e);let r="0x";for(let i=0;i<t.length;i++){const e=t[i];r+=vt[(240&e)>>4]+vt[15&e]}return r}function St(e){return"0x"+e.map((e=>wt(e).substring(2))).join("")}function Et(e){return mt(e,!0)?(e.length-2)/2:gt(e).length}function _t(e,t,r){const i=gt(e);return null!=r&&r>i.length&&lt(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:i,length:i.length,offset:r}),wt(i.slice(null==t?0:t,null==r?i.length:r))}function Mt(e,t,r){const i=gt(e);lt(t>=i.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(i),length:t,offset:t+1});const n=new Uint8Array(t);return n.fill(0),r?n.set(i,t-i.length):n.set(i,0),wt(n)}function It(e,t){return Mt(e,t,!0)}const xt=BigInt(0),At=BigInt(1),Pt=9007199254740991;function kt(e,t){switch(typeof e){case"bigint":return e;case"number":return ut(Number.isInteger(e),"underflow",t||"value",e),ut(e>=-Pt&&e<=Pt,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw new Error("empty string");return"-"===e[0]&&"-"!==e[1]?-BigInt(e.substring(1)):BigInt(e)}catch(r){ut(!1,"invalid BigNumberish string: ".concat(r.message),t||"value",e)}}ut(!1,"invalid BigNumberish value",t||"value",e)}function Ot(e,t){const r=kt(e,t);return lt(r>=xt,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),r}const Nt="0123456789abcdef";function Rt(e){if(e instanceof Uint8Array){let t="0x0";for(const r of e)t+=Nt[r>>4],t+=Nt[15&r];return BigInt(t)}return kt(e)}function Tt(e,t){switch(typeof e){case"bigint":return ut(e>=-Pt&&e<=Pt,"overflow",t||"value",e),Number(e);case"number":return ut(Number.isInteger(e),"underflow",t||"value",e),ut(e>=-Pt&&e<=Pt,"overflow",t||"value",e),e;case"string":try{if(""===e)throw new Error("empty string");return Tt(BigInt(e),t)}catch(r){ut(!1,"invalid numeric string: ".concat(r.message),t||"value",e)}}ut(!1,"invalid numeric value",t||"value",e)}function Ct(e,t){let r=Ot(e,"value").toString(16);if(null==t)r.length%2&&(r="0"+r);else{const i=Tt(t,"width");for(lt(2*i>=r.length,"value exceeds width (".concat(i," bytes)"),"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});r.length<2*i;)r="0"+r}return"0x"+r}function Lt(e){const t=Ot(e,"value");if(t===xt)return new Uint8Array([]);let r=t.toString(16);r.length%2&&(r="0"+r);const i=new Uint8Array(r.length/2);for(let n=0;n<i.length;n++){const e=2*n;i[n]=parseInt(r.substring(e,e+2),16)}return i}const zt="0x0000000000000000000000000000000000000000000000000000000000000000",Ut=BigInt(0),Dt=BigInt(1),qt=BigInt(2),jt=BigInt(27),Bt=BigInt(28),Ft=BigInt(35),Kt={};function Vt(e){return It(Lt(e),32)}var Ht=new WeakMap,Wt=new WeakMap,Gt=new WeakMap,Jt=new WeakMap;class Yt{get r(){return S(Ht,this)}set r(e){ut(32===Et(e),"invalid r","value",e),E(Ht,this,wt(e))}get s(){return S(Wt,this)}set s(e){ut(32===Et(e),"invalid s","value",e);const t=wt(e);ut(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),E(Wt,this,t)}get v(){return S(Gt,this)}set v(e){const t=Tt(e,"value");ut(27===t||28===t,"invalid v","v",e),E(Gt,this,t)}get networkV(){return S(Jt,this)}get legacyChainId(){const e=this.networkV;return null==e?null:Yt.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const e=gt(this.s);return this.yParity&&(e[0]|=128),wt(e)}get compactSerialized(){return St([this.r,this.yParityAndS])}get serialized(){return St([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,r,i){v(this,Ht,void 0),v(this,Wt,void 0),v(this,Gt,void 0),v(this,Jt,void 0),ft(e,Kt,"Signature"),E(Ht,this,t),E(Wt,this,r),E(Gt,this,i),E(Jt,this,null)}[Symbol.for("nodejs.util.inspect.custom")](){return'Signature { r: "'.concat(this.r,'", s: "').concat(this.s,'", yParity: ').concat(this.yParity,", networkV: ").concat(this.networkV," }")}clone(){const e=new Yt(Kt,this.r,this.s,this.v);return this.networkV&&E(Jt,e,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=kt(e,"v");return t==jt||t==Bt?Ut:(ut(t>=Ft,"invalid EIP-155 v","v",e),(t-Ft)/qt)}static getChainIdV(e,t){return kt(e)*qt+BigInt(35+t-27)}static getNormalizedV(e){const t=kt(e);return t===Ut||t===jt?27:t===Dt||t===Bt?28:(ut(t>=Ft,"invalid v","v",e),t&Dt?27:28)}static from(e){function t(t,r){ut(t,r,"signature",e)}if(null==e)return new Yt(Kt,zt,zt,27);if("string"===typeof e){const r=gt(e,"signature");if(64===r.length){const e=wt(r.slice(0,32)),t=r.slice(32,64),i=128&t[0]?28:27;return t[0]&=127,new Yt(Kt,e,wt(t),i)}if(65===r.length){const e=wt(r.slice(0,32)),i=r.slice(32,64);t(0===(128&i[0]),"non-canonical s");const n=Yt.getNormalizedV(r[64]);return new Yt(Kt,e,wt(i),n)}t(!1,"invalid raw signature length")}if(e instanceof Yt)return e.clone();const r=e.r;t(null!=r,"missing r");const i=Vt(r),n=function(e,r){if(null!=e)return Vt(e);if(null!=r){t(mt(r,32),"invalid yParityAndS");const e=gt(r);return e[0]&=127,wt(e)}t(!1,"missing s")}(e.s,e.yParityAndS);t(0==(128&gt(n)[0]),"non-canonical s");const{networkV:s,v:o}=function(e,r,i){if(null!=e){const t=kt(e);return{networkV:t>=Ft?t:void 0,v:Yt.getNormalizedV(t)}}if(null!=r)return t(mt(r,32),"invalid yParityAndS"),{v:128&gt(r)[0]?28:27};if(null!=i){switch(Tt(i,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),a=new Yt(Kt,i,n,o);return s&&E(Jt,a,s),t(null==e.yParity||Tt(e.yParity,"sig.yParity")===a.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===a.yParityAndS,"yParityAndS mismatch"),a}}var Zt=new WeakMap;class Xt{constructor(e){v(this,Zt,void 0),ut(32===Et(e),"invalid private key","privateKey","[REDACTED]"),E(Zt,this,wt(e))}get privateKey(){return S(Zt,this)}get publicKey(){return Xt.computePublicKey(S(Zt,this))}get compressedPublicKey(){return Xt.computePublicKey(S(Zt,this),!0)}sign(e){ut(32===Et(e),"invalid digest length","digest",e);const t=rt.sign(bt(e),bt(S(Zt,this)),{lowS:!0});return Yt.from({r:Ct(t.r,32),s:Ct(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=Xt.computePublicKey(e);return wt(rt.getSharedSecret(bt(S(Zt,this)),gt(t),!1))}static computePublicKey(e,t){let r=gt(e,"key");if(32===r.length){return wt(rt.getPublicKey(r,!!t))}if(64===r.length){const e=new Uint8Array(65);e[0]=4,e.set(r,1),r=e}return wt(rt.ProjectivePoint.fromHex(r).toRawBytes(t))}static recoverPublicKey(e,t){ut(32===Et(e),"invalid digest length","digest",e);const r=Yt.from(t);let i=rt.Signature.fromCompact(bt(St([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const n=i.recoverPublicKey(bt(e));return ut(null!=n,"invalid signautre for digest","signature",t),"0x"+n.toHex(!1)}static addPoints(e,t,r){const i=rt.ProjectivePoint.fromHex(Xt.computePublicKey(e).substring(2)),n=rt.ProjectivePoint.fromHex(Xt.computePublicKey(t).substring(2));return"0x"+i.add(n).toHex(!!r)}}const $t=BigInt(2**32-1),Qt=BigInt(32);function er(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&$t),l:Number(e>>Qt&$t)}:{h:0|Number(e>>Qt&$t),l:0|Number(e&$t)}}function tr(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let n=0;n<e.length;n++){const{h:s,l:o}=er(e[n],t);[r[n],i[n]]=[s,o]}return[r,i]}const rr=(e,t,r)=>e<<r|t>>>32-r,ir=(e,t,r)=>t<<r|e>>>32-r,nr=(e,t,r)=>t<<r-32|e>>>64-r,sr=(e,t,r)=>e<<r-32|t>>>64-r;const or={fromBig:er,split:tr,toBig:(e,t)=>BigInt(e>>>0)<<Qt|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:rr,rotlSL:ir,rotlBH:nr,rotlBL:sr,add:function(e,t,r,i){const n=(t>>>0)+(i>>>0);return{h:e+r+(n/2**32|0)|0,l:0|n}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,i)=>t+r+i+(e/2**32|0)|0,add4L:(e,t,r,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),add4H:(e,t,r,i,n)=>t+r+i+n+(e/2**32|0)|0,add5H:(e,t,r,i,n,s)=>t+r+i+n+s+(e/2**32|0)|0,add5L:(e,t,r,i,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0)+(n>>>0)},ar=or,[cr,lr,ur]=[[],[],[]],hr=BigInt(0),dr=BigInt(1),fr=BigInt(2),pr=BigInt(7),gr=BigInt(256),br=BigInt(113);for(let r=0,Qq=dr,ej=1,tj=0;r<24;r++){[ej,tj]=[tj,(2*ej+3*tj)%5],cr.push(2*(5*tj+ej)),lr.push((r+1)*(r+2)/2%64);let e=hr;for(let t=0;t<7;t++)Qq=(Qq<<dr^(Qq>>pr)*br)%gr,Qq&fr&&(e^=dr<<(dr<<BigInt(t))-dr);ur.push(e)}const[mr,yr]=tr(ur,!0),vr=(e,t,r)=>r>32?nr(e,t,r):rr(e,t,r),wr=(e,t,r)=>r>32?sr(e,t,r):ir(e,t,r);class Sr extends z{constructor(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=n,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,_(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=O(this.state)}keccak(){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const r=new Uint32Array(10);for(let i=24-t;i<24;i++){for(let i=0;i<10;i++)r[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const t=(i+8)%10,n=(i+2)%10,s=r[n],o=r[n+1],a=vr(s,o,1)^r[t],c=wr(s,o,1)^r[t+1];for(let r=0;r<50;r+=10)e[i+r]^=a,e[i+r+1]^=c}let t=e[2],n=e[3];for(let r=0;r<24;r++){const i=lr[r],s=vr(t,n,i),o=wr(t,n,i),a=cr[r];t=e[a],n=e[a+1],e[a]=s,e[a+1]=o}for(let i=0;i<50;i+=10){for(let t=0;t<10;t++)r[t]=e[i+t];for(let t=0;t<10;t++)e[i+t]^=~r[(t+2)%10]&r[(t+4)%10]}e[0]^=mr[i],e[1]^=yr[i]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){x(this);const{blockLen:t,state:r}=this,i=(e=L(e)).length;for(let n=0;n<i;){const s=Math.min(t-this.pos,i-n);for(let t=0;t<s;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,0!==(128&t)&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){x(this,!1),M(e),this.finish();const t=this.state,{blockLen:r}=this;for(let i=0,n=e.length;i<n;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,n-i);e.set(t.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return _(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(A(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:i,rounds:n,enableXOF:s}=this;return e||(e=new Sr(t,r,i,s,n)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=n,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Er=(e,t,r)=>q((()=>new Sr(t,e,r))),_r=Er(1,136,32);let Mr=!1;const Ir=function(e){return _r(e)};let xr=Ir;function Ar(e){const t=gt(e,"data");return wt(xr(t))}Ar._=Ir,Ar.lock=function(){Mr=!0},Ar.register=function(e){if(Mr)throw new TypeError("keccak256 is locked");xr=e},Object.freeze(Ar);const Pr=BigInt(0),kr=BigInt(36);function Or(e){const t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let n=0;n<40;n++)r[n]=t[n].charCodeAt(0);const i=gt(Ar(r));for(let n=0;n<40;n+=2)i[n>>1]>>4>=8&&(t[n]=t[n].toUpperCase()),(15&i[n>>1])>=8&&(t[n+1]=t[n+1].toUpperCase());return"0x"+t.join("")}const Nr={};for(let r=0;r<10;r++)Nr[String(r)]=String(r);for(let r=0;r<26;r++)Nr[String.fromCharCode(65+r)]=String(10+r);function Rr(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>Nr[e])).join("");for(;t.length>=15;){let e=t.substring(0,15);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}const Tr=function(){const e={};for(let t=0;t<36;t++){e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t)}return e}();function Cr(e){if(ut("string"===typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=Or(e);return ut(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){ut(e.substring(2,4)===Rr(e),"bad icap checksum","address",e);let t=function(e){e=e.toLowerCase();let t=Pr;for(let r=0;r<e.length;r++)t=t*kr+Tr[e[r]];return t}(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return Or("0x"+t)}ut(!1,"invalid address","address",e)}async function Lr(e,t){const r=await t;return null!=r&&"0x0000000000000000000000000000000000000000"!==r||(lt("string"!==typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),ut(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),Cr(r)}function zr(e,t){return"string"===typeof e?e.match(/^0x[0-9a-f]{40}$/i)?Cr(e):(lt(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Lr(e,t.resolveName(e))):(r=e)&&"function"===typeof r.getAddress?Lr(e,e.getAddress()):e&&"function"===typeof e.then?Lr(e,e):void ut(!1,"unsupported addressable value","target",e);var r}function Ur(e,t,r,i,n){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let i=t+1;i<r.length&&r[i]>>6===2;i++)e++;return e}return"OVERRUN"===e?r.length-t-1:0}const Dr=Object.freeze({error:function(e,t,r,i,n){ut(!1,"invalid codepoint at offset ".concat(t,"; ").concat(e),"bytes",r)},ignore:Ur,replace:function(e,t,r,i,n){return"OVERLONG"===e?(ut("number"===typeof n,"invalid bad code point for replacement","badCodepoint",n),i.push(n),0):(i.push(65533),Ur(e,t,r))}});function qr(e,t){null==t&&(t=Dr.error);const r=gt(e,"bytes"),i=[];let n=0;for(;n<r.length;){const e=r[n++];if(e>>7===0){i.push(e);continue}let s=null,o=null;if(192===(224&e))s=1,o=127;else if(224===(240&e))s=2,o=2047;else{if(240!==(248&e)){n+=t(128===(192&e)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",n-1,r,i);continue}s=3,o=65535}if(n-1+s>=r.length){n+=t("OVERRUN",n-1,r,i);continue}let a=e&(1<<8-s-1)-1;for(let c=0;c<s;c++){let e=r[n];if(128!=(192&e)){n+=t("MISSING_CONTINUE",n,r,i),a=null;break}a=a<<6|63&e,n++}null!==a&&(a>1114111?n+=t("OUT_OF_RANGE",n-1-s,r,i,a):a>=55296&&a<=57343?n+=t("UTF16_SURROGATE",n-1-s,r,i,a):a<=o?n+=t("OVERLONG",n-1-s,r,i,a):i.push(a))}return i}function jr(e,t){ut("string"===typeof e,"invalid string value","str",e),null!=t&&(dt(t),e=e.normalize(t));let r=[];for(let i=0;i<e.length;i++){const t=e.charCodeAt(i);if(t<128)r.push(t);else if(t<2048)r.push(t>>6|192),r.push(63&t|128);else if(55296==(64512&t)){i++;const n=e.charCodeAt(i);ut(i<e.length&&56320===(64512&n),"invalid surrogate pair","str",e);const s=65536+((1023&t)<<10)+(1023&n);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(63&s|128)}else r.push(t>>12|224),r.push(t>>6&63|128),r.push(63&t|128)}return new Uint8Array(r)}function Br(e,t){return qr(e,t).map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}function Fr(e){return"string"===typeof e&&(e=jr(e)),Ar(St([jr("\x19Ethereum Signed Message:\n"),jr(String(e.length)),e]))}function Kr(e,t){y(e,t),t.add(e)}function Vr(e){return Ar(jr(e))}const Hr=new Uint8Array(32);Hr.fill(0);const Wr=BigInt(-1),Gr=BigInt(0),Jr=BigInt(1),Yr=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const Zr=Ct(Jr,32),Xr=Ct(Gr,32),$r={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Qr=["name","version","chainId","verifyingContract","salt"];function ei(e){return function(t){return ut("string"===typeof t,"invalid domain value for ".concat(JSON.stringify(e)),"domain.".concat(e),t),t}}const ti={name:ei("name"),version:ei("version"),chainId:function(e){const t=kt(e,"domain.chainId");return ut(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):function(e){let t=wt(yt(e)?e:Lt(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}(t)},verifyingContract:function(e){try{return Cr(e).toLowerCase()}catch(t){}ut(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){const t=gt(e,"domain.salt");return ut(32===t.length,'invalid domain value "salt"',"domain.salt",e),wt(t)}};function ri(e){{const t=e.match(/^(u?)int(\d+)$/);if(t){const r=""===t[1],i=parseInt(t[2]);ut(i%8===0&&0!==i&&i<=256&&t[2]===String(i),"invalid numeric width","type",e);const n=function(e,t){const r=Ot(e,"value"),i=BigInt(Tt(t,"bits"));return r&(At<<i)-At}(Yr,r?i-1:i),s=r?(n+Jr)*Wr:Gr;return function(t){const i=kt(t,"value");return ut(i>=s&&i<=n,"value out-of-bounds for ".concat(e),"value",i),Ct(r?function(e,t){let r=kt(e,"value");const i=BigInt(Tt(t,"width")),n=At<<i-At;if(r<xt)return r=-r,lt(r<=n,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),(~r&(At<<i)-At)+At;return lt(r<n,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),r}(i,256):i,32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const r=parseInt(t[1]);return ut(0!==r&&r<=32&&t[1]===String(r),"invalid bytes width","type",e),function(t){return ut(gt(t).length===r,"invalid length for ".concat(e),"value",t),function(e){const t=gt(e),r=t.length%32;return r?St([t,Hr.slice(r)]):wt(t)}(t)}}}switch(e){case"address":return function(e){return It(Cr(e),32)};case"bool":return function(e){return e?Zr:Xr};case"bytes":return function(e){return Ar(e)};case"string":return function(e){return Vr(e)}}return null}function ii(e,t){return"".concat(e,"(").concat(t.map((e=>{let{name:t,type:r}=e;return r+" "+t})).join(","),")")}function ni(e){const t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}var si=new WeakMap,oi=new WeakMap,ai=new WeakMap,ci=new WeakSet;class li{get types(){return JSON.parse(S(si,this))}constructor(e){Kr(this,ci),Re(this,"primaryType",void 0),v(this,si,void 0),v(this,oi,void 0),v(this,ai,void 0),E(oi,this,new Map),E(ai,this,new Map);const t=new Map,r=new Map,i=new Map,n={};Object.keys(e).forEach((s=>{n[s]=e[s].map((t=>{let{name:r,type:i}=t,{base:n,index:s}=ni(i);return"int"!==n||e.int||(n="int256"),"uint"!==n||e.uint||(n="uint256"),{name:r,type:n+(s||"")}})),t.set(s,new Set),r.set(s,[]),i.set(s,new Set)})),E(si,this,JSON.stringify(n));for(const o in n){const i=new Set;for(const s of n[o]){ut(!i.has(s.name),"duplicate variable name ".concat(JSON.stringify(s.name)," in ").concat(JSON.stringify(o)),"types",e),i.add(s.name);const n=ni(s.type).base;ut(n!==o,"circular type reference to ".concat(JSON.stringify(n)),"types",e);ri(n)||(ut(r.has(n),"unknown type ".concat(JSON.stringify(n)),"types",e),r.get(n).push(o),t.get(o).add(n))}}const s=Array.from(r.keys()).filter((e=>0===r.get(e).length));ut(0!==s.length,"missing primary type","types",e),ut(1===s.length,"ambiguous primary types or unused types: ".concat(s.map((e=>JSON.stringify(e))).join(", ")),"types",e),ot(this,{primaryType:s[0]}),function n(s,o){ut(!o.has(s),"circular type reference to ".concat(JSON.stringify(s)),"types",e),o.add(s);for(const e of t.get(s))if(r.has(e)){n(e,o);for(const t of o)i.get(t).add(e)}o.delete(s)}(this.primaryType,new Set);for(const[o,a]of i){const e=Array.from(a);e.sort(),S(oi,this).set(o,ii(o,n[o])+e.map((e=>ii(e,n[e]))).join(""))}}getEncoder(e){let t=S(ai,this).get(e);return t||(t=w(ci,this,ui).call(this,e),S(ai,this).set(e,t)),t}encodeType(e){const t=S(oi,this).get(e);return ut(t,"unknown type: ".concat(JSON.stringify(e)),"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Ar(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(ri(e))return r(e,t);const i=ni(e).array;if(i)return ut(-1===i.count||i.count===t.length,"array length mismatch; expected length ".concat(i.count),"value",t),t.map((e=>this._visit(i.prefix,e,r)));const n=this.types[e];if(n)return n.reduce(((e,i)=>{let{name:n,type:s}=i;return e[n]=this._visit(s,t[n],r),e}),{});ut(!1,"unknown type: ".concat(e),"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new li(e)}static getPrimaryType(e){return li.from(e).primaryType}static hashStruct(e,t,r){return li.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){if(null==e[r])continue;const i=$r[r];ut(i,"invalid typed-data domain key: ".concat(JSON.stringify(r)),"domain",e),t.push({name:r,type:i})}return t.sort(((e,t)=>Qr.indexOf(e.name)-Qr.indexOf(t.name))),li.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return St(["0x1901",li.hashDomain(e),li.from(t).hash(r)])}static hash(e,t,r){return Ar(li.encode(e,t,r))}static async resolveNames(e,t,r,i){e=Object.assign({},e);for(const o in e)null==e[o]&&delete e[o];const n={};e.verifyingContract&&!mt(e.verifyingContract,20)&&(n[e.verifyingContract]="0x");const s=li.from(t);s.visit(r,((e,t)=>("address"!==e||mt(t,20)||(n[t]="0x"),t)));for(const o in n)n[o]=await i(o);return e.verifyingContract&&n[e.verifyingContract]&&(e.verifyingContract=n[e.verifyingContract]),{domain:e,value:r=s.visit(r,((e,t)=>"address"===e&&n[t]?n[t]:t))}}static getPayload(e,t,r){li.hashDomain(e);const i={},n=[];Qr.forEach((t=>{const r=e[t];null!=r&&(i[t]=ti[t](r),n.push({name:t,type:$r[t]}))}));const s=li.from(t);t=s.types;const o=Object.assign({},t);return ut(null==o.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),o.EIP712Domain=n,s.encode(r),{types:o,domain:i,primaryType:s.primaryType,message:s.visit(r,((e,t)=>{if(e.match(/^bytes(\d*)/))return wt(gt(t));if(e.match(/^u?int/))return kt(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return ut("string"===typeof t,"invalid string","value",t),t}ut(!1,"unsupported type","type",e)}))}}}function ui(e){{const t=ri(e);if(t)return t}const t=ni(e).array;if(t){const e=t.prefix,r=this.getEncoder(e);return i=>{ut(-1===t.count||t.count===i.length,"array length mismatch; expected length ".concat(t.count),"value",i);let n=i.map(r);return S(oi,this).has(e)&&(n=n.map(Ar)),Ar(St(n))}}const r=this.types[e];if(r){const t=Vr(S(oi,this).get(e));return e=>{const i=r.map((t=>{let{name:r,type:i}=t;const n=this.getEncoder(i)(e[r]);return S(oi,this).has(i)?Ar(n):n}));return i.unshift(t),St(i)}}ut(!1,"unknown type: ".concat(e),"type",e)}const hi="0x0000000000000000000000000000000000000000";function di(e,t,r,i){I(e);const n=D({dkLen:32,asyncTick:10},i),{c:s,dkLen:o,asyncTick:a}=n;if(_(s),_(o),_(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=L(t),l=L(r),u=new Uint8Array(o),h=ze.create(e,c),d=h._cloneInto().update(l);return{c:s,dkLen:o,asyncTick:a,DK:u,PRF:h,PRFSalt:d}}function fi(e,t,r,i,n){return e.destroy(),t.destroy(),i&&i.destroy(),n.fill(0),r}function pi(e,t,r,i){const{c:n,dkLen:s,DK:o,PRF:a,PRFSalt:c}=di(e,t,r,i);let l;const u=new Uint8Array(4),h=N(u),d=new Uint8Array(a.outputLen);for(let f=1,p=0;p<s;f++,p+=a.outputLen){const e=o.subarray(p,p+a.outputLen);h.setInt32(0,f,!1),(l=c._cloneInto(l)).update(u).digestInto(d),e.set(d.subarray(0,e.length));for(let t=1;t<n;t++){a._cloneInto(l).update(d).digestInto(d);for(let t=0;t<e.length;t++)e[t]^=d[t]}}return fi(a,c,o,l,d)}const[gi,bi]=(()=>ar.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),mi=new Uint32Array(80),yi=new Uint32Array(80);class vi extends B{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:i,Ch:n,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:u,Fl:h,Gh:d,Gl:f,Hh:p,Hl:g}=this;return[e,t,r,i,n,s,o,a,c,l,u,h,d,f,p,g]}set(e,t,r,i,n,s,o,a,c,l,u,h,d,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|i,this.Ch=0|n,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let y=0;y<16;y++,t+=4)mi[y]=e.getUint32(t),yi[y]=e.getUint32(t+=4);for(let y=16;y<80;y++){const e=0|mi[y-15],t=0|yi[y-15],r=ar.rotrSH(e,t,1)^ar.rotrSH(e,t,8)^ar.shrSH(e,t,7),i=ar.rotrSL(e,t,1)^ar.rotrSL(e,t,8)^ar.shrSL(e,t,7),n=0|mi[y-2],s=0|yi[y-2],o=ar.rotrSH(n,s,19)^ar.rotrBH(n,s,61)^ar.shrSH(n,s,6),a=ar.rotrSL(n,s,19)^ar.rotrBL(n,s,61)^ar.shrSL(n,s,6),c=ar.add4L(i,a,yi[y-7],yi[y-16]),l=ar.add4H(c,r,o,mi[y-7],mi[y-16]);mi[y]=0|l,yi[y]=0|c}let{Ah:r,Al:i,Bh:n,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:u,El:h,Fh:d,Fl:f,Gh:p,Gl:g,Hh:b,Hl:m}=this;for(let y=0;y<80;y++){const e=ar.rotrSH(u,h,14)^ar.rotrSH(u,h,18)^ar.rotrBH(u,h,41),t=ar.rotrSL(u,h,14)^ar.rotrSL(u,h,18)^ar.rotrBL(u,h,41),v=u&d^~u&p,w=h&f^~h&g,S=ar.add5L(m,t,w,bi[y],yi[y]),E=ar.add5H(S,b,e,v,gi[y],mi[y]),_=0|S,M=ar.rotrSH(r,i,28)^ar.rotrBH(r,i,34)^ar.rotrBH(r,i,39),I=ar.rotrSL(r,i,28)^ar.rotrBL(r,i,34)^ar.rotrBL(r,i,39),x=r&n^r&o^n&o,A=i&s^i&a^s&a;b=0|p,m=0|g,p=0|d,g=0|f,d=0|u,f=0|h,({h:u,l:h}=ar.add(0|c,0|l,0|E,0|_)),c=0|o,l=0|a,o=0|n,a=0|s,n=0|r,s=0|i;const P=ar.add3L(_,I,A);r=ar.add3H(P,E,M,x),i=0|P}({h:r,l:i}=ar.add(0|this.Ah,0|this.Al,0|r,0|i)),({h:n,l:s}=ar.add(0|this.Bh,0|this.Bl,0|n,0|s)),({h:o,l:a}=ar.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:l}=ar.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:h}=ar.add(0|this.Eh,0|this.El,0|u,0|h)),({h:d,l:f}=ar.add(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:g}=ar.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:b,l:m}=ar.add(0|this.Hh,0|this.Hl,0|b,0|m)),this.set(r,i,n,s,o,a,c,l,u,h,d,f,p,g,b,m)}roundClean(){mi.fill(0),yi.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const wi=q((()=>new vi));const Si=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global;throw new Error("unable to locate global object")}(),Ei=Si.crypto||Si.msCrypto;function _i(e){switch(e){case"sha256":return J.create();case"sha512":return wi.create()}ut(!1,"invalid hashing algorithm name","algorithm",e)}const Mi=function(e){return _i("sha256").update(e).digest()},Ii=function(e){return _i("sha512").update(e).digest()};let xi=Mi,Ai=Ii,Pi=!1,ki=!1;function Oi(e){const t=gt(e,"data");return wt(xi(t))}function Ni(e){const t=gt(e,"data");return wt(Ai(t))}function Ri(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function Ti(e,t,r){let i=0;for(let n=0;n<r;n++)i=256*i+e[t+n];return i}function Ci(e,t,r,i){const n=[];for(;r<t+1+i;){const s=Li(e,r);n.push(s.result),lt((r+=s.consumed)<=t+1+i,"child data too short","BUFFER_OVERRUN",{buffer:e,length:i,offset:t})}return{consumed:1+i,result:n}}function Li(e,t){lt(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});const r=t=>{lt(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){const i=e[t]-247;r(t+1+i);const n=Ti(e,t+1,i);return r(t+1+i+n),Ci(e,t,t+1+i,i+n)}if(e[t]>=192){const i=e[t]-192;return r(t+1+i),Ci(e,t,t+1,i)}if(e[t]>=184){const i=e[t]-183;r(t+1+i);const n=Ti(e,t+1,i);r(t+1+i+n);return{consumed:1+i+n,result:wt(e.slice(t+1+i,t+1+i+n))}}if(e[t]>=128){const i=e[t]-128;r(t+1+i);return{consumed:1+i,result:wt(e.slice(t+1,t+1+i))}}return{consumed:1,result:Ri(e[t])}}function zi(e){const t=gt(e,"data"),r=Li(t,0);return ut(r.consumed===t.length,"unexpected junk after rlp payload","data",e),r.result}function Ui(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function Di(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(Di(e))})),t.length<=55)return t.unshift(192+t.length),t;const r=Ui(t.length);return r.unshift(247+r.length),r.concat(t)}const t=Array.prototype.slice.call(gt(e,"object"));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const r=Ui(t.length);return r.unshift(183+r.length),r.concat(t)}Oi._=Mi,Oi.lock=function(){Pi=!0},Oi.register=function(e){if(Pi)throw new Error("sha256 is locked");xi=e},Object.freeze(Oi),Ni._=Ii,Ni.lock=function(){ki=!0},Ni.register=function(e){if(ki)throw new Error("sha512 is locked");Ai=e},Object.freeze(Oi);const qi="0123456789abcdef";function ji(e){let t="0x";for(const r of Di(e))t+=qi[r>>4],t+=qi[15&r];return t}function Bi(e,t){return{address:Cr(e),storageKeys:t.map(((e,t)=>(ut(mt(e,32),"invalid slot","storageKeys[".concat(t,"]"),e),e.toLowerCase())))}}function Fi(e){if(Array.isArray(e))return e.map(((t,r)=>Array.isArray(t)?(ut(2===t.length,"invalid slot set","value[".concat(r,"]"),t),Bi(t[0],t[1])):(ut(null!=t&&"object"===typeof t,"invalid address-slot set","value",e),Bi(t.address,t.storageKeys))));ut(null!=e&&"object"===typeof e,"invalid access list","value",e);const t=Object.keys(e).map((t=>{const r=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return Bi(t,Object.keys(r).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}function Ki(e){let t;return t="string"===typeof e?Xt.computePublicKey(e,!1):e.publicKey,Cr(Ar("0x"+t.substring(4)).substring(26))}const Vi=BigInt(0),Hi=BigInt(2),Wi=BigInt(27),Gi=BigInt(28),Ji=BigInt(35),Yi=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Zi=131072;function Xi(e,t){let r=e.toString(16);for(;r.length<2;)r="0"+r;return r+=Oi(t).substring(4),"0x"+r}function $i(e){return"0x"===e?null:Cr(e)}function Qi(e,t){try{return Fi(e)}catch(r){ut(!1,r.message,t,e)}}function en(e,t){return"0x"===e?0:Tt(e,t)}function tn(e,t){if("0x"===e)return Vi;const r=kt(e,t);return ut(r<=Yi,"value exceeds uint size",t,r),r}function rn(e,t){const r=kt(e,"value"),i=Lt(r);return ut(i.length<=32,"value too large","tx.".concat(t),r),i}function nn(e){return Fi(e).map((e=>[e.address,e.storageKeys]))}function sn(e,t){ut(Array.isArray(e),"invalid ".concat(t),"value",e);for(let r=0;r<e.length;r++)ut(mt(e[r],32),"invalid ${ param } hash","value[".concat(r,"]"),e[r]);return e}function on(e,t){let r;try{if(r=en(t[0],"yParity"),0!==r&&1!==r)throw new Error("bad yParity")}catch(o){ut(!1,"invalid yParity","yParity",t[0])}const i=It(t[1],32),n=It(t[2],32),s=Yt.from({r:i,s:n,yParity:r});e.signature=s}var an=new WeakMap,cn=new WeakMap,ln=new WeakMap,un=new WeakMap,hn=new WeakMap,dn=new WeakMap,fn=new WeakMap,pn=new WeakMap,gn=new WeakMap,bn=new WeakMap,mn=new WeakMap,yn=new WeakMap,vn=new WeakMap,wn=new WeakMap,Sn=new WeakMap,En=new WeakMap,_n=new WeakSet;class Mn{get type(){return S(an,this)}set type(e){switch(e){case null:E(an,this,null);break;case 0:case"legacy":E(an,this,0);break;case 1:case"berlin":case"eip-2930":E(an,this,1);break;case 2:case"london":case"eip-1559":E(an,this,2);break;case 3:case"cancun":case"eip-4844":E(an,this,3);break;default:ut(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=S(cn,this);return null==e&&3===this.type?hi:e}set to(e){E(cn,this,null==e?null:Cr(e))}get nonce(){return S(un,this)}set nonce(e){E(un,this,Tt(e,"value"))}get gasLimit(){return S(hn,this)}set gasLimit(e){E(hn,this,kt(e))}get gasPrice(){const e=S(dn,this);return null!=e||0!==this.type&&1!==this.type?e:Vi}set gasPrice(e){E(dn,this,null==e?null:kt(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=S(fn,this);return null==e?2===this.type||3===this.type?Vi:null:e}set maxPriorityFeePerGas(e){E(fn,this,null==e?null:kt(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=S(pn,this);return null==e?2===this.type||3===this.type?Vi:null:e}set maxFeePerGas(e){E(pn,this,null==e?null:kt(e,"maxFeePerGas"))}get data(){return S(ln,this)}set data(e){E(ln,this,wt(e))}get value(){return S(gn,this)}set value(e){E(gn,this,kt(e,"value"))}get chainId(){return S(bn,this)}set chainId(e){E(bn,this,kt(e))}get signature(){return S(mn,this)||null}set signature(e){E(mn,this,null==e?null:Yt.from(e))}get accessList(){const e=S(yn,this)||null;return null==e?1===this.type||2===this.type||3===this.type?[]:null:e}set accessList(e){E(yn,this,null==e?null:Fi(e))}get maxFeePerBlobGas(){const e=S(vn,this);return null==e&&3===this.type?Vi:e}set maxFeePerBlobGas(e){E(vn,this,null==e?null:kt(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=S(wn,this);return null==e&&3===this.type?[]:e}set blobVersionedHashes(e){if(null!=e){ut(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)ut(mt(e[t],32),"invalid blobVersionedHash","value[".concat(t,"]"),e[t])}E(wn,this,e)}get blobs(){return null==S(En,this)?null:S(En,this).map((e=>Object.assign({},e)))}set blobs(e){if(null==e)return void E(En,this,null);const t=[],r=[];for(let i=0;i<e.length;i++){const n=e[i];if(yt(n)){lt(S(Sn,this),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let e=gt(n);if(ut(e.length<=Zi,"blob is too large","blobs[".concat(i,"]"),n),e.length!==Zi){const t=new Uint8Array(Zi);t.set(e),e=t}const s=S(Sn,this).blobToKzgCommitment(e),o=wt(S(Sn,this).computeBlobKzgProof(e,s));t.push({data:wt(e),commitment:wt(s),proof:o}),r.push(Xi(1,s))}else{const e=wt(n.commitment);t.push({data:wt(n.data),commitment:e,proof:wt(n.proof)}),r.push(Xi(1,e))}}E(En,this,t),E(wn,this,r)}get kzg(){return S(Sn,this)}set kzg(e){E(Sn,this,e)}constructor(){Kr(this,_n),v(this,an,void 0),v(this,cn,void 0),v(this,ln,void 0),v(this,un,void 0),v(this,hn,void 0),v(this,dn,void 0),v(this,fn,void 0),v(this,pn,void 0),v(this,gn,void 0),v(this,bn,void 0),v(this,mn,void 0),v(this,yn,void 0),v(this,vn,void 0),v(this,wn,void 0),v(this,Sn,void 0),v(this,En,void 0),E(an,this,null),E(cn,this,null),E(un,this,0),E(hn,this,Vi),E(dn,this,null),E(fn,this,null),E(pn,this,null),E(ln,this,"0x"),E(gn,this,Vi),E(bn,this,Vi),E(mn,this,null),E(yn,this,null),E(vn,this,null),E(wn,this,null),E(En,this,null),E(Sn,this,null)}get hash(){return null==this.signature?null:Ar(w(_n,this,In).call(this,!0,!1))}get unsignedHash(){return Ar(this.unsignedSerialized)}get from(){return null==this.signature?null:function(e,t){return Ki(Xt.recoverPublicKey(e,t))}(this.unsignedHash,this.signature)}get fromPublicKey(){return null==this.signature?null:Xt.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}get serialized(){return w(_n,this,In).call(this,!0,!0)}get unsignedSerialized(){return w(_n,this,In).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,r=null!=this.accessList,i=null!=S(vn,this)||S(wn,this);null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&lt(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),lt(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),lt(0!==this.type||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const n=[];return null!=this.type?n.push(this.type):t?n.push(2):e?(n.push(1),r||n.push(0)):r?(n.push(1),n.push(2)):(i&&this.to||(n.push(0),n.push(1),n.push(2)),n.push(3)),n.sort(),n}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return Mn.from(this)}toJSON(){const e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new Mn;if("string"===typeof e){const t=gt(e);if(t[0]>=127)return Mn.from(function(e){const t=zi(e);ut(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);const r={type:0,nonce:en(t[0],"nonce"),gasPrice:tn(t[1],"gasPrice"),gasLimit:tn(t[2],"gasLimit"),to:$i(t[3]),value:tn(t[4],"value"),data:wt(t[5]),chainId:Vi};if(6===t.length)return r;const i=tn(t[6],"v"),n=tn(t[7],"r"),s=tn(t[8],"s");if(n===Vi&&s===Vi)r.chainId=i;else{let e=(i-Ji)/Hi;e<Vi&&(e=Vi),r.chainId=e,ut(e!==Vi||i===Wi||i===Gi,"non-canonical legacy v","v",t[6]),r.signature=Yt.from({r:It(t[7],32),s:It(t[8],32),v:i})}return r}(t));switch(t[0]){case 1:return Mn.from(function(e){const t=zi(gt(e).slice(1));ut(Array.isArray(t)&&(8===t.length||11===t.length),"invalid field count for transaction type: 1","data",wt(e));const r={type:1,chainId:tn(t[0],"chainId"),nonce:en(t[1],"nonce"),gasPrice:tn(t[2],"gasPrice"),gasLimit:tn(t[3],"gasLimit"),to:$i(t[4]),value:tn(t[5],"value"),data:wt(t[6]),accessList:Qi(t[7],"accessList")};return 8===t.length||on(r,t.slice(8)),r}(t));case 2:return Mn.from(function(e){const t=zi(gt(e).slice(1));ut(Array.isArray(t)&&(9===t.length||12===t.length),"invalid field count for transaction type: 2","data",wt(e));const r={type:2,chainId:tn(t[0],"chainId"),nonce:en(t[1],"nonce"),maxPriorityFeePerGas:tn(t[2],"maxPriorityFeePerGas"),maxFeePerGas:tn(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:tn(t[4],"gasLimit"),to:$i(t[5]),value:tn(t[6],"value"),data:wt(t[7]),accessList:Qi(t[8],"accessList")};return 9===t.length||on(r,t.slice(9)),r}(t));case 3:return Mn.from(function(e){let t=zi(gt(e).slice(1)),r="3",i=null;if(4===t.length&&Array.isArray(t[0])){r="3 (network format)";const e=t[1],n=t[2],s=t[3];ut(Array.isArray(e),"invalid network format: blobs not an array","fields[1]",e),ut(Array.isArray(n),"invalid network format: commitments not an array","fields[2]",n),ut(Array.isArray(s),"invalid network format: proofs not an array","fields[3]",s),ut(e.length===n.length,"invalid network format: blobs/commitments length mismatch","fields",t),ut(e.length===s.length,"invalid network format: blobs/proofs length mismatch","fields",t),i=[];for(let r=0;r<t[1].length;r++)i.push({data:e[r],commitment:n[r],proof:s[r]});t=t[0]}ut(Array.isArray(t)&&(11===t.length||14===t.length),"invalid field count for transaction type: ".concat(r),"data",wt(e));const n={type:3,chainId:tn(t[0],"chainId"),nonce:en(t[1],"nonce"),maxPriorityFeePerGas:tn(t[2],"maxPriorityFeePerGas"),maxFeePerGas:tn(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:tn(t[4],"gasLimit"),to:$i(t[5]),value:tn(t[6],"value"),data:wt(t[7]),accessList:Qi(t[8],"accessList"),maxFeePerBlobGas:tn(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};i&&(n.blobs=i),ut(null!=n.to,"invalid address for transaction type: ".concat(r),"data",e),ut(Array.isArray(n.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let s=0;s<n.blobVersionedHashes.length;s++)ut(mt(n.blobVersionedHashes[s],32),"invalid blobVersionedHash at index ".concat(s,": must be length 32"),"data",e);return 11===t.length||on(n,t.slice(11)),n}(t))}lt(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new Mn;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=Yt.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),null!=e.kzg&&(t.kzg=e.kzg),null!=e.blobs&&(t.blobs=e.blobs),null!=e.hash&&(ut(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),ut(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&(ut(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),ut(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}function In(e,t){lt(!e||null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return function(e,t){const r=[rn(e.nonce,"nonce"),rn(e.gasPrice||0,"gasPrice"),rn(e.gasLimit,"gasLimit"),e.to||"0x",rn(e.value,"value"),e.data];let i=Vi;if(e.chainId!=Vi)i=kt(e.chainId,"tx.chainId"),ut(!t||null==t.networkV||t.legacyChainId===i,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){const t=e.signature.legacyChainId;null!=t&&(i=t)}if(!t)return i!==Vi&&(r.push(Lt(i)),r.push("0x"),r.push("0x")),ji(r);let n=BigInt(27+t.yParity);return i!==Vi?n=Yt.getChainIdV(i,t.v):BigInt(t.v)!==n&&ut(!1,"tx.chainId/sig.v mismatch","sig",t),r.push(Lt(n)),r.push(Lt(t.r)),r.push(Lt(t.s)),ji(r)}(this,r);case 1:return function(e,t){const r=[rn(e.chainId,"chainId"),rn(e.nonce,"nonce"),rn(e.gasPrice||0,"gasPrice"),rn(e.gasLimit,"gasLimit"),e.to||"0x",rn(e.value,"value"),e.data,nn(e.accessList||[])];return t&&(r.push(rn(t.yParity,"recoveryParam")),r.push(Lt(t.r)),r.push(Lt(t.s))),St(["0x01",ji(r)])}(this,r);case 2:return function(e,t){const r=[rn(e.chainId,"chainId"),rn(e.nonce,"nonce"),rn(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),rn(e.maxFeePerGas||0,"maxFeePerGas"),rn(e.gasLimit,"gasLimit"),e.to||"0x",rn(e.value,"value"),e.data,nn(e.accessList||[])];return t&&(r.push(rn(t.yParity,"yParity")),r.push(Lt(t.r)),r.push(Lt(t.s))),St(["0x02",ji(r)])}(this,r);case 3:return function(e,t,r){const i=[rn(e.chainId,"chainId"),rn(e.nonce,"nonce"),rn(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),rn(e.maxFeePerGas||0,"maxFeePerGas"),rn(e.gasLimit,"gasLimit"),e.to||hi,rn(e.value,"value"),e.data,nn(e.accessList||[]),rn(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),sn(e.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(i.push(rn(t.yParity,"yParity")),i.push(Lt(t.r)),i.push(Lt(t.s)),r)?St(["0x03",ji([i,r.map((e=>e.data)),r.map((e=>e.commitment)),r.map((e=>e.proof))])]):St(["0x03",ji(i)])}(this,r,t?this.blobs:null)}lt(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}BigInt(0);function xn(e){const t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=wt(e.data));const r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const n of r)n in e&&null!=e[n]&&(t[n]=kt(e[n],"request.".concat(n)));const i="type,nonce".split(/,/);for(const n of i)n in e&&null!=e[n]&&(t[n]=Tt(e[n],"request.".concat(n)));return e.accessList&&(t.accessList=Fi(e.accessList)),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map((e=>yt(e)?wt(e):Object.assign({},e)))),t}Symbol.iterator;Symbol.iterator;function An(e,t){if(e.provider)return e.provider;lt(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function Pn(e,t){let r=xn(t);if(null!=r.to&&(r.to=zr(r.to,e)),null!=r.from){const t=r.from;r.from=Promise.all([e.getAddress(),zr(t,e)]).then((e=>{let[t,r]=e;return ut(t.toLowerCase()===r.toLowerCase(),"transaction from mismatch","tx.from",r),t}))}else r.from=e.getAddress();return await st(r)}class kn{constructor(e){Re(this,"provider",void 0),ot(this,{provider:e||null})}async getNonce(e){return An(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Pn(this,e)}async populateTransaction(e){const t=An(this,"populateTransaction"),r=await Pn(this,e);null==r.nonce&&(r.nonce=await this.getNonce("pending")),null==r.gasLimit&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(null!=r.chainId){ut(kt(r.chainId)===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const n=null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas;if(null==r.gasPrice||2!==r.type&&!n?0!==r.type&&1!==r.type||!n||ut(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e):ut(!1,"eip-1559 transaction do not support gasPrice","tx",e),2!==r.type&&null!=r.type||null==r.maxFeePerGas||null==r.maxPriorityFeePerGas)if(0===r.type||1===r.type){const e=await t.getFeeData();lt(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==r.gasPrice&&(r.gasPrice=e.gasPrice)}else{const e=await t.getFeeData();if(null==r.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(r.type=2,null!=r.gasPrice){const e=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=e,r.maxPriorityFeePerGas=e}else null==r.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(lt(!n,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==r.gasPrice&&(r.gasPrice=e.gasPrice),r.type=0):lt(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else 2!==r.type&&3!==r.type||(null==r.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else r.type=2;return await st(r)}async estimateGas(e){return An(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return An(this,"call").call(await this.populateCall(e))}async resolveName(e){const t=An(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){const t=An(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=Mn.from(r);return await t.broadcastTransaction(await this.signTransaction(i))}}var On=new WeakSet;class Nn extends kn{constructor(e,t){super(t),Kr(this,On),Re(this,"address",void 0),ot(this,{address:e})}async getAddress(){return this.address}connect(e){return new Nn(this.address,e)}async signTransaction(e){w(On,this,Rn).call(this,"transactions","signTransaction")}async signMessage(e){w(On,this,Rn).call(this,"messages","signMessage")}async signTypedData(e,t,r){w(On,this,Rn).call(this,"typed-data","signTypedData")}}function Rn(e,t){lt(!1,"VoidSigner cannot sign ".concat(e),"UNSUPPORTED_OPERATION",{operation:t})}var Tn=new WeakMap;class Cn extends kn{constructor(e,t){super(t),Re(this,"address",void 0),v(this,Tn,void 0),ut(e&&"function"===typeof e.sign,"invalid private key","privateKey","[ REDACTED ]"),E(Tn,this,e);ot(this,{address:Ki(this.signingKey.publicKey)})}get signingKey(){return S(Tn,this)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(e){return new Cn(S(Tn,this),e)}async signTransaction(e){e=xn(e);const{to:t,from:r}=await st({to:e.to?zr(e.to,this.provider):void 0,from:e.from?zr(e.from,this.provider):void 0});null!=t&&(e.to=t),null!=r&&(e.from=r),null!=e.from&&(ut(Cr(e.from)===this.address,"transaction from address mismatch","tx.from",e.from),delete e.from);const i=Mn.from(e);return i.signature=this.signingKey.sign(i.unsignedHash),i.serialized}async signMessage(e){return this.signMessageSync(e)}signMessageSync(e){return this.signingKey.sign(Fr(e)).serialized}async signTypedData(e,t,r){const i=await li.resolveNames(e,t,r,(async e=>{lt(null!=this.provider,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:e}});const t=await this.provider.resolveName(e);return lt(null!=t,"unconfigured ENS name","UNCONFIGURED_NAME",{value:e}),t}));return this.signingKey.sign(li.hash(i.domain,t,i.value)).serialized}}let Ln=!1;const zn=function(e,t,r){return function(e,t){const r={sha256:J,sha512:wi}[e];return ut(null!=r,"invalid hmac algorithm","algorithm",e),ze.create(r,t)}(e,t).update(r).digest()};let Un=zn;function Dn(e,t,r){const i=gt(t,"key"),n=gt(r,"data");return wt(Un(e,i,n))}Dn._=zn,Dn.lock=function(){Ln=!0},Dn.register=function(e){if(Ln)throw new Error("computeHmac is locked");Un=e},Object.freeze(Dn);const qn=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),jn=Uint8Array.from({length:16},((e,t)=>t)),Bn=jn.map((e=>(9*e+5)%16));let Fn=[jn],Kn=[Bn];for(let r=0;r<4;r++)for(let e of[Fn,Kn])e.push(e[r].map((e=>qn[e])));const Vn=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),Hn=Fn.map(((e,t)=>e.map((e=>Vn[t][e])))),Wn=Kn.map(((e,t)=>e.map((e=>Vn[t][e])))),Gn=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Jn=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Yn=(e,t)=>e<<t|e>>>32-t;function Zn(e,t,r,i){return 0===e?t^r^i:1===e?t&r|~t&i:2===e?(t|~r)^i:3===e?t&i|r&~i:t^(r|~i)}const Xn=new Uint32Array(16);class $n extends B{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:r,h3:i,h4:n}=this;return[e,t,r,i,n]}set(e,t,r,i,n){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|i,this.h4=0|n}process(e,t){for(let d=0;d<16;d++,t+=4)Xn[d]=e.getUint32(t,!0);let r=0|this.h0,i=r,n=0|this.h1,s=n,o=0|this.h2,a=o,c=0|this.h3,l=c,u=0|this.h4,h=u;for(let d=0;d<5;d++){const e=4-d,t=Gn[d],f=Jn[d],p=Fn[d],g=Kn[d],b=Hn[d],m=Wn[d];for(let i=0;i<16;i++){const e=Yn(r+Zn(d,n,o,c)+Xn[p[i]]+t,b[i])+u|0;r=u,u=c,c=0|Yn(o,10),o=n,n=e}for(let r=0;r<16;r++){const t=Yn(i+Zn(e,s,a,l)+Xn[g[r]]+f,m[r])+h|0;i=h,h=l,l=0|Yn(a,10),a=s,s=t}}this.set(this.h1+o+l|0,this.h2+c+h|0,this.h3+u+i|0,this.h4+r+s|0,this.h0+n+a|0)}roundClean(){Xn.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const Qn=q((()=>new $n));let es=!1;const ts=function(e){return Qn(e)};let rs=ts;function is(e){const t=gt(e,"data");return wt(rs(t))}is._=ts,is.lock=function(){es=!0},is.register=function(e){if(es)throw new TypeError("ripemd160 is locked");rs=e},Object.freeze(is);let ns=!1;const ss=function(e){return new Uint8Array(function(e){lt(null!=Ei,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),ut(Number.isInteger(e)&&e>0&&e<=1024,"invalid length","length",e);const t=new Uint8Array(e);return Ei.getRandomValues(t),t}(e))};let os=ss;function as(e){return os(e)}as._=ss,as.lock=function(){ns=!0},as.register=function(e){if(ns)throw new Error("randomBytes is locked");os=e},Object.freeze(as);const cs="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let ls=null;function us(e){if(null==ls){ls={};for(let e=0;e<58;e++)ls[cs[e]]=BigInt(e)}const t=ls[e];return ut(null!=t,"invalid base58 value","letter",e),t}const hs=BigInt(0),ds=BigInt(58);const fs=" !#$%&'()*+,-./<=>?@[]^_`{|}~",ps=/^[a-z]*$/i;function gs(e,t){let r=97;return e.reduce(((e,i)=>(i===t?r++:i.match(ps)?e.push(String.fromCharCode(r)+i):(r=97,e.push(i)),e)),[])}function bs(e){return ut("0"===e[0],"unsupported auwl data","data",e),function(e,t){for(let n=28;n>=0;n--)e=e.split(fs[n]).join(t.substring(2*n,2*n+2));const r=[],i=e.replace(/(:|([0-9])|([A-Z][a-z]*))/g,((e,t,i,n)=>{if(i)for(let s=parseInt(i);s>=0;s--)r.push(";");else r.push(t.toLowerCase());return""}));if(i)throw new Error("leftovers: ".concat(JSON.stringify(i)));return gs(gs(r,";"),":")}(e.substring(59),e.substring(1,59))}class ms{constructor(e){Re(this,"locale",void 0),ot(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}var ys=new WeakMap,vs=new WeakMap,ws=new WeakMap,Ss=new WeakSet;class Es extends ms{constructor(e,t,r){super(e),Kr(this,Ss),v(this,ys,void 0),v(this,vs,void 0),v(this,ws,void 0),E(ys,this,t),E(vs,this,r),E(ws,this,null)}get _data(){return S(ys,this)}_decodeWords(){return bs(S(ys,this))}getWord(e){const t=w(Ss,this,_s).call(this);return ut(e>=0&&e<t.length,"invalid word index: ".concat(e),"index",e),t[e]}getWordIndex(e){return w(Ss,this,_s).call(this).indexOf(e)}}function _s(){if(null==S(ws,this)){const e=this._decodeWords();if(Vr(e.join("\n")+"\n")!==S(vs,this))throw new Error("BIP39 Wordlist for ".concat(this.locale," FAILED"));E(ws,this,e)}return S(ws,this)}let Ms=null;class Is extends Es{constructor(){super("en","0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO","0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60")}static wordlist(){return null==Ms&&(Ms=new Is),Ms}}let xs=!1;const As=function(e,t,r,i,n){return function(e,t,r,i,n){const s={sha256:J,sha512:wi}[n];return ut(null!=s,"invalid pbkdf2 algorithm","algorithm",n),pi(s,e,t,{c:r,dkLen:i})}(e,t,r,i,n)};let Ps=As;function ks(e,t,r,i,n){const s=gt(e,"password"),o=gt(t,"salt");return wt(Ps(s,o,r,i,n))}function Os(e){return(1<<e)-1<<8-e&255}function Ns(e,t){dt("NFKD"),null==t&&(t=Is.wordlist());const r=t.split(e);ut(r.length%3===0&&r.length>=12&&r.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const i=new Uint8Array(Math.ceil(11*r.length/8));let n=0;for(let a=0;a<r.length;a++){let e=t.getWordIndex(r[a].normalize("NFKD"));ut(e>=0,"invalid mnemonic word at index ".concat(a),"mnemonic","[ REDACTED ]");for(let t=0;t<11;t++)e&1<<10-t&&(i[n>>3]|=1<<7-n%8),n++}const s=32*r.length/3,o=Os(r.length/3);return ut((gt(Oi(i.slice(0,s/8)))[0]&o)===(i[i.length-1]&o),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),wt(i.slice(0,s/8))}function Rs(e,t){ut(e.length%4===0&&e.length>=16&&e.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),null==t&&(t=Is.wordlist());const r=[0];let i=11;for(let o=0;o<e.length;o++)i>8?(r[r.length-1]<<=8,r[r.length-1]|=e[o],i-=8):(r[r.length-1]<<=i,r[r.length-1]|=e[o]>>8-i,r.push(e[o]&((1<<8-i)-1&255)),i+=3);const n=e.length/4,s=parseInt(Oi(e).substring(2,4),16)&Os(n);return r[r.length-1]<<=n,r[r.length-1]|=s>>8-n,t.join(r.map((e=>t.getWord(e))))}ks._=As,ks.lock=function(){xs=!0},ks.register=function(e){if(xs)throw new Error("pbkdf2 is locked");Ps=e},Object.freeze(ks);const Ts={};class Cs{constructor(e,t,r,i,n){Re(this,"phrase",void 0),Re(this,"password",void 0),Re(this,"wordlist",void 0),Re(this,"entropy",void 0),null==i&&(i=""),null==n&&(n=Is.wordlist()),ft(e,Ts,"Mnemonic"),ot(this,{phrase:r,password:i,wordlist:n,entropy:t})}computeSeed(){const e=jr("mnemonic"+this.password,"NFKD");return ks(jr(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,r){const i=Ns(e,r);return e=Rs(gt(i),r),new Cs(Ts,i,e,t,r)}static fromEntropy(e,t,r){const i=gt(e,"entropy"),n=Rs(i,r);return new Cs(Ts,wt(i),n,t,r)}static entropyToPhrase(e,t){return Rs(gt(e,"entropy"),t)}static phraseToEntropy(e,t){return Ns(e,t)}static isValidMnemonic(e,t){try{return Ns(e,t),!0}catch(r){}return!1}}var Ls,zs,Us,Ds=function(e,t,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)},qs=function(e,t,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r};const js={16:10,24:12,32:14},Bs=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],Fs=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Ks=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Vs=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],Hs=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],Ws=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],Gs=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],Js=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],Ys=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],Zs=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],Xs=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],$s=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],Qs=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],eo=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],to=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function ro(e){const t=[];for(let r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}class io{get key(){return Ds(this,Ls,"f").slice()}constructor(e){if(Ls.set(this,void 0),zs.set(this,void 0),Us.set(this,void 0),!(this instanceof io))throw Error("AES must be instanitated with `new`");qs(this,Ls,new Uint8Array(e),"f");const t=js[this.key.length];if(null==t)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");qs(this,Us,[],"f"),qs(this,zs,[],"f");for(let l=0;l<=t;l++)Ds(this,Us,"f").push([0,0,0,0]),Ds(this,zs,"f").push([0,0,0,0]);const r=4*(t+1),i=this.key.length/4,n=ro(this.key);let s;for(let l=0;l<i;l++)s=l>>2,Ds(this,Us,"f")[s][l%4]=n[l],Ds(this,zs,"f")[t-s][l%4]=n[l];let o,a=0,c=i;for(;c<r;){if(o=n[i-1],n[0]^=Fs[o>>16&255]<<24^Fs[o>>8&255]<<16^Fs[255&o]<<8^Fs[o>>24&255]^Bs[a]<<24,a+=1,8!=i)for(let t=1;t<i;t++)n[t]^=n[t-1];else{for(let e=1;e<i/2;e++)n[e]^=n[e-1];o=n[i/2-1],n[i/2]^=Fs[255&o]^Fs[o>>8&255]<<8^Fs[o>>16&255]<<16^Fs[o>>24&255]<<24;for(let e=i/2+1;e<i;e++)n[e]^=n[e-1]}let e,s,l=0;for(;l<i&&c<r;)e=c>>2,s=c%4,Ds(this,Us,"f")[e][s]=n[l],Ds(this,zs,"f")[t-e][s]=n[l++],c++}for(let l=1;l<t;l++)for(let e=0;e<4;e++)o=Ds(this,zs,"f")[l][e],Ds(this,zs,"f")[l][e]=$s[o>>24&255]^Qs[o>>16&255]^eo[o>>8&255]^to[255&o]}encrypt(e){if(16!=e.length)throw new TypeError("invalid plaintext size (must be 16 bytes)");const t=Ds(this,Us,"f").length-1,r=[0,0,0,0];let i=ro(e);for(let o=0;o<4;o++)i[o]^=Ds(this,Us,"f")[0][o];for(let o=1;o<t;o++){for(let e=0;e<4;e++)r[e]=Vs[i[e]>>24&255]^Hs[i[(e+1)%4]>>16&255]^Ws[i[(e+2)%4]>>8&255]^Gs[255&i[(e+3)%4]]^Ds(this,Us,"f")[o][e];i=r.slice()}const n=new Uint8Array(16);let s=0;for(let o=0;o<4;o++)s=Ds(this,Us,"f")[t][o],n[4*o]=255&(Fs[i[o]>>24&255]^s>>24),n[4*o+1]=255&(Fs[i[(o+1)%4]>>16&255]^s>>16),n[4*o+2]=255&(Fs[i[(o+2)%4]>>8&255]^s>>8),n[4*o+3]=255&(Fs[255&i[(o+3)%4]]^s);return n}decrypt(e){if(16!=e.length)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const t=Ds(this,zs,"f").length-1,r=[0,0,0,0];let i=ro(e);for(let o=0;o<4;o++)i[o]^=Ds(this,zs,"f")[0][o];for(let o=1;o<t;o++){for(let e=0;e<4;e++)r[e]=Js[i[e]>>24&255]^Ys[i[(e+3)%4]>>16&255]^Zs[i[(e+2)%4]>>8&255]^Xs[255&i[(e+1)%4]]^Ds(this,zs,"f")[o][e];i=r.slice()}const n=new Uint8Array(16);let s=0;for(let o=0;o<4;o++)s=Ds(this,zs,"f")[t][o],n[4*o]=255&(Ks[i[o]>>24&255]^s>>24),n[4*o+1]=255&(Ks[i[(o+3)%4]>>16&255]^s>>16),n[4*o+2]=255&(Ks[i[(o+2)%4]>>8&255]^s>>8),n[4*o+3]=255&(Ks[255&i[(o+1)%4]]^s);return n}}Ls=new WeakMap,zs=new WeakMap,Us=new WeakMap;class no{constructor(e,t,r){if(r&&!(this instanceof r))throw new Error("".concat(e,' must be instantiated with "new"'));Object.defineProperties(this,{aes:{enumerable:!0,value:new io(t)},name:{enumerable:!0,value:e}})}}var so,oo,ao=function(e,t,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r},co=function(e,t,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)};class lo extends no{constructor(e,t){if(super("ECC",e,lo),so.set(this,void 0),oo.set(this,void 0),t){if(t.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");ao(this,so,new Uint8Array(t),"f")}else ao(this,so,new Uint8Array(16),"f");ao(this,oo,this.iv,"f")}get iv(){return new Uint8Array(co(this,so,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){for(let t=0;t<16;t++)co(this,oo,"f")[t]^=e[r+t];ao(this,oo,this.aes.encrypt(co(this,oo,"f")),"f"),t.set(co(this,oo,"f"),r)}return t}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){const i=this.aes.decrypt(e.subarray(r,r+16));for(let n=0;n<16;n++)t[r+n]=i[n]^co(this,oo,"f")[n],co(this,oo,"f")[n]=e[r+n]}return t}}so=new WeakMap,oo=new WeakMap;var uo,ho=function(e,t,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)};new WeakMap,uo=new WeakMap,new WeakSet;var fo,po,go,bo=function(e,t,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r},mo=function(e,t,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)};class yo extends no{constructor(e,t){super("CTR",e,yo),fo.set(this,void 0),po.set(this,void 0),go.set(this,void 0),bo(this,go,new Uint8Array(16),"f"),mo(this,go,"f").fill(0),bo(this,fo,mo(this,go,"f"),"f"),bo(this,po,16,"f"),null==t&&(t=1),"number"===typeof t?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(mo(this,go,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)mo(this,go,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(16!==e.length)throw new TypeError("invalid counter initial Uint8Array value length");mo(this,go,"f").set(e)}increment(){for(let e=15;e>=0;e--){if(255!==mo(this,go,"f")[e]){mo(this,go,"f")[e]++;break}mo(this,go,"f")[e]=0}}encrypt(e){var t,r;const i=new Uint8Array(e);for(let n=0;n<i.length;n++)16===mo(this,po,"f")&&(bo(this,fo,this.aes.encrypt(mo(this,go,"f")),"f"),bo(this,po,0,"f"),this.increment()),i[n]^=mo(this,fo,"f")[(bo(this,po,(r=mo(this,po,"f"),t=r++,r),"f"),t)];return i}decrypt(e){return this.encrypt(e)}}fo=new WeakMap,po=new WeakMap,go=new WeakMap;new WeakMap,new WeakMap,new WeakMap;const vo=(e,t)=>e<<t|e>>>32-t;function wo(e,t,r,i,n,s){let o=e[t++]^r[i++],a=e[t++]^r[i++],c=e[t++]^r[i++],l=e[t++]^r[i++],u=e[t++]^r[i++],h=e[t++]^r[i++],d=e[t++]^r[i++],f=e[t++]^r[i++],p=e[t++]^r[i++],g=e[t++]^r[i++],b=e[t++]^r[i++],m=e[t++]^r[i++],y=e[t++]^r[i++],v=e[t++]^r[i++],w=e[t++]^r[i++],S=e[t++]^r[i++],E=o,_=a,M=c,I=l,x=u,A=h,P=d,k=f,O=p,N=g,R=b,T=m,C=y,L=v,z=w,U=S;for(let D=0;D<8;D+=2)x^=vo(E+C|0,7),O^=vo(x+E|0,9),C^=vo(O+x|0,13),E^=vo(C+O|0,18),N^=vo(A+_|0,7),L^=vo(N+A|0,9),_^=vo(L+N|0,13),A^=vo(_+L|0,18),z^=vo(R+P|0,7),M^=vo(z+R|0,9),P^=vo(M+z|0,13),R^=vo(P+M|0,18),I^=vo(U+T|0,7),k^=vo(I+U|0,9),T^=vo(k+I|0,13),U^=vo(T+k|0,18),_^=vo(E+I|0,7),M^=vo(_+E|0,9),I^=vo(M+_|0,13),E^=vo(I+M|0,18),P^=vo(A+x|0,7),k^=vo(P+A|0,9),x^=vo(k+P|0,13),A^=vo(x+k|0,18),T^=vo(R+N|0,7),O^=vo(T+R|0,9),N^=vo(O+T|0,13),R^=vo(N+O|0,18),C^=vo(U+z|0,7),L^=vo(C+U|0,9),z^=vo(L+C|0,13),U^=vo(z+L|0,18);n[s++]=o+E|0,n[s++]=a+_|0,n[s++]=c+M|0,n[s++]=l+I|0,n[s++]=u+x|0,n[s++]=h+A|0,n[s++]=d+P|0,n[s++]=f+k|0,n[s++]=p+O|0,n[s++]=g+N|0,n[s++]=b+R|0,n[s++]=m+T|0,n[s++]=y+C|0,n[s++]=v+L|0,n[s++]=w+z|0,n[s++]=S+U|0}function So(e,t,r,i,n){let s=i+0,o=i+16*n;for(let a=0;a<16;a++)r[o+a]=e[t+16*(2*n-1)+a];for(let a=0;a<n;a++,s+=16,t+=16)wo(r,o,e,t,r,s),a>0&&(o+=16),wo(r,s,e,t+=16,r,o)}function Eo(e,t,r){const i=D({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:n,r:s,p:o,dkLen:a,asyncTick:c,maxmem:l,onProgress:u}=i;if(_(n),_(s),_(o),_(a),_(c),_(l),void 0!==u&&"function"!==typeof u)throw new Error("progressCb should be function");const h=128*s,d=h/4;if(n<=1||0!==(n&n-1)||n>=2**(h/8)||n>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||o>137438953440/h)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>137438953440)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const f=h*(n+o);if(f>l)throw new Error("Scrypt: parameters too large, ".concat(f," (128 * r * (N + p)) > ").concat(l," (maxmem)"));const p=pi(J,e,t,{c:1,dkLen:h*o}),g=O(p),b=O(new Uint8Array(h*n)),m=O(new Uint8Array(h));let y=()=>{};if(u){const e=2*n*o,t=Math.max(Math.floor(e/1e4),1);let r=0;y=()=>{r++,!u||r%t&&r!==e||u(r/e)}}return{N:n,r:s,p:o,dkLen:a,blockSize32:d,V:b,B32:g,B:p,tmp:m,blockMixCb:y,asyncTick:c}}function _o(e,t,r,i,n){const s=pi(J,e,r,{c:1,dkLen:t});return r.fill(0),i.fill(0),n.fill(0),s}let Mo=!1,Io=!1;const xo=async function(e,t,r,i,n,s,o){return await async function(e,t,r){const{N:i,r:n,p:s,dkLen:o,blockSize32:a,V:c,B32:l,B:u,tmp:h,blockMixCb:d,asyncTick:f}=Eo(e,t,r);for(let p=0;p<s;p++){const e=a*p;for(let r=0;r<a;r++)c[r]=l[e+r];let t=0;await C(i-1,f,(()=>{So(c,t,c,t+=a,n),d()})),So(c,(i-1)*a,l,e,n),d(),await C(i,f,(()=>{const t=l[e+a-16]%i;for(let r=0;r<a;r++)h[r]=l[e+r]^c[t*a+r];So(h,0,l,e,n),d()}))}return _o(e,o,u,c,h)}(e,t,{N:r,r:i,p:n,dkLen:s,onProgress:o})},Ao=function(e,t,r,i,n,s){return function(e,t,r){const{N:i,r:n,p:s,dkLen:o,blockSize32:a,V:c,B32:l,B:u,tmp:h,blockMixCb:d}=Eo(e,t,r);for(let f=0;f<s;f++){const e=a*f;for(let t=0;t<a;t++)c[t]=l[e+t];for(let t=0,r=0;t<i-1;t++)So(c,r,c,r+=a,n),d();So(c,(i-1)*a,l,e,n),d();for(let t=0;t<i;t++){const t=l[e+a-16]%i;for(let r=0;r<a;r++)h[r]=l[e+r]^c[t*a+r];So(h,0,l,e,n),d()}}return _o(e,o,u,c,h)}(e,t,{N:r,r:i,p:n,dkLen:s})};let Po=xo,ko=Ao;async function Oo(e,t,r,i,n,s,o){const a=gt(e,"passwd"),c=gt(t,"salt");return wt(await Po(a,c,r,i,n,s,o))}function No(e,t,r,i,n,s){const o=gt(e,"passwd"),a=gt(t,"salt");return wt(ko(o,a,r,i,n,s))}function Ro(e){const t=gt(e,"randomBytes");t[6]=15&t[6]|64,t[8]=63&t[8]|128;const r=wt(t);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}function To(e){return"string"!==typeof e||e.startsWith("0x")||(e="0x"+e),bt(e)}function Co(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function Lo(e){return"string"===typeof e?jr(e,"NFKC"):bt(e)}function zo(e,t){const r=t.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);ut(null!=r,"invalid path","path",t);const i=r[1],n=r[3],s="!"===r[4];let o=e;for(const a of i.toLowerCase().split(".")){if(Array.isArray(o)){if(!a.match(/^[0-9]+$/))break;o=o[parseInt(a)]}else if("object"===typeof o){let e=null;for(const t in o)if(t.toLowerCase()===a){e=o[t];break}o=e}else o=null;if(null==o)break}if(ut(!s||null!=o,"missing required value","path",i),n&&null!=o){if("int"===n){if("string"===typeof o&&o.match(/^-?[0-9]+$/))return parseInt(o);if(Number.isSafeInteger(o))return o}if("number"===n&&"string"===typeof o&&o.match(/^-?[0-9.]*$/))return parseFloat(o);if("data"===n&&"string"===typeof o)return To(o);if("array"===n&&Array.isArray(o))return o;if(n===typeof o)return o;ut(!1,"wrong type found for ".concat(n," "),"path",i)}return o}Oo._=xo,Oo.lock=function(){Io=!0},Oo.register=function(e){if(Io)throw new Error("scrypt is locked");Po=e},Object.freeze(Oo),No._=Ao,No.lock=function(){Mo=!0},No.register=function(e){if(Mo)throw new Error("scryptSync is locked");ko=e},Object.freeze(No);const Uo="m/44'/60'/0'/0/0";function Do(e){try{const t=JSON.parse(e);if(3===(null!=t.version?parseInt(t.version):0))return!0}catch(t){}return!1}function qo(e,t){const r=gt(t),i=zo(e,"crypto.ciphertext:data!");ut(wt(Ar(St([r.slice(16,32),i]))).substring(2)===zo(e,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const n=function(e,t,r){if("aes-128-ctr"===zo(e,"crypto.cipher:string")){const i=zo(e,"crypto.cipherparams.iv:data!");return wt(new yo(t,i).decrypt(r))}lt(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}(e,r.slice(0,16),i),s=Ki(n);if(e.address){let t=e.address.toLowerCase();t.startsWith("0x")||(t="0x"+t),ut(Cr(t)===s,"keystore address/privateKey mismatch","address",e.address)}const o={address:s,privateKey:n};if("0.1"===zo(e,"x-ethers.version:string")){const t=r.slice(32,64),i=zo(e,"x-ethers.mnemonicCiphertext:data!"),n=zo(e,"x-ethers.mnemonicCounter:data!"),s=new yo(t,n);o.mnemonic={path:zo(e,"x-ethers.path:string")||Uo,locale:zo(e,"x-ethers.locale:string")||"en",entropy:wt(gt(s.decrypt(i)))}}return o}function jo(e){const t=zo(e,"crypto.kdf:string");if(t&&"string"===typeof t){if("scrypt"===t.toLowerCase()){const r=zo(e,"crypto.kdfparams.salt:data!"),i=zo(e,"crypto.kdfparams.n:int!"),n=zo(e,"crypto.kdfparams.r:int!"),s=zo(e,"crypto.kdfparams.p:int!");ut(i>0&&0===(i&i-1),"invalid kdf.N","kdf.N",i),ut(n>0&&s>0,"invalid kdf","kdf",t);const o=zo(e,"crypto.kdfparams.dklen:int!");return ut(32===o,"invalid kdf.dklen","kdf.dflen",o),{name:"scrypt",salt:r,N:i,r:n,p:s,dkLen:64}}if("pbkdf2"===t.toLowerCase()){const t=zo(e,"crypto.kdfparams.salt:data!"),r=zo(e,"crypto.kdfparams.prf:string!"),i=r.split("-").pop();ut("sha256"===i||"sha512"===i,"invalid kdf.pdf","kdf.pdf",r);const n=zo(e,"crypto.kdfparams.c:int!"),s=zo(e,"crypto.kdfparams.dklen:int!");return ut(32===s,"invalid kdf.dklen","kdf.dklen",s),{name:"pbkdf2",salt:t,count:n,dkLen:s,algorithm:i}}}ut(!1,"unsupported key-derivation function","kdf",t)}function Bo(e){return new Promise((t=>{setTimeout((()=>{t()}),e)}))}function Fo(e){const t=null!=e.salt?gt(e.salt,"options.salt"):as(32);let r=1<<17,i=8,n=1;return e.scrypt&&(e.scrypt.N&&(r=e.scrypt.N),e.scrypt.r&&(i=e.scrypt.r),e.scrypt.p&&(n=e.scrypt.p)),ut("number"===typeof r&&r>0&&Number.isSafeInteger(r)&&(BigInt(r)&BigInt(r-1))===BigInt(0),"invalid scrypt N parameter","options.N",r),ut("number"===typeof i&&i>0&&Number.isSafeInteger(i),"invalid scrypt r parameter","options.r",i),ut("number"===typeof n&&n>0&&Number.isSafeInteger(n),"invalid scrypt p parameter","options.p",n),{name:"scrypt",dkLen:32,salt:t,N:r,r:i,p:n}}function Ko(e,t,r,i){const n=gt(r.privateKey,"privateKey"),s=null!=i.iv?gt(i.iv,"options.iv"):as(16);ut(16===s.length,"invalid options.iv length","options.iv",i.iv);const o=null!=i.uuid?gt(i.uuid,"options.uuid"):as(16);ut(16===o.length,"invalid options.uuid length","options.uuid",i.iv);const a=e.slice(0,16),c=e.slice(16,32),l=gt(new yo(a,s).encrypt(n)),u=Ar(St([c,l])),h={address:r.address.substring(2).toLowerCase(),id:Ro(o),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:wt(s).substring(2)},ciphertext:wt(l).substring(2),kdf:"scrypt",kdfparams:{salt:wt(t.salt).substring(2),n:t.N,dklen:32,p:t.p,r:t.r},mac:u.substring(2)}};if(r.mnemonic){const t=null!=i.client?i.client:"ethers/".concat(it),n=r.mnemonic.path||Uo,s=r.mnemonic.locale||"en",o=e.slice(32,64),a=gt(r.mnemonic.entropy,"account.mnemonic.entropy"),c=as(16),l=gt(new yo(o,c).encrypt(a)),u=new Date,d="UTC--"+(u.getUTCFullYear()+"-"+Co(u.getUTCMonth()+1,2)+"-"+Co(u.getUTCDate(),2)+"T"+Co(u.getUTCHours(),2)+"-"+Co(u.getUTCMinutes(),2)+"-"+Co(u.getUTCSeconds(),2)+".0Z")+"--"+h.address;h["x-ethers"]={client:t,gethFilename:d,path:n,locale:s,mnemonicCounter:wt(c).substring(2),mnemonicCiphertext:wt(l).substring(2),version:"0.1"}}return JSON.stringify(h)}function Vo(e,t,r){null==r&&(r={});const i=Lo(t),n=Fo(r);return Ko(gt(No(i,n.salt,n.N,n.r,n.p,64)),n,e,r)}async function Ho(e,t,r){null==r&&(r={});const i=Lo(t),n=Fo(r);return Ko(gt(await Oo(i,n.salt,n.N,n.r,n.p,64,r.progressCallback)),n,e,r)}var Wo;const Go="m/44'/60'/0'/0/0",Jo=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),Yo=2147483648,Zo=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");function Xo(e,t){let r="";for(;e;)r="0123456789abcdef"[e%16]+r,e=Math.trunc(e/16);for(;r.length<2*t;)r="0"+r;return"0x"+r}function $o(e){const t=gt(e);return function(e){const t=gt(e);let r=Rt(t),i="";for(;r;)i=cs[Number(r%ds)]+i,r/=ds;for(let n=0;n<t.length&&!t[n];n++)i=cs[0]+i;return i}(St([t,_t(Oi(Oi(t)),0,4)]))}const Qo={};function ea(e,t,r,i){const n=new Uint8Array(37);e&Yo?(lt(null!=i,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),n.set(gt(i),1)):n.set(gt(r));for(let o=24;o>=0;o-=8)n[33+(o>>3)]=e>>24-o&255;const s=gt(Dn("sha512",t,n));return{IL:s.slice(0,32),IR:s.slice(32)}}function ta(e,t){const r=t.split("/");ut(r.length>0,"invalid path","path",t),"m"===r[0]&&(ut(0===e.depth,'cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth '.concat(e.depth),"path",t),r.shift());let i=e;for(let n=0;n<r.length;n++){const e=r[n];if(e.match(/^[0-9]+'$/)){const t=parseInt(e.substring(0,e.length-1));ut(t<Yo,"invalid path index","path[".concat(n,"]"),e),i=i.deriveChild(Yo+t)}else if(e.match(/^[0-9]+$/)){const t=parseInt(e);ut(t<Yo,"invalid path index","path[".concat(n,"]"),e),i=i.deriveChild(t)}else ut(!1,"invalid path component","path[".concat(n,"]"),e)}return i}var ra,ia=new WeakSet;class na extends Cn{constructor(e,t,r,i,n,s,o,a,c){super(t,c),Kr(this,ia),Re(this,"publicKey",void 0),Re(this,"fingerprint",void 0),Re(this,"parentFingerprint",void 0),Re(this,"mnemonic",void 0),Re(this,"chainCode",void 0),Re(this,"path",void 0),Re(this,"index",void 0),Re(this,"depth",void 0),ft(e,Qo,"HDNodeWallet"),ot(this,{publicKey:t.compressedPublicKey});ot(this,{parentFingerprint:r,fingerprint:_t(is(Oi(this.publicKey)),0,4),chainCode:i,path:n,index:s,depth:o}),ot(this,{mnemonic:a})}connect(e){return new na(Qo,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,e)}async encrypt(e,t){return await Ho(w(ia,this,sa).call(this),e,{progressCallback:t})}encryptSync(e){return Vo(w(ia,this,sa).call(this),e)}get extendedKey(){return lt(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),$o(St(["0x0488ADE4",Xo(this.depth,1),this.parentFingerprint,Xo(this.index,4),this.chainCode,St(["0x00",this.privateKey])]))}hasPath(){return null!=this.path}neuter(){return new aa(Qo,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(e){const t=Tt(e,"index");ut(t<=4294967295,"invalid index","index",t);let r=this.path;r&&(r+="/"+(2147483647&t),t&Yo&&(r+="'"));const{IR:i,IL:n}=ea(t,this.chainCode,this.publicKey,this.privateKey),s=new Xt(Ct((Rt(n)+BigInt(this.privateKey))%Zo,32));return new na(Qo,s,this.fingerprint,wt(i),r,t,this.depth+1,this.mnemonic,this.provider)}derivePath(e){return ta(this,e)}static fromExtendedKey(e){const t=Lt(function(e){let t=hs;for(let r=0;r<e.length;r++)t*=ds,t+=us(e[r]);return t}(e));ut(82===t.length||$o(t.slice(0,78))===e,"invalid extended key","extendedKey","[ REDACTED ]");const r=t[4],i=wt(t.slice(5,9)),n=parseInt(wt(t.slice(9,13)).substring(2),16),s=wt(t.slice(13,45)),o=t.slice(45,78);switch(wt(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const e=wt(o);return new aa(Qo,Ki(e),e,i,s,null,n,r,null)}case"0x0488ade4":case"0x04358394 ":if(0!==o[0])break;return new na(Qo,new Xt(o.slice(1)),i,s,null,n,r,null,null)}ut(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(e,t,r){null==e&&(e=""),null==t&&(t=Go),null==r&&(r=Is.wordlist());const i=Cs.fromEntropy(as(16),e,r);return oa.call(na,i.computeSeed(),i).derivePath(t)}static fromMnemonic(e,t){return t||(t=Go),oa.call(na,e.computeSeed(),e).derivePath(t)}static fromPhrase(e,t,r,i){null==t&&(t=""),null==r&&(r=Go),null==i&&(i=Is.wordlist());const n=Cs.fromPhrase(e,t,i);return oa.call(na,n.computeSeed(),n).derivePath(r)}static fromSeed(e){return oa.call(na,e,null)}}function sa(){const e={address:this.address,privateKey:this.privateKey},t=this.mnemonic;return this.path&&t&&"en"===t.wordlist.locale&&""===t.password&&(e.mnemonic={path:this.path,locale:"en",entropy:t.entropy}),e}function oa(e,t){ut(yt(e),"invalid seed","seed","[REDACTED]");const r=gt(e,"seed");ut(r.length>=16&&r.length<=64,"invalid seed","seed","[REDACTED]");const i=gt(Dn("sha512",Jo,r)),n=new Xt(wt(i.slice(0,32)));return new Wo(Qo,n,"0x00000000",wt(i.slice(32)),"m",0,0,t,null)}Wo=na;class aa extends Nn{constructor(e,t,r,i,n,s,o,a,c){super(t,c),Re(this,"publicKey",void 0),Re(this,"fingerprint",void 0),Re(this,"parentFingerprint",void 0),Re(this,"chainCode",void 0),Re(this,"path",void 0),Re(this,"index",void 0),Re(this,"depth",void 0),ft(e,Qo,"HDNodeVoidWallet"),ot(this,{publicKey:r});ot(this,{publicKey:r,fingerprint:_t(is(Oi(r)),0,4),parentFingerprint:i,chainCode:n,path:s,index:o,depth:a})}connect(e){return new aa(Qo,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,e)}get extendedKey(){return lt(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),$o(St(["0x0488B21E",Xo(this.depth,1),this.parentFingerprint,Xo(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return null!=this.path}deriveChild(e){const t=Tt(e,"index");ut(t<=4294967295,"invalid index","index",t);let r=this.path;r&&(r+="/"+(2147483647&t),t&Yo&&(r+="'"));const{IR:i,IL:n}=ea(t,this.chainCode,this.publicKey,null),s=Xt.addPoints(n,this.publicKey,!0),o=Ki(s);return new aa(Qo,o,s,this.fingerprint,wt(i),r,t,this.depth+1,this.provider)}derivePath(e){return ta(this,e)}}function ca(e){try{if(JSON.parse(e).encseed)return!0}catch(t){}return!1}function la(e,t){const r=JSON.parse(e),i=Lo(t),n=Cr(zo(r,"ethaddr:string!")),s=To(zo(r,"encseed:string!"));ut(s&&s.length%16===0,"invalid encseed","json",e);const o=gt(ks(i,i,2e3,32,"sha256")).slice(0,16),a=s.slice(0,16),c=s.slice(16),l=function(e){if(e.length<16)throw new TypeError("PKCS#7 invalid length");const t=e[e.length-1];if(t>16)throw new TypeError("PKCS#7 padding byte out of range");const r=e.length-t;for(let i=0;i<t;i++)if(e[r+i]!==t)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(e.subarray(0,r))}(gt(new lo(o,a).decrypt(c)));let u="";for(let h=0;h<l.length;h++)u+=String.fromCharCode(l[h]);return{address:n,privateKey:Vr(u)}}function ua(e){return new Promise((t=>{setTimeout((()=>{t()}),e)}))}class ha extends Cn{constructor(e,t){"string"!==typeof e||e.startsWith("0x")||(e="0x"+e),super("string"===typeof e?new Xt(e):e,t)}connect(e){return new ha(this.signingKey,e)}async encrypt(e,t){const r={address:this.address,privateKey:this.privateKey};return await Ho(r,e,{progressCallback:t})}encryptSync(e){return Vo({address:this.address,privateKey:this.privateKey},e)}static async fromEncryptedJson(e,t,r){let i=null;return Do(e)?i=await async function(e,t,r){const i=JSON.parse(e),n=Lo(t),s=jo(i);if("pbkdf2"===s.name){r&&(r(0),await Bo(0));const{salt:e,count:t,dkLen:o,algorithm:a}=s,c=ks(n,e,t,o,a);return r&&(r(1),await Bo(0)),qo(i,c)}lt("scrypt"===s.name,"cannot be reached","UNKNOWN_ERROR",{params:s});const{salt:o,N:a,r:c,p:l,dkLen:u}=s;return qo(i,await Oo(n,o,a,c,l,u,r))}(e,t,r):ca(e)&&(r&&(r(0),await ua(0)),i=la(e,t),r&&(r(1),await ua(0))),da.call(ha,i)}static fromEncryptedJsonSync(e,t){let r=null;return Do(e)?r=function(e,t){const r=JSON.parse(e),i=Lo(t),n=jo(r);if("pbkdf2"===n.name){const{salt:e,count:t,dkLen:s,algorithm:o}=n;return qo(r,ks(i,e,t,s,o))}lt("scrypt"===n.name,"cannot be reached","UNKNOWN_ERROR",{params:n});const{salt:s,N:o,r:a,p:c,dkLen:l}=n;return qo(r,No(i,s,o,a,c,l))}(e,t):ca(e)?r=la(e,t):ut(!1,"invalid JSON wallet","json","[ REDACTED ]"),da.call(ha,r)}static createRandom(e){const t=na.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){const r=na.fromPhrase(e);return t?r.connect(t):r}}function da(e){if(ut(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&"en"===e.mnemonic.locale){const t=Cs.fromEntropy(e.mnemonic.entropy),r=na.fromMnemonic(t,e.mnemonic.path);if(r.address===e.address&&r.privateKey===e.privateKey)return r;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}const t=new ra(e.privateKey);return ut(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t}ra=ha;var fa=r(7284),pa=r.n(fa),ga=r(3901);class ba{}class ma extends ba{constructor(e){super()}}const ya=ga.FIVE_SECONDS,va="heartbeat_pulse";class wa extends ma{constructor(e){super(e),this.events=new fa.EventEmitter,this.interval=ya,this.interval=(null===e||void 0===e?void 0:e.interval)||ya}static async init(e){const t=new wa(e);return await t.init(),t}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval((()=>this.pulse()),(0,ga.toMiliseconds)(this.interval))}pulse(){this.events.emit(va)}}const Sa=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Ea=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,_a=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Ma(e,t){if(!("__proto__"===e||"constructor"===e&&t&&"object"===typeof t&&"prototype"in t))return t;!function(e){console.warn('[destr] Dropping "'.concat(e,'" key to prevent prototype pollution.'))}(e)}function Ia(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!==typeof e)return e;const r=e.trim();if('"'===e[0]&&e.endsWith('"')&&!e.includes("\\"))return r.slice(1,-1);if(r.length<=9){const e=r.toLowerCase();if("true"===e)return!0;if("false"===e)return!1;if("undefined"===e)return;if("null"===e)return null;if("nan"===e)return Number.NaN;if("infinity"===e)return Number.POSITIVE_INFINITY;if("-infinity"===e)return Number.NEGATIVE_INFINITY}if(!_a.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(Sa.test(e)||Ea.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,Ma)}return JSON.parse(e)}catch(i){if(t.strict)throw i;return e}}function xa(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return(n=e(...r))&&"function"===typeof n.then?n:Promise.resolve(n)}catch(s){return Promise.reject(s)}var n}function Aa(e){if(function(e){const t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"===typeof e.toJSON)return Aa(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const Pa="base64:";function ka(e){return"string"===typeof e?e:Pa+function(e){if(globalThis.Buffer)return Buffer.from(e).toString("base64");return globalThis.btoa(String.fromCodePoint(...e))}(e)}function Oa(e){return"string"!==typeof e?e:e.startsWith(Pa)?function(e){if(globalThis.Buffer)return Buffer.from(e,"base64");return Uint8Array.from(globalThis.atob(e),(e=>e.codePointAt(0)))}(e.slice(7)):e}function Na(e){var t;return e&&(null===(t=e.split("?")[0])||void 0===t?void 0:t.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function Ra(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Na(t.join(":"))}function Ta(e){return(e=Na(e))?e+":":""}const Ca=()=>{const e=new Map;return{name:"memory",getInstance:()=>e,hasItem:t=>e.has(t),getItem(t){var r;return null!==(r=e.get(t))&&void 0!==r?r:null},getItemRaw(t){var r;return null!==(r=e.get(t))&&void 0!==r?r:null},setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys:()=>[...e.keys()],clear(){e.clear()},dispose(){e.clear()}}};function La(){const e={mounts:{"":(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).driver||Ca()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},t=t=>{for(const r of e.mountpoints)if(t.startsWith(r))return{base:r,relativeKey:t.slice(r.length),driver:e.mounts[r]};return{base:"",relativeKey:t,driver:e.mounts[""]}},r=(t,r)=>e.mountpoints.filter((e=>e.startsWith(t)||r&&t.startsWith(e))).map((r=>({relativeBase:t.length>r.length?t.slice(r.length):void 0,mountpoint:r,driver:e.mounts[r]}))),i=(t,r)=>{if(e.watching){r=Na(r);for(const i of e.watchListeners)i(t,r)}},n=async()=>{if(e.watching){for(const t in e.unwatch)await e.unwatch[t]();e.unwatch={},e.watching=!1}},s=(e,r,i)=>{const n=new Map,s=e=>{let t=n.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},n.set(e.base,t)),t};for(const o of e){const e="string"===typeof o,i=Na(e?o:o.key),n=e?void 0:o.value,a=e||!o.options?r:Ce(Ce({},r),o.options),c=t(i);s(c).items.push({key:i,value:n,relativeKey:c.relativeKey,options:a})}return Promise.all([...n.values()].map((e=>i(e)))).then((e=>e.flat()))},o={hasItem(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Na(e);const{relativeKey:i,driver:n}=t(e);return xa(n.hasItem,i,r)},getItem(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Na(e);const{relativeKey:i,driver:n}=t(e);return xa(n.getItem,i,r).then((e=>Ia(e)))},getItems(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(e,t,(e=>e.driver.getItems?xa(e.driver.getItems,e.items.map((e=>({key:e.relativeKey,options:e.options}))),t).then((t=>t.map((t=>({key:Ra(e.base,t.key),value:Ia(t.value)}))))):Promise.all(e.items.map((t=>xa(e.driver.getItem,t.relativeKey,t.options).then((e=>({key:t.key,value:Ia(e)}))))))))},getItemRaw(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Na(e);const{relativeKey:i,driver:n}=t(e);return n.getItemRaw?xa(n.getItemRaw,i,r):xa(n.getItem,i,r).then((e=>Oa(e)))},async setItem(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===r)return o.removeItem(e);e=Na(e);const{relativeKey:s,driver:a}=t(e);a.setItem&&(await xa(a.setItem,s,Aa(r),n),a.watch||i("update",e))},async setItems(e,t){await s(e,t,(async e=>{if(e.driver.setItems)return xa(e.driver.setItems,e.items.map((e=>({key:e.relativeKey,value:Aa(e.value),options:e.options}))),t);e.driver.setItem&&await Promise.all(e.items.map((t=>xa(e.driver.setItem,t.relativeKey,Aa(t.value),t.options))))}))},async setItemRaw(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===r)return o.removeItem(e,n);e=Na(e);const{relativeKey:s,driver:a}=t(e);if(a.setItemRaw)await xa(a.setItemRaw,s,r,n);else{if(!a.setItem)return;await xa(a.setItem,s,ka(r),n)}a.watch||i("update",e)},async removeItem(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"===typeof r&&(r={removeMeta:r}),e=Na(e);const{relativeKey:n,driver:s}=t(e);s.removeItem&&(await xa(s.removeItem,n,r),(r.removeMeta||r.removeMata)&&await xa(s.removeItem,n+"$",r),s.watch||i("remove",e))},async getMeta(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"===typeof r&&(r={nativeOnly:r}),e=Na(e);const{relativeKey:i,driver:n}=t(e),s=Object.create(null);if(n.getMeta&&Object.assign(s,await xa(n.getMeta,i,r)),!r.nativeOnly){const e=await xa(n.getItem,i+"$",r).then((e=>Ia(e)));e&&"object"===typeof e&&("string"===typeof e.atime&&(e.atime=new Date(e.atime)),"string"===typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(s,e))}return s},setMeta(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.setItem(e+"$",t,r)},removeMeta(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.removeItem(e+"$",t)},async getKeys(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Ta(e);const i=r(e,!0);let n=[];const s=[];for(const r of i){const e=await xa(r.driver.getKeys,r.relativeBase,t);for(const t of e){const e=r.mountpoint+Na(t);n.some((t=>e.startsWith(t)))||s.push(e)}n=[r.mountpoint,...n.filter((e=>!e.startsWith(r.mountpoint)))]}return e?s.filter((t=>t.startsWith(e)&&"$"!==t[t.length-1])):s.filter((e=>"$"!==e[e.length-1]))},async clear(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Ta(e),await Promise.all(r(e,!1).map((async e=>{if(e.driver.clear)return xa(e.driver.clear,e.relativeBase,t);if(e.driver.removeItem){const r=await e.driver.getKeys(e.relativeBase||"",t);return Promise.all(r.map((r=>e.driver.removeItem(r,t))))}})))},async dispose(){await Promise.all(Object.values(e.mounts).map((e=>Ua(e))))},watch:async t=>(await(async()=>{if(!e.watching){e.watching=!0;for(const t in e.mounts)e.unwatch[t]=await za(e.mounts[t],i,t)}})(),e.watchListeners.push(t),async()=>{e.watchListeners=e.watchListeners.filter((e=>e!==t)),0===e.watchListeners.length&&await n()}),async unwatch(){e.watchListeners=[],await n()},mount(t,r){if((t=Ta(t))&&e.mounts[t])throw new Error("already mounted at ".concat(t));return t&&(e.mountpoints.push(t),e.mountpoints.sort(((e,t)=>t.length-e.length))),e.mounts[t]=r,e.watching&&Promise.resolve(za(r,i,t)).then((r=>{e.unwatch[t]=r})).catch(console.error),o},async unmount(t){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((t=Ta(t))&&e.mounts[t]){var i,n;if(e.watching&&t in e.unwatch)null===(i=(n=e.unwatch)[t])||void 0===i||i.call(n),delete e.unwatch[t];r&&await Ua(e.mounts[t]),e.mountpoints=e.mountpoints.filter((e=>e!==t)),delete e.mounts[t]}},getMount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e=Na(e)+":";const r=t(e);return{driver:r.driver,base:r.base}},getMounts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Na(e);return r(e,t.parents).map((e=>({driver:e.driver,base:e.mountpoint})))},keys:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.getKeys(e,t)},get:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.getItem(e,t)},set:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.setItem(e,t,r)},has:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.hasItem(e,t)},del:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.removeItem(e,t)},remove:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.removeItem(e,t)}};return o}function za(e,t,r){return e.watch?e.watch(((e,i)=>t(e,r+i))):()=>{}}async function Ua(e){"function"===typeof e.dispose&&await xa(e.dispose)}function Da(e){return new Promise(((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)}))}function qa(e,t){const r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);const i=Da(r);return(e,r)=>i.then((i=>r(i.transaction(t,e).objectStore(t))))}let ja;function Ba(){return ja||(ja=qa("keyval-store","keyval")),ja}function Fa(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ba())("readonly",(t=>Da(t.get(e))))}function Ka(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ba())("readwrite",(r=>(r.put(t,e),Da(r.transaction))))}function Va(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ba())("readwrite",(t=>(t.delete(e),Da(t.transaction))))}function Ha(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba())("readwrite",(e=>(e.clear(),Da(e.transaction))))}function Wa(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},Da(e.transaction)}function Ga(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba())("readonly",(e=>{if(e.getAllKeys)return Da(e.getAllKeys());const t=[];return Wa(e,(e=>t.push(e.key))).then((()=>t))}))}function Ja(e){if("string"!==typeof e)throw new Error("Cannot safe json parse value of type ".concat(typeof e));try{return(e=>{const t=e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(t,((e,t)=>"string"===typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t))})(e)}catch(t){return e}}function Ya(e){return"string"===typeof e?e:(t=e,JSON.stringify(t,((e,t)=>"bigint"===typeof t?t.toString()+"n":t))||"");var t}var Za=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.base&&e.base.length>0?"".concat(e.base,":"):"",r=e=>t+e;let i;return e.dbName&&e.storeName&&(i=qa(e.dbName,e.storeName)),{name:"idb-keyval",options:e,hasItem:async e=>!(typeof await Fa(r(e),i)>"u"),async getItem(e){var t;return null!==(t=await Fa(r(e),i))&&void 0!==t?t:null},setItem:(e,t)=>Ka(r(e),t,i),removeItem:e=>Va(r(e),i),getKeys:()=>Ga(i),clear:()=>Ha(i)}};class Xa{constructor(){this.indexedDb=La({driver:Za({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map((e=>[e.key,e.value]))}async getItem(e){const t=await this.indexedDb.getItem(e);if(null!==t)return t}async setItem(e,t){await this.indexedDb.setItem(e,Ya(t))}async removeItem(e){await this.indexedDb.removeItem(e)}}var $a=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof r.g<"u"?r.g:typeof self<"u"?self:{},Qa={exports:{}};function ec(e){var t;return[e[0],Ja(null!=(t=e[1])?t:"")]}!function(){let e;function t(){}e=t,e.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.setItem=function(e,t){this[e]=String(t)},e.prototype.removeItem=function(e){delete this[e]},e.prototype.clear=function(){const e=this;Object.keys(e).forEach((function(t){e[t]=void 0,delete e[t]}))},e.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},e.prototype.__defineGetter__("length",(function(){return Object.keys(this).length})),typeof $a<"u"&&$a.localStorage?Qa.exports=$a.localStorage:typeof window<"u"&&window.localStorage?Qa.exports=window.localStorage:Qa.exports=new t}();class tc{constructor(){this.localStorage=Qa.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(ec)}async getItem(e){const t=this.localStorage.getItem(e);if(null!==t)return Ja(t)}async setItem(e,t){this.localStorage.setItem(e,Ya(t))}async removeItem(e){this.localStorage.removeItem(e)}}const rc=async(e,t)=>{t.length&&t.forEach((async t=>{await e.removeItem(t)}))};class ic{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};const e=new tc;this.storage=e;try{(async(e,t,r)=>{const i="wc_storage_version",n=await t.getItem(i);if(n&&n>=1)return void r(t);const s=await e.getKeys();if(!s.length)return void r(t);const o=[];for(;s.length;){const r=s.shift();if(!r)continue;const i=r.toLowerCase();if(i.includes("wc@")||i.includes("walletconnect")||i.includes("wc_")||i.includes("wallet_connect")){const i=await e.getItem(r);await t.setItem(r,i),o.push(r)}}await t.setItem(i,1),r(t),rc(e,o)})(e,new Xa,this.setInitialized)}catch(t){this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise((e=>{const t=setInterval((()=>{this.initialized&&(clearInterval(t),e())}),20)}))}}var nc=r(5711),sc=r.n(nc);const oc="info",ac="custom_context",cc=1024e3;class lc{constructor(e){this.nodeValue=e,this.sizeInBytes=(new TextEncoder).encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class uc{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const t=new lc(e);if(t.size>this.maxSizeInBytes)throw new Error("[LinkedList] Value too big to insert into list: ".concat(e," with size ").concat(t.size));for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let t=this.head;for(;null!==t;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const t=e.value;return e=e.next,{done:!1,value:t}}}}}class hc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cc;this.level=null!==e&&void 0!==e?e:"error",this.levelValue=nc.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new uc(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===nc.levels.values.error?console.error(e):t===nc.levels.values.warn?console.warn(e):t===nc.levels.values.debug?console.debug(e):t===nc.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Ya({timestamp:(new Date).toISOString(),log:e}));const t="string"==typeof e?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new uc(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const t=this.getLogArray();return t.push(Ya({extraMetadata:e})),new Blob(t,{type:"application/json"})}}class dc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cc;this.baseChunkLogger=new hc(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const t=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=t,r.download="walletconnect-logs-".concat((new Date).toISOString(),".txt"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)}}class fc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cc;this.baseChunkLogger=new hc(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var pc=Object.defineProperty,gc=Object.defineProperties,bc=Object.getOwnPropertyDescriptors,mc=Object.getOwnPropertySymbols,yc=Object.prototype.hasOwnProperty,vc=Object.prototype.propertyIsEnumerable,wc=(e,t,r)=>t in e?pc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Sc=(e,t)=>{for(var r in t||(t={}))yc.call(t,r)&&wc(e,r,t[r]);if(mc)for(var r of mc(t))vc.call(t,r)&&wc(e,r,t[r]);return e},Ec=(e,t)=>gc(e,bc(t));function _c(e){return Ec(Sc({},e),{level:(null===e||void 0===e?void 0:e.level)||oc})}function Mc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ac,r="";return r=typeof e.bindings>"u"?function(e){return e[arguments.length>1&&void 0!==arguments[1]?arguments[1]:ac]||""}(e,t):e.bindings().context||"",r}function Ic(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ac;const i=function(e,t){const r=Mc(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:ac);return r.trim()?"".concat(r,"/").concat(t):t}(e,t,r);return function(e,t){return e[arguments.length>2&&void 0!==arguments[2]?arguments[2]:ac]=t,e}(e.child({context:i}),i,r)}function xc(e){return typeof e.loggerOverride<"u"&&"string"!=typeof e.loggerOverride?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?function(e){var t,r;const i=new dc(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:sc()(Ec(Sc({},e.opts),{level:"trace",browser:Ec(Sc({},null==(r=e.opts)?void 0:r.browser),{write:e=>i.write(e)})})),chunkLoggerController:i}}(e):function(e){var t;const r=new fc(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:sc()(Ec(Sc({},e.opts),{level:"trace"}),r),chunkLoggerController:r}}(e)}class Ac extends ba{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}class Pc extends ba{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}}class kc{constructor(e,t){this.logger=e,this.core=t}}class Oc extends ba{constructor(e,t){super(),this.relayer=e,this.logger=t}}class Nc extends ba{constructor(e){super()}}class Rc{constructor(e,t,r,i){this.core=e,this.logger=t,this.name=r}}class Tc extends ba{constructor(e,t){super(),this.relayer=e,this.logger=t}}class Cc extends ba{constructor(e,t){super(),this.core=e,this.logger=t}}class Lc{constructor(e,t,r){this.core=e,this.logger=t,this.store=r}}class zc{constructor(e,t){this.projectId=e,this.logger=t}}class Uc{constructor(e,t,r){this.core=e,this.logger=t,this.telemetryEnabled=r}}pa();fa.EventEmitter;function Dc(e){if(!function(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(r.length>0&&!r.includes(e.length))throw new Error("Uint8Array expected of length "+r+", got length="+e.length)}function qc(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const jc="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Bc=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function Fc(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),Dc(e),e}class Kc{clone(){return this._cloneInto()}}function Vc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(jc&&"function"==typeof jc.getRandomValues)return jc.getRandomValues(new Uint8Array(e));if(jc&&"function"==typeof jc.randomBytes)return jc.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}class Hc extends Kc{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Bc(this.buffer)}update(e){qc(this);const{view:t,buffer:r,blockLen:i}=this,n=(e=Fc(e)).length;for(let s=0;s<n;){const o=Math.min(i-this.pos,n-s);if(o!==i)r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(t,0),this.pos=0);else{const t=Bc(e);for(;i<=n-s;s+=i)this.process(t,s)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){qc(this),function(e,t){Dc(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:n}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let u=s;u<i;u++)t[u]=0;(function(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);const n=BigInt(32),s=BigInt(4294967295),o=Number(r>>n&s),a=Number(r&s),c=i?4:0,l=i?0:4;e.setUint32(t+c,o,i),e.setUint32(t+l,a,i)})(r,i-8,BigInt(8*this.length),n),this.process(r,0);const o=Bc(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)o.setUint32(4*u,l[u],n)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:n,destroyed:s,pos:o}=this;return e.length=i,e.pos=o,e.finished=n,e.destroyed=s,i%t&&e.buffer.set(r),e}}const Wc=BigInt(2**32-1),Gc=BigInt(32);function Jc(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&Wc),l:Number(e>>Gc&Wc)}:{h:0|Number(e>>Gc&Wc),l:0|Number(e&Wc)}}const Yc={fromBig:Jc,split:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let n=0;n<e.length;n++){const{h:s,l:o}=Jc(e[n],t);[r[n],i[n]]=[s,o]}return[r,i]},toBig:(e,t)=>BigInt(e>>>0)<<Gc|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,r)=>e<<r|t>>>32-r,rotlSL:(e,t,r)=>t<<r|e>>>32-r,rotlBH:(e,t,r)=>t<<r-32|e>>>64-r,rotlBL:(e,t,r)=>e<<r-32|t>>>64-r,add:function(e,t,r,i){const n=(t>>>0)+(i>>>0);return{h:e+r+(n/2**32|0)|0,l:0|n}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,i)=>t+r+i+(e/2**32|0)|0,add4L:(e,t,r,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),add4H:(e,t,r,i,n)=>t+r+i+n+(e/2**32|0)|0,add5H:(e,t,r,i,n,s)=>t+r+i+n+s+(e/2**32|0)|0,add5L:(e,t,r,i,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0)+(n>>>0)},[Zc,Xc]=Yc.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),$c=new Uint32Array(80),Qc=new Uint32Array(80);class el extends Hc{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:i,Ch:n,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:u,Fl:h,Gh:d,Gl:f,Hh:p,Hl:g}=this;return[e,t,r,i,n,s,o,a,c,l,u,h,d,f,p,g]}set(e,t,r,i,n,s,o,a,c,l,u,h,d,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|i,this.Ch=0|n,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let y=0;y<16;y++,t+=4)$c[y]=e.getUint32(t),Qc[y]=e.getUint32(t+=4);for(let y=16;y<80;y++){const e=0|$c[y-15],t=0|Qc[y-15],r=Yc.rotrSH(e,t,1)^Yc.rotrSH(e,t,8)^Yc.shrSH(e,t,7),i=Yc.rotrSL(e,t,1)^Yc.rotrSL(e,t,8)^Yc.shrSL(e,t,7),n=0|$c[y-2],s=0|Qc[y-2],o=Yc.rotrSH(n,s,19)^Yc.rotrBH(n,s,61)^Yc.shrSH(n,s,6),a=Yc.rotrSL(n,s,19)^Yc.rotrBL(n,s,61)^Yc.shrSL(n,s,6),c=Yc.add4L(i,a,Qc[y-7],Qc[y-16]),l=Yc.add4H(c,r,o,$c[y-7],$c[y-16]);$c[y]=0|l,Qc[y]=0|c}let{Ah:r,Al:i,Bh:n,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:u,El:h,Fh:d,Fl:f,Gh:p,Gl:g,Hh:b,Hl:m}=this;for(let y=0;y<80;y++){const e=Yc.rotrSH(u,h,14)^Yc.rotrSH(u,h,18)^Yc.rotrBH(u,h,41),t=Yc.rotrSL(u,h,14)^Yc.rotrSL(u,h,18)^Yc.rotrBL(u,h,41),v=u&d^~u&p,w=h&f^~h&g,S=Yc.add5L(m,t,w,Xc[y],Qc[y]),E=Yc.add5H(S,b,e,v,Zc[y],$c[y]),_=0|S,M=Yc.rotrSH(r,i,28)^Yc.rotrBH(r,i,34)^Yc.rotrBH(r,i,39),I=Yc.rotrSL(r,i,28)^Yc.rotrBL(r,i,34)^Yc.rotrBL(r,i,39),x=r&n^r&o^n&o,A=i&s^i&a^s&a;b=0|p,m=0|g,p=0|d,g=0|f,d=0|u,f=0|h,({h:u,l:h}=Yc.add(0|c,0|l,0|E,0|_)),c=0|o,l=0|a,o=0|n,a=0|s,n=0|r,s=0|i;const P=Yc.add3L(_,I,A);r=Yc.add3H(P,E,M,x),i=0|P}({h:r,l:i}=Yc.add(0|this.Ah,0|this.Al,0|r,0|i)),({h:n,l:s}=Yc.add(0|this.Bh,0|this.Bl,0|n,0|s)),({h:o,l:a}=Yc.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:l}=Yc.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:h}=Yc.add(0|this.Eh,0|this.El,0|u,0|h)),({h:d,l:f}=Yc.add(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:g}=Yc.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:b,l:m}=Yc.add(0|this.Hh,0|this.Hl,0|b,0|m)),this.set(r,i,n,s,o,a,c,l,u,h,d,f,p,g,b,m)}roundClean(){$c.fill(0),Qc.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const tl=function(e){const t=t=>e().update(Fc(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}((()=>new el)),rl=BigInt(0),il=BigInt(1),nl=BigInt(2);function sl(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function ol(e){if(!sl(e))throw new Error("Uint8Array expected")}function al(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}const cl=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function ll(e){ol(e);let t="";for(let r=0;r<e.length;r++)t+=cl[e[r]];return t}function ul(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?rl:BigInt("0x"+e)}const hl=48,dl=57,fl=65,pl=70,gl=97,bl=102;function ml(e){return e>=hl&&e<=dl?e-hl:e>=fl&&e<=pl?e-(fl-10):e>=gl&&e<=bl?e-(gl-10):void 0}function yl(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const i=new Uint8Array(r);for(let n=0,s=0;n<r;n++,s+=2){const t=ml(e.charCodeAt(s)),r=ml(e.charCodeAt(s+1));if(void 0===t||void 0===r){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}i[n]=16*t+r}return i}function vl(e){return ol(e),ul(ll(Uint8Array.from(e).reverse()))}function wl(e,t){return yl(e.toString(16).padStart(2*t,"0"))}function Sl(e,t){return wl(e,t).reverse()}function El(e,t,r){let i;if("string"==typeof t)try{i=yl(t)}catch(ya){throw new Error(e+" must be hex string or Uint8Array, cause: "+ya)}else{if(!sl(t))throw new Error(e+" must be hex string or Uint8Array");i=Uint8Array.from(t)}const n=i.length;if("number"==typeof r&&n!==r)throw new Error(e+" of length "+r+" expected, got "+n);return i}function _l(){let e=0;for(let r=0;r<arguments.length;r++){const t=r<0||arguments.length<=r?void 0:arguments[r];ol(t),e+=t.length}const t=new Uint8Array(e);for(let r=0,i=0;r<arguments.length;r++){const e=r<0||arguments.length<=r?void 0:arguments[r];t.set(e,i),i+=e.length}return t}const Ml=e=>"bigint"==typeof e&&rl<=e;function Il(e,t,r,i){if(!function(e,t,r){return Ml(e)&&Ml(t)&&Ml(r)&&t<=e&&e<r}(t,r,i))throw new Error("expected valid "+e+": "+r+" <= n < "+i+", got "+t)}const xl=e=>(nl<<BigInt(e-1))-il,Al={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||sl(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function Pl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=(t,r,i)=>{const n=Al[r];if("function"!=typeof n)throw new Error("invalid validator function");const s=e[t];if((!i||void 0!==s)&&!n(s,e))throw new Error("param "+String(t)+" is invalid. Expected "+r+", got "+s)};for(const[n,s]of Object.entries(t))i(n,s,!1);for(const[n,s]of Object.entries(r))i(n,s,!0);return e}function kl(e){const t=new WeakMap;return function(r){const i=t.get(r);if(void 0!==i)return i;for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];const a=e(r,...s);return t.set(r,a),a}}const Ol=BigInt(0),Nl=BigInt(1),Rl=BigInt(2),Tl=BigInt(3),Cl=BigInt(4),Ll=BigInt(5),zl=BigInt(8);function Ul(e,t){const r=e%t;return r>=Ol?r:t+r}function Dl(e,t,r){if(t<Ol)throw new Error("invalid exponent, negatives unsupported");if(r<=Ol)throw new Error("invalid modulus");if(r===Nl)return Ol;let i=Nl;for(;t>Ol;)t&Nl&&(i=i*e%r),e=e*e%r,t>>=Nl;return i}function ql(e,t,r){let i=e;for(;t-- >Ol;)i*=i,i%=r;return i}function jl(e,t){if(e===Ol)throw new Error("invert: expected non-zero number");if(t<=Ol)throw new Error("invert: expected positive modulus, got "+t);let r=Ul(e,t),i=t,n=Ol,s=Nl;for(;r!==Ol;){const e=i%r,t=n-s*(i/r);i=r,r=e,n=s,s=t}if(i!==Nl)throw new Error("invert: does not exist");return Ul(n,t)}function Bl(e){if(e%Cl===Tl){const t=(e+Nl)/Cl;return function(e,r){const i=e.pow(r,t);if(!e.eql(e.sqr(i),r))throw new Error("Cannot find square root");return i}}if(e%zl===Ll){const t=(e-Ll)/zl;return function(e,r){const i=e.mul(r,Rl),n=e.pow(i,t),s=e.mul(r,n),o=e.mul(e.mul(s,Rl),n),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),r))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-Nl)/Rl;let r,i,n;for(r=e-Nl,i=0;r%Rl===Ol;r/=Rl,i++);for(n=Rl;n<e&&Dl(n,t,e)!==e-Nl;n++)if(n>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===i){const t=(e+Nl)/Cl;return function(e,r){const i=e.pow(r,t);if(!e.eql(e.sqr(i),r))throw new Error("Cannot find square root");return i}}const s=(r+Nl)/Rl;return function(e,o){if(e.pow(o,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=i,c=e.pow(e.mul(e.ONE,n),r),l=e.pow(o,s),u=e.pow(o,r);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let i=e.sqr(u);t<a&&!e.eql(i,e.ONE);t++)i=e.sqr(i);const r=e.pow(c,Nl<<BigInt(a-t-1));c=e.sqr(r),l=e.mul(l,r),u=e.mul(u,c),a=t}return l}}(e)}const Fl=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Kl(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function Vl(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=Ol)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:n,nByteLength:s}=Kl(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:r,BITS:n,BYTES:s,MASK:xl(n),ZERO:Ol,ONE:Nl,create:t=>Ul(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return Ol<=t&&t<e},is0:e=>e===Ol,isOdd:e=>(e&Nl)===Nl,neg:t=>Ul(-t,e),eql:(e,t)=>e===t,sqr:t=>Ul(t*t,e),add:(t,r)=>Ul(t+r,e),sub:(t,r)=>Ul(t-r,e),mul:(t,r)=>Ul(t*r,e),pow:(e,t)=>function(e,t,r){if(r<Ol)throw new Error("invalid exponent, negatives unsupported");if(r===Ol)return e.ONE;if(r===Nl)return t;let i=e.ONE,n=t;for(;r>Ol;)r&Nl&&(i=e.mul(i,n)),n=e.sqr(n),r>>=Nl;return i}(a,e,t),div:(t,r)=>Ul(t*jl(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>jl(t,e),sqrt:i.sqrt||(t=>(o||(o=Bl(e)),o(a,t))),invertBatch:e=>function(e,t){const r=new Array(t.length),i=t.reduce(((t,i,n)=>e.is0(i)?t:(r[n]=t,e.mul(t,i))),e.ONE),n=e.inv(i);return t.reduceRight(((t,i,n)=>e.is0(i)?t:(r[n]=e.mul(t,r[n]),e.mul(t,i))),n),r}(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?Sl(e,s):wl(e,s),fromBytes:e=>{if(e.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return r?vl(e):function(e){return ul(ll(e))}(e)}});return Object.freeze(a)}const Hl=BigInt(0),Wl=BigInt(1);function Gl(e,t){const r=t.negate();return e?r:t}function Jl(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Yl(e,t){Jl(e,t);return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}const Zl=new WeakMap,Xl=new WeakMap;function $l(e){return Xl.get(e)||1}function Ql(e,t,r,i){if(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach(((e,r)=>{if(!(e instanceof t))throw new Error("invalid point at index "+r)}))}(r,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach(((e,r)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+r)}))}(i,t),r.length!==i.length)throw new Error("arrays of points and scalars must have equal length");const n=e.ZERO,s=function(e){let t;for(t=0;e>rl;e>>=il,t+=1);return t}(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(n);let l=n;for(let u=Math.floor((t.BITS-1)/o)*o;u>=0;u-=o){c.fill(n);for(let t=0;t<i.length;t++){const e=i[t],n=Number(e>>BigInt(u)&BigInt(a));c[n]=c[n].add(r[t])}let e=n;for(let t=c.length-1,r=n;t>0;t--)r=r.add(c[t]),e=e.add(r);if(l=l.add(e),0!==u)for(let t=0;t<o;t++)l=l.double()}return l}function eu(e){return function(e){const t=Fl.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});Pl(e,t)}(e.Fp),Pl(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(Ce(Ce(Ce({},Kl(e.n,e.nBitLength)),e),{},{p:e.Fp.ORDER}))}const tu=BigInt(0),ru=BigInt(1),iu=BigInt(2),nu=BigInt(8),su={zip215:!0};function ou(e){const t=function(e){const t=eu(e);return Pl(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze(Ce({},t))}(e),{Fp:r,n:i,prehash:n,hash:s,randomBytes:o,nByteLength:a,h:c}=t,l=iu<<BigInt(8*a)-ru,u=r.create,h=Vl(t.n,t.nBitLength),d=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:r.sqrt(e*r.inv(t))}}catch(i){return{isValid:!1,value:tu}}}),f=t.adjustScalarBytes||(e=>e),p=t.domain||((e,t,r)=>{if(al("phflag",r),t.length||r)throw new Error("Contexts/pre-hash are not supported");return e});function g(e,t){Il("coordinate "+e,t,tu,l)}function b(e){if(!(e instanceof v))throw new Error("ExtendedPoint expected")}const m=kl(((e,t)=>{const{ex:i,ey:n,ez:s}=e,o=e.is0();null==t&&(t=o?nu:r.inv(s));const a=u(i*t),c=u(n*t),l=u(s*t);if(o)return{x:tu,y:ru};if(l!==ru)throw new Error("invZ was invalid");return{x:a,y:c}})),y=kl((e=>{const{a:r,d:i}=t;if(e.is0())throw new Error("bad point: ZERO");const{ex:n,ey:s,ez:o,et:a}=e,c=u(n*n),l=u(s*s),h=u(o*o),d=u(h*h),f=u(c*r);if(u(h*u(f+l))!==u(d+u(i*u(c*l))))throw new Error("bad point: equation left != right (1)");if(u(n*s)!==u(o*a))throw new Error("bad point: equation left != right (2)");return!0}));class v{constructor(e,t,r,i){this.ex=e,this.ey=t,this.ez=r,this.et=i,g("x",e),g("y",t),g("z",r),g("t",i),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof v)throw new Error("extended point not allowed");const{x:t,y:r}=e||{};return g("x",t),g("y",r),new v(t,r,ru,u(t*r))}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.ez)));return e.map(((e,r)=>e.toAffine(t[r]))).map(v.fromAffine)}static msm(e,t){return Ql(v,h,e,t)}_setWindowSize(e){E.setWindowSize(this,e)}assertValidity(){y(this)}equals(e){b(e);const{ex:t,ey:r,ez:i}=this,{ex:n,ey:s,ez:o}=e,a=u(t*o),c=u(n*i),l=u(r*o),h=u(s*i);return a===c&&l===h}is0(){return this.equals(v.ZERO)}negate(){return new v(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:e}=t,{ex:r,ey:i,ez:n}=this,s=u(r*r),o=u(i*i),a=u(iu*u(n*n)),c=u(e*s),l=r+i,h=u(u(l*l)-s-o),d=c+o,f=d-a,p=c-o,g=u(h*f),b=u(d*p),m=u(h*p),y=u(f*d);return new v(g,b,y,m)}add(e){b(e);const{a:r,d:i}=t,{ex:n,ey:s,ez:o,et:a}=this,{ex:c,ey:l,ez:h,et:d}=e;if(r===BigInt(-1)){const e=u((s-n)*(l+c)),t=u((s+n)*(l-c)),r=u(t-e);if(r===tu)return this.double();const i=u(o*iu*d),f=u(a*iu*h),p=f+i,g=t+e,b=f-i,m=u(p*r),y=u(g*b),w=u(p*b),S=u(r*g);return new v(m,y,S,w)}const f=u(n*c),p=u(s*l),g=u(a*i*d),m=u(o*h),y=u((n+s)*(c+l)-f-p),w=m-g,S=m+g,E=u(p-r*f),_=u(y*w),M=u(S*E),I=u(y*E),x=u(w*S);return new v(_,M,x,I)}subtract(e){return this.add(e.negate())}wNAF(e){return E.wNAFCached(this,e,v.normalizeZ)}multiply(e){const t=e;Il("scalar",t,ru,i);const{p:r,f:n}=this.wNAF(t);return v.normalizeZ([r,n])[0]}multiplyUnsafe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.ZERO;const r=e;return Il("scalar",r,tu,i),r===tu?S:this.is0()||r===ru?this:E.wNAFCachedUnsafe(this,r,v.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return E.unsafeLadder(this,i).is0()}toAffine(e){return m(this,e)}clearCofactor(){const{h:e}=t;return e===ru?this:this.multiplyUnsafe(e)}static fromHex(e){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{d:n,a:s}=t,o=r.BYTES;e=El("pointHex",e,o),al("zip215",i);const a=e.slice(),c=e[o-1];a[o-1]=-129&c;const h=vl(a),f=i?l:r.ORDER;Il("pointHex.y",h,tu,f);const p=u(h*h),g=u(p-ru),b=u(n*p-s);let{isValid:m,value:y}=d(g,b);if(!m)throw new Error("Point.fromHex: invalid y coordinate");const w=(y&ru)===ru,S=0!==(128&c);if(!i&&y===tu&&S)throw new Error("Point.fromHex: x=0 and x_0=1");return S!==w&&(y=u(-y)),v.fromAffine({x:y,y:h})}static fromPrivateKey(e){return I(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),i=Sl(t,r.BYTES);return i[i.length-1]|=e&ru?128:0,i}toHex(){return ll(this.toRawBytes())}}v.BASE=new v(t.Gx,t.Gy,ru,u(t.Gx*t.Gy)),v.ZERO=new v(tu,ru,ru,tu);const{BASE:w,ZERO:S}=v,E=function(e,t){return{constTimeNegate:Gl,hasPrecomputes:e=>1!==$l(e),unsafeLadder(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ZERO,n=t;for(;r>Hl;)r&Wl&&(i=i.add(n)),n=n.double(),r>>=Wl;return i},precomputeWindow(e,r){const{windows:i,windowSize:n}=Yl(r,t),s=[];let o=e,a=o;for(let t=0;t<i;t++){a=o,s.push(a);for(let e=1;e<n;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(r,i,n){const{windows:s,windowSize:o}=Yl(r,t);let a=e.ZERO,c=e.BASE;const l=BigInt(2**r-1),u=2**r,h=BigInt(r);for(let e=0;e<s;e++){const t=e*o;let r=Number(n&l);n>>=h,r>o&&(r-=u,n+=Wl);const s=t,d=t+Math.abs(r)-1,f=e%2!==0,p=r<0;0===r?c=c.add(Gl(f,i[s])):a=a.add(Gl(p,i[d]))}return{p:a,f:c}},wNAFUnsafe(r,i,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.ZERO;const{windows:o,windowSize:a}=Yl(r,t),c=BigInt(2**r-1),l=2**r,u=BigInt(r);for(let e=0;e<o;e++){const t=e*a;if(n===Hl)break;let r=Number(n&c);if(n>>=u,r>a&&(r-=l,n+=Wl),0===r)continue;let o=i[t+Math.abs(r)-1];r<0&&(o=o.negate()),s=s.add(o)}return s},getPrecomputes(e,t,r){let i=Zl.get(t);return i||(i=this.precomputeWindow(t,e),1!==e&&Zl.set(t,r(i))),i},wNAFCached(e,t,r){const i=$l(e);return this.wNAF(i,this.getPrecomputes(i,e,r),t)},wNAFCachedUnsafe(e,t,r,i){const n=$l(e);return 1===n?this.unsafeLadder(e,t,i):this.wNAFUnsafe(n,this.getPrecomputes(n,e,r),t,i)},setWindowSize(e,r){Jl(r,t),Xl.set(e,r),Zl.delete(e)}}}(v,8*a);function _(e){return Ul(e,i)}function M(e){return _(vl(e))}function I(e){const t=r.BYTES;e=El("private key",e,t);const i=El("hashed private key",s(e),2*t),n=f(i.slice(0,t)),o=i.slice(t,2*t),a=M(n),c=w.multiply(a),l=c.toRawBytes();return{head:n,prefix:o,scalar:a,point:c,pointBytes:l}}function x(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array;for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];const o=_l(...r);return M(s(p(o,El("context",e),!!n)))}const A=su;return w._setWindowSize(8),{CURVE:t,getPublicKey:function(e){return I(e).pointBytes},sign:function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=El("message",e),n&&(e=n(e));const{prefix:o,scalar:a,pointBytes:c}=I(t),l=x(s.context,o,e),u=w.multiply(l).toRawBytes(),h=_(l+x(s.context,u,c,e)*a);return Il("signature.s",h,tu,i),El("result",_l(u,Sl(h,r.BYTES)),2*r.BYTES)},verify:function(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:A;const{context:o,zip215:a}=s,c=r.BYTES;e=El("signature",e,2*c),t=El("message",t),i=El("publicKey",i,c),void 0!==a&&al("zip215",a),n&&(t=n(t));const l=vl(e.slice(c,2*c));let u,h,d;try{u=v.fromHex(i,a),h=v.fromHex(e.slice(0,c),a),d=w.multiplyUnsafe(l)}catch(p){return!1}if(!a&&u.isSmallOrder())return!1;const f=x(o,h.toRawBytes(),u.toRawBytes(),t);return h.add(u.multiplyUnsafe(f)).subtract(d).clearCofactor().equals(v.ZERO)},ExtendedPoint:v,utils:{getExtendedPublicKey:I,randomPrivateKey:()=>o(r.BYTES),precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}}}}BigInt(0),BigInt(1);const au=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),cu=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const lu=BigInt(1),uu=BigInt(2);BigInt(3);const hu=BigInt(5),du=BigInt(8);function fu(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function pu(e,t){const r=au,i=Ul(t*t*t,r),n=function(e){const t=BigInt(10),r=BigInt(20),i=BigInt(40),n=BigInt(80),s=au,o=e*e%s*e%s,a=ql(o,uu,s)*o%s,c=ql(a,lu,s)*e%s,l=ql(c,hu,s)*c%s,u=ql(l,t,s)*l%s,h=ql(u,r,s)*u%s,d=ql(h,i,s)*h%s,f=ql(d,n,s)*d%s,p=ql(f,n,s)*d%s,g=ql(p,t,s)*l%s;return{pow_p_5_8:ql(g,uu,s)*e%s,b2:o}}(e*Ul(i*i*t,r)).pow_p_5_8;let s=Ul(e*i*n,r);const o=Ul(t*s*s,r),a=s,c=Ul(s*cu,r),l=o===e,u=o===Ul(-e,r),h=o===Ul(-e*cu,r);return l&&(s=a),(u||h)&&(s=c),((e,t)=>(Ul(e,t)&Nl)===Nl)(s,r)&&(s=Ul(-s,r)),{isValid:l||u,value:s}}const gu=Vl(au,void 0,!0),bu=ou({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:gu,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:du,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:tl,randomBytes:Vc,adjustScalarBytes:fu,uvRatio:pu}),mu="EdDSA",yu=".",vu="base64url",wu="utf8",Su="utf8",Eu="did",_u="key",Mu="base58btc";function Iu(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function xu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?Iu(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function Au(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const r=xu(t);let i=0;for(const n of e)r.set(n,i),i+=n.length;return Iu(r)}var Pu=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var s=e.charAt(n),o=s.charCodeAt(0);if(255!==r[o])throw new TypeError(s+" is ambiguous");r[o]=n}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var i=0,n=0;e[t]===c;)i++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var h=0,d=s-1;(0!==u||h<n)&&-1!==d;d--,h++)u+=a*o[d]>>>0,o[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");n=h,t++}if(" "!==e[t]){for(var f=s-n;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(i+(s-f)),g=i;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,i=0,n=0,s=t.length;n!==s&&0===t[n];)n++,r++;for(var o=(s-n)*u+1>>>0,l=new Uint8Array(o);n!==s;){for(var h=t[n],d=0,f=o-1;(0!==h||d<i)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");i=d,n++}for(var p=o-i;p!==o&&0===l[p];)p++;for(var g=c.repeat(r);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw new Error("Non-".concat(t," character"))}}},ku=Pu;const Ou=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class Nu{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}class Ru{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Cu(this,e)}}class Tu{constructor(e){this.decoders=e}or(e){return Cu(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}const Cu=(e,t)=>new Tu(Ce(Ce({},e.decoders||{[e.prefix]:e}),t.decoders||{[t.prefix]:t}));class Lu{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new Nu(e,t,r),this.decoder=new Ru(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const zu=e=>{let{name:t,prefix:r,encode:i,decode:n}=e;return new Lu(t,r,i,n)},Uu=e=>{let{prefix:t,name:r,alphabet:i}=e;const{encode:n,decode:s}=ku(i,r);return zu({prefix:t,name:r,encode:n,decode:e=>Ou(s(e))})},Du=e=>{let{name:t,prefix:r,bitsPerChar:i,alphabet:n}=e;return zu({prefix:r,name:t,encode:e=>((e,t,r)=>{const i="="===t[t.length-1],n=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>r;)o-=r,s+=t[n&a>>o];if(o&&(s+=t[n&a<<r-o]),i)for(;s.length*r&7;)s+="=";return s})(e,n,i),decode:e=>((e,t,r,i)=>{const n={};for(let u=0;u<t.length;++u)n[t[u]]=u;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const t=n[e[u]];if(void 0===t)throw new SyntaxError("Non-".concat(i," character"));c=c<<r|t,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,n,i,t)})},qu=zu({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var ju=Object.freeze({__proto__:null,identity:qu});const Bu=Du({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Fu=Object.freeze({__proto__:null,base2:Bu});const Ku=Du({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Vu=Object.freeze({__proto__:null,base8:Ku});const Hu=Uu({prefix:"9",name:"base10",alphabet:"0123456789"});var Wu=Object.freeze({__proto__:null,base10:Hu});const Gu=Du({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Ju=Du({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Yu=Object.freeze({__proto__:null,base16:Gu,base16upper:Ju});const Zu=Du({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Xu=Du({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),$u=Du({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Qu=Du({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),eh=Du({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),th=Du({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),rh=Du({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ih=Du({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),nh=Du({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var sh=Object.freeze({__proto__:null,base32:Zu,base32upper:Xu,base32pad:$u,base32padupper:Qu,base32hex:eh,base32hexupper:th,base32hexpad:rh,base32hexpadupper:ih,base32z:nh});const oh=Uu({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),ah=Uu({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var ch=Object.freeze({__proto__:null,base36:oh,base36upper:ah});const lh=Uu({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),uh=Uu({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var hh=Object.freeze({__proto__:null,base58btc:lh,base58flickr:uh});const dh=Du({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),fh=Du({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ph=Du({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),gh=Du({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var bh=Object.freeze({__proto__:null,base64:dh,base64pad:fh,base64url:ph,base64urlpad:gh});const mh=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),yh=mh.reduce(((e,t,r)=>(e[r]=t,e)),[]),vh=mh.reduce(((e,t,r)=>(e[t.codePointAt(0)]=r,e)),[]);const wh=zu({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=yh[t]),"")},decode:function(e){const t=[];for(const r of e){const e=vh[r.codePointAt(0)];if(void 0===e)throw new Error("Non-base256emoji character: ".concat(r));t.push(e)}return new Uint8Array(t)}});var Sh=Object.freeze({__proto__:null,base256emoji:wh}),Eh=function e(t,r,i){r=r||[];for(var n=i=i||0;t>=Ih;)r[i++]=255&t|_h,t/=128;for(;t&Mh;)r[i++]=255&t|_h,t>>>=7;return r[i]=0|t,e.bytes=i-n+1,r},_h=128,Mh=-128,Ih=Math.pow(2,31);var xh=function e(t,r){var i,n=0,s=(r=r||0,0),o=r,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");i=t[o++],n+=s<28?(i&Ph)<<s:(i&Ph)*Math.pow(2,s),s+=7}while(i>=Ah);return e.bytes=o-r,n},Ah=128,Ph=127;var kh=Math.pow(2,7),Oh=Math.pow(2,14),Nh=Math.pow(2,21),Rh=Math.pow(2,28),Th=Math.pow(2,35),Ch=Math.pow(2,42),Lh=Math.pow(2,49),zh=Math.pow(2,56),Uh=Math.pow(2,63),Dh={encode:Eh,decode:xh,encodingLength:function(e){return e<kh?1:e<Oh?2:e<Nh?3:e<Rh?4:e<Th?5:e<Ch?6:e<Lh?7:e<zh?8:e<Uh?9:10}};const qh=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Dh.encode(e,t,r),t},jh=e=>Dh.encodingLength(e),Bh=(e,t)=>{const r=t.byteLength,i=jh(e),n=i+jh(r),s=new Uint8Array(n+r);return qh(e,s,0),qh(r,s,i),s.set(t,n),new Fh(e,r,t,s)};class Fh{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}}const Kh=e=>{let{name:t,code:r,encode:i}=e;return new Vh(t,r,i)};class Vh{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Bh(this.code,t):t.then((e=>Bh(this.code,e)))}throw Error("Unknown type, must be binary type")}}const Hh=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Wh=Kh({name:"sha2-256",code:18,encode:Hh("SHA-256")}),Gh=Kh({name:"sha2-512",code:19,encode:Hh("SHA-512")});var Jh=Object.freeze({__proto__:null,sha256:Wh,sha512:Gh});const Yh=Ou,Zh={code:0,name:"identity",encode:Yh,digest:e=>Bh(0,Yh(e))};var Xh=Object.freeze({__proto__:null,identity:Zh});new TextEncoder,new TextDecoder;const $h=Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce({},ju),Fu),Vu),Wu),Yu),sh),ch),hh),bh),Sh);function Qh(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}Ce(Ce({},Jh),Xh);const ed=Qh("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),td=Qh("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{const t=xu((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),rd=Ce({utf8:ed,"utf-8":ed,hex:$h.base16,latin1:td,ascii:td,binary:td},$h);function id(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const r=rd[t];if(!r)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}function nd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const r=rd[t];if(!r)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode("".concat(r.prefix).concat(e)):Iu(globalThis.Buffer.from(e,"utf-8"))}function sd(e){return Ja(id(nd(e,vu),wu))}function od(e){return id(nd(Ya(e),wu),vu)}function ad(e){const t="z"+id(Au([nd("K36",Mu),e]),Mu);return[Eu,_u,t].join(":")}function cd(e){return id(e,vu)}function ld(e){const t=e.split(yu),r=sd(t[0]),i=sd(t[1]),n=function(e){return nd(e,vu)}(t[2]);return{header:r,payload:i,signature:n,data:nd(t.slice(0,2).join(yu),Su)}}function ud(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vc(32);const t=bu.getPublicKey(e);return{secretKey:Au([e,t]),publicKey:t}}async function hd(e,t,r,i){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(0,ga.fromMiliseconds)(Date.now());const s={alg:mu,typ:"JWT"},o={iss:ad(i.publicKey),sub:e,aud:t,iat:n,exp:n+r},a=function(e){return nd([od(e.header),od(e.payload)].join(yu),Su)}({header:s,payload:o});return function(e){return[od(e.header),od(e.payload),cd(e.signature)].join(yu)}({header:s,payload:o,signature:bu.sign(a,i.secretKey.slice(0,32))})}var dd=function(e,t,r){if(r||2===arguments.length)for(var i,n=0,s=t.length;n<s;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},fd=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},pd=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},gd=function(e,t,r,i){this.name=e,this.version=t,this.os=r,this.bot=i,this.type="bot-device"},bd=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},md=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},yd=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,vd=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],wd=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Sd(e){return e?_d(e):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new md:"undefined"!==typeof navigator?_d(navigator.userAgent):"undefined"!==typeof process&&process.version?new pd(process.version.slice(1)):null}function Ed(e){return""!==e&&vd.reduce((function(t,r){var i=r[0],n=r[1];if(t)return t;var s=n.exec(e);return!!s&&[i,s]}),!1)}function _d(e){var t=Ed(e);if(!t)return null;var r=t[0],i=t[1];if("searchbot"===r)return new bd;var n=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);n?n.length<3&&(n=dd(dd([],n,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-n.length),!0)):n=[];var s=n.join("."),o=function(e){for(var t=0,r=wd.length;t<r;t++){var i=wd[t],n=i[0];if(i[1].exec(e))return n}return null}(e),a=yd.exec(e);return a&&a[1]?new gd(r,s,o,a[1]):new fd(r,s,o)}var Md=r(33),Id=r(9332);function xd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function Ad(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const r=xd(t);let i=0;for(const n of e)r.set(n,i),i+=n.length;return r}var Pd=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var s=e.charAt(n),o=s.charCodeAt(0);if(255!==r[o])throw new TypeError(s+" is ambiguous");r[o]=n}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var i=0,n=0;e[t]===c;)i++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var h=0,d=s-1;(0!==u||h<n)&&-1!==d;d--,h++)u+=a*o[d]>>>0,o[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");n=h,t++}if(" "!==e[t]){for(var f=s-n;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(i+(s-f)),g=i;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,i=0,n=0,s=t.length;n!==s&&0===t[n];)n++,r++;for(var o=(s-n)*u+1>>>0,l=new Uint8Array(o);n!==s;){for(var h=t[n],d=0,f=o-1;(0!==h||d<i)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");i=d,n++}for(var p=o-i;p!==o&&0===l[p];)p++;for(var g=c.repeat(r);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw new Error("Non-".concat(t," character"))}}};const kd=Pd,Od=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class Nd{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}class Rd{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Cd(this,e)}}class Td{constructor(e){this.decoders=e}or(e){return Cd(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}const Cd=(e,t)=>new Td(Ce(Ce({},e.decoders||{[e.prefix]:e}),t.decoders||{[t.prefix]:t}));class Ld{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new Nd(e,t,r),this.decoder=new Rd(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const zd=e=>{let{name:t,prefix:r,encode:i,decode:n}=e;return new Ld(t,r,i,n)},Ud=e=>{let{prefix:t,name:r,alphabet:i}=e;const{encode:n,decode:s}=kd(i,r);return zd({prefix:t,name:r,encode:n,decode:e=>Od(s(e))})},Dd=e=>{let{name:t,prefix:r,bitsPerChar:i,alphabet:n}=e;return zd({prefix:r,name:t,encode:e=>((e,t,r)=>{const i="="===t[t.length-1],n=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>r;)o-=r,s+=t[n&a>>o];if(o&&(s+=t[n&a<<r-o]),i)for(;s.length*r&7;)s+="=";return s})(e,n,i),decode:e=>((e,t,r,i)=>{const n={};for(let u=0;u<t.length;++u)n[t[u]]=u;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const t=n[e[u]];if(void 0===t)throw new SyntaxError("Non-".concat(i," character"));c=c<<r|t,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,n,i,t)})},qd=zd({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)}),jd=Dd({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Bd=Dd({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Fd=Ud({prefix:"9",name:"base10",alphabet:"0123456789"}),Kd=Dd({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Vd=Dd({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Hd=Dd({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Wd=Dd({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Gd=Dd({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Jd=Dd({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Yd=Dd({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Zd=Dd({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Xd=Dd({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),$d=Dd({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Qd=Dd({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),ef=Ud({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),tf=Ud({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),rf=Ud({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),nf=Ud({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),sf=Dd({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),of=Dd({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),af=Dd({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),cf=Dd({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),lf=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),uf=lf.reduce(((e,t,r)=>(e[r]=t,e)),[]),hf=lf.reduce(((e,t,r)=>(e[t.codePointAt(0)]=r,e)),[]);const df=zd({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=uf[t]),"")},decode:function(e){const t=[];for(const r of e){const e=hf[r.codePointAt(0)];if(void 0===e)throw new Error("Non-base256emoji character: ".concat(r));t.push(e)}return new Uint8Array(t)}});var ff=function e(t,r,i){r=r||[];var n=i=i||0;for(;t>=bf;)r[i++]=255&t|pf,t/=128;for(;t&gf;)r[i++]=255&t|pf,t>>>=7;return r[i]=0|t,e.bytes=i-n+1,r},pf=128,gf=-128,bf=Math.pow(2,31);var mf=function e(t,r){var i,n=0,s=0,o=r=r||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");i=t[o++],n+=s<28?(i&vf)<<s:(i&vf)*Math.pow(2,s),s+=7}while(i>=yf);return e.bytes=o-r,n},yf=128,vf=127;var wf=Math.pow(2,7),Sf=Math.pow(2,14),Ef=Math.pow(2,21),_f=Math.pow(2,28),Mf=Math.pow(2,35),If=Math.pow(2,42),xf=Math.pow(2,49),Af=Math.pow(2,56),Pf=Math.pow(2,63);const kf={encode:ff,decode:mf,encodingLength:function(e){return e<wf?1:e<Sf?2:e<Ef?3:e<_f?4:e<Mf?5:e<If?6:e<xf?7:e<Af?8:e<Pf?9:10}},Of=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return kf.encode(e,t,r),t},Nf=e=>kf.encodingLength(e),Rf=(e,t)=>{const r=t.byteLength,i=Nf(e),n=i+Nf(r),s=new Uint8Array(n+r);return Of(e,s,0),Of(r,s,i),s.set(t,n),new Tf(e,r,t,s)};class Tf{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}}const Cf=e=>{let{name:t,code:r,encode:i}=e;return new Lf(t,r,i)};class Lf{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Rf(this.code,t):t.then((e=>Rf(this.code,e)))}throw Error("Unknown type, must be binary type")}}const zf=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Uf=Cf({name:"sha2-256",code:18,encode:zf("SHA-256")}),Df=Cf({name:"sha2-512",code:19,encode:zf("SHA-512")}),qf=Od,jf={code:0,name:"identity",encode:qf,digest:e=>Rf(0,qf(e))},Bf="raw",Ff=85,Kf=e=>Od(e),Vf=e=>Od(e),Hf=new TextEncoder,Wf=new TextDecoder,Gf="json",Jf=512,Yf=e=>Hf.encode(JSON.stringify(e)),Zf=e=>JSON.parse(Wf.decode(e));Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom");Symbol.for("@ipld/js-cid/CID");const Xf=Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce({},t),i),n),s),o),a),c),l),u),h);Ce(Ce({},d),f);function $f(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}const Qf=$f("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),ep=$f("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{const t=xd((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),tp=Ce({utf8:Qf,"utf-8":Qf,hex:Xf.base16,latin1:ep,ascii:ep,binary:ep},Xf);function rp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const r=tp[t];if(!r)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode("".concat(r.prefix).concat(e)):globalThis.Buffer.from(e,"utf8")}function ip(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const r=tp[t];if(!r)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}var np=r(8086);const sp={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};const op="react-native",ap="node",cp="browser",lp="unknown",up="js";function hp(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function dp(){return!(0,Md.getDocument)()&&!!(0,Md.getNavigator)()&&"ReactNative"===navigator.product}function fp(){return!hp()&&!!(0,Md.getNavigator)()&&!!(0,Md.getDocument)()}function pp(){return dp()?op:hp()?ap:fp()?cp:lp}function gp(){var e;try{return dp()&&typeof r.g<"u"&&typeof(null==r.g?void 0:r.g.Application)<"u"?null==(e=r.g.Application)?void 0:e.applicationId:void 0}catch(t){return}}function bp(e,t,i){const n=function(){if(pp()===op&&typeof r.g<"u"&&typeof(null==r.g?void 0:r.g.Platform)<"u"){const{OS:e,Version:t}=r.g.Platform;return[e,t].join("-")}const e=Sd();if(null===e)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[t,e.name,e.version].join("-"):[t,e.version].join("-")}(),s=function(){var e;const t=pp();return t===cp?[t,(null==(e=(0,Md.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),[up,i].join("-"),n,s].join("/")}function mp(e){let{protocol:t,version:r,relayUrl:i,sdkVersion:n,auth:s,projectId:o,useOnCloseEvent:a,bundleId:c,packageName:l}=e;const u=i.split("?"),h={auth:s,ua:bp(t,r,n),projectId:o,useOnCloseEvent:a||void 0,packageName:l||void 0,bundleId:c||void 0},d=function(e,t){const r=new URLSearchParams(e);for(const i of Object.keys(t).sort())if(t.hasOwnProperty(i)){const e=t[i];void 0!==e&&r.set(i,e)}return r.toString()}(u[1]||"",h);return u[0]+"?"+d}function yp(e,t){return e.filter((e=>t.includes(e))).length===e.length}function vp(e){return Object.fromEntries(e.entries())}function wp(e){return new Map(Object.entries(e))}function Sp(e,t,r){return new Promise((async(i,n)=>{const s=setTimeout((()=>n(new Error(r))),t);try{i(await e)}catch(Sc){n(Sc)}clearTimeout(s)}))}function Ep(e,t){if("string"==typeof t&&t.startsWith("".concat(e,":")))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw new Error('Value must be "string" for expirer target type: topic');return"topic:".concat(t)}if("id"===e.toLowerCase()){if("number"!=typeof t)throw new Error('Value must be "number" for expirer target type: id');return"id:".concat(t)}throw new Error("Unknown expirer target type: ".concat(e))}function _p(e,t){return(0,ga.fromMiliseconds)((t||Date.now())+(0,ga.toMiliseconds)(e))}function Mp(e){return Date.now()>=(0,ga.toMiliseconds)(e)}function Ip(e,t){return"".concat(e).concat(t?":".concat(t):"")}function xp(){return[...new Set([...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],...arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]])]}function Ap(){return typeof crypto<"u"&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function Pp(){return typeof process<"u"&&"true"==={NODE_ENV:"production",PUBLIC_URL:"/feri",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.IS_VITEST}function kp(e){return Buffer.from(e,"base64").toString("utf-8")}function Op(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Np(e){if(!function(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(r.length>0&&!r.includes(e.length))throw new Error("Uint8Array expected of length "+r+", got length="+e.length)}function Rp(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Op(e.outputLen),Op(e.blockLen)}function Tp(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Cp(e,t){Np(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const Lp=BigInt(2**32-1),zp=BigInt(32);function Up(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&Lp),l:Number(e>>zp&Lp)}:{h:0|Number(e>>zp&Lp),l:0|Number(e&Lp)}}const Dp="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function qp(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function jp(e,t){return e<<32-t|e>>>t}const Bp=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function Fp(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function Kp(e){for(let t=0;t<e.length;t++)e[t]=Fp(e[t])}function Vp(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),Np(e),e}class Hp{clone(){return this._cloneInto()}}function Wp(e){const t=t=>e().update(Vp(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Gp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(Dp&&"function"==typeof Dp.getRandomValues)return Dp.getRandomValues(new Uint8Array(e));if(Dp&&"function"==typeof Dp.randomBytes)return Dp.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}const Jp=[],Yp=[],Zp=[],Xp=BigInt(0),$p=BigInt(1),Qp=BigInt(2),eg=BigInt(7),tg=BigInt(256),rg=BigInt(113);for(let r=0,Qq=$p,ej=1,tj=0;r<24;r++){[ej,tj]=[tj,(2*ej+3*tj)%5],Jp.push(2*(5*tj+ej)),Yp.push((r+1)*(r+2)/2%64);let e=Xp;for(let t=0;t<7;t++)Qq=(Qq<<$p^(Qq>>eg)*rg)%tg,Qq&Qp&&(e^=$p<<($p<<BigInt(t))-$p);Zp.push(e)}const[ig,ng]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let n=0;n<e.length;n++){const{h:s,l:o}=Up(e[n],t);[r[n],i[n]]=[s,o]}return[r,i]}(Zp,!0),sg=(e,t,r)=>r>32?((e,t,r)=>t<<r-32|e>>>64-r)(e,t,r):((e,t,r)=>e<<r|t>>>32-r)(e,t,r),og=(e,t,r)=>r>32?((e,t,r)=>e<<r-32|t>>>64-r)(e,t,r):((e,t,r)=>t<<r|e>>>32-r)(e,t,r);class ag extends Hp{constructor(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=n,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Op(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}(this.state)}keccak(){Bp||Kp(this.state32),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const r=new Uint32Array(10);for(let i=24-t;i<24;i++){for(let i=0;i<10;i++)r[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const t=(i+8)%10,n=(i+2)%10,s=r[n],o=r[n+1],a=sg(s,o,1)^r[t],c=og(s,o,1)^r[t+1];for(let r=0;r<50;r+=10)e[i+r]^=a,e[i+r+1]^=c}let t=e[2],n=e[3];for(let r=0;r<24;r++){const i=Yp[r],s=sg(t,n,i),o=og(t,n,i),a=Jp[r];t=e[a],n=e[a+1],e[a]=s,e[a+1]=o}for(let i=0;i<50;i+=10){for(let t=0;t<10;t++)r[t]=e[i+t];for(let t=0;t<10;t++)e[i+t]^=~r[(t+2)%10]&r[(t+4)%10]}e[0]^=ig[i],e[1]^=ng[i]}r.fill(0)}(this.state32,this.rounds),Bp||Kp(this.state32),this.posOut=0,this.pos=0}update(e){Tp(this);const{blockLen:t,state:r}=this,i=(e=Vp(e)).length;for(let n=0;n<i;){const s=Math.min(t-this.pos,i-n);for(let t=0;t<s;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,128&t&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Tp(this,!1),Np(e),this.finish();const t=this.state,{blockLen:r}=this;for(let i=0,n=e.length;i<n;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,n-i);e.set(t.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Op(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Cp(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:i,rounds:n,enableXOF:s}=this;return e||(e=new ag(t,r,i,s,n)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=n,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}((e,t,r)=>{Wp((()=>new ag(t,e,r)))})(1,136,32);Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function cg(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function lg(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function ug(e){if(!lg(e))throw new Error("Uint8Array expected");for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(r.length>0&&!r.includes(e.length))throw new Error("Uint8Array expected of length "+r+", got length="+e.length)}function hg(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function dg(e){if("boolean"!=typeof e)throw new Error("boolean expected, not ".concat(e))}const fg=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function pg(e){if("string"==typeof e)e=function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}(e);else{if(!lg(e))throw new Error("Uint8Array expected, got "+typeof e);e=mg(e)}return e}function gg(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(r&&!function(e){return e.byteOffset%4===0}(t))throw new Error("invalid output, must be aligned");return t}function bg(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);const n=BigInt(32),s=BigInt(4294967295),o=Number(r>>n&s),a=Number(r&s),c=i?4:0,l=i?0:4;e.setUint32(t+c,o,i),e.setUint32(t+l,a,i)}function mg(e){return Uint8Array.from(e)}function yg(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(let i=0;i<t.length;i++)t[i].fill(0)}const vg=e=>Uint8Array.from(e.split("").map((e=>e.charCodeAt(0)))),wg=vg("expand 16-byte k"),Sg=vg("expand 32-byte k"),Eg=fg(wg),_g=fg(Sg);function Mg(e,t){return e<<t|e>>>32-t}function Ig(e){return e.byteOffset%4===0}const xg=2**32-1,Ag=new Uint32Array;const Pg=(e,t)=>255&e[t++]|(255&e[t++])<<8;class kg{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,ug(e=pg(e),32);const t=Pg(e,0),r=Pg(e,2),i=Pg(e,4),n=Pg(e,6),s=Pg(e,8),o=Pg(e,10),a=Pg(e,12),c=Pg(e,14);this.r[0]=8191&t,this.r[1]=8191&(t>>>13|r<<3),this.r[2]=7939&(r>>>10|i<<6),this.r[3]=8191&(i>>>7|n<<9),this.r[4]=255&(n>>>4|s<<12),this.r[5]=s>>>1&8190,this.r[6]=8191&(s>>>14|o<<2),this.r[7]=8065&(o>>>11|a<<5),this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127;for(let l=0;l<8;l++)this.pad[l]=Pg(e,16+2*l)}process(e,t){const r=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?0:2048,{h:i,r:n}=this,s=n[0],o=n[1],a=n[2],c=n[3],l=n[4],u=n[5],h=n[6],d=n[7],f=n[8],p=n[9],g=Pg(e,t+0),b=Pg(e,t+2),m=Pg(e,t+4),y=Pg(e,t+6),v=Pg(e,t+8),w=Pg(e,t+10),S=Pg(e,t+12),E=Pg(e,t+14);let _=i[0]+(8191&g),M=i[1]+(8191&(g>>>13|b<<3)),I=i[2]+(8191&(b>>>10|m<<6)),x=i[3]+(8191&(m>>>7|y<<9)),A=i[4]+(8191&(y>>>4|v<<12)),P=i[5]+(v>>>1&8191),k=i[6]+(8191&(v>>>14|w<<2)),O=i[7]+(8191&(w>>>11|S<<5)),N=i[8]+(8191&(S>>>8|E<<8)),R=i[9]+(E>>>5|r),T=0,C=T+_*s+M*(5*p)+I*(5*f)+x*(5*d)+A*(5*h);T=C>>>13,C&=8191,C+=P*(5*u)+k*(5*l)+O*(5*c)+N*(5*a)+R*(5*o),T+=C>>>13,C&=8191;let L=T+_*o+M*s+I*(5*p)+x*(5*f)+A*(5*d);T=L>>>13,L&=8191,L+=P*(5*h)+k*(5*u)+O*(5*l)+N*(5*c)+R*(5*a),T+=L>>>13,L&=8191;let z=T+_*a+M*o+I*s+x*(5*p)+A*(5*f);T=z>>>13,z&=8191,z+=P*(5*d)+k*(5*h)+O*(5*u)+N*(5*l)+R*(5*c),T+=z>>>13,z&=8191;let U=T+_*c+M*a+I*o+x*s+A*(5*p);T=U>>>13,U&=8191,U+=P*(5*f)+k*(5*d)+O*(5*h)+N*(5*u)+R*(5*l),T+=U>>>13,U&=8191;let D=T+_*l+M*c+I*a+x*o+A*s;T=D>>>13,D&=8191,D+=P*(5*p)+k*(5*f)+O*(5*d)+N*(5*h)+R*(5*u),T+=D>>>13,D&=8191;let q=T+_*u+M*l+I*c+x*a+A*o;T=q>>>13,q&=8191,q+=P*s+k*(5*p)+O*(5*f)+N*(5*d)+R*(5*h),T+=q>>>13,q&=8191;let j=T+_*h+M*u+I*l+x*c+A*a;T=j>>>13,j&=8191,j+=P*o+k*s+O*(5*p)+N*(5*f)+R*(5*d),T+=j>>>13,j&=8191;let B=T+_*d+M*h+I*u+x*l+A*c;T=B>>>13,B&=8191,B+=P*a+k*o+O*s+N*(5*p)+R*(5*f),T+=B>>>13,B&=8191;let F=T+_*f+M*d+I*h+x*u+A*l;T=F>>>13,F&=8191,F+=P*c+k*a+O*o+N*s+R*(5*p),T+=F>>>13,F&=8191;let K=T+_*p+M*f+I*d+x*h+A*u;T=K>>>13,K&=8191,K+=P*l+k*c+O*a+N*o+R*s,T+=K>>>13,K&=8191,T=(T<<2)+T|0,T=T+C|0,C=8191&T,T>>>=13,L+=T,i[0]=C,i[1]=L,i[2]=z,i[3]=U,i[4]=D,i[5]=q,i[6]=j,i[7]=B,i[8]=F,i[9]=K}finalize(){const{h:e,pad:t}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let o=2;o<10;o++)e[o]+=i,i=e[o]>>>13,e[o]&=8191;e[0]+=5*i,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let o=1;o<10;o++)r[o]=e[o]+i,i=r[o]>>>13,r[o]&=8191;r[9]-=8192;let n=(1^i)-1;for(let o=0;o<10;o++)r[o]&=n;n=~n;for(let o=0;o<10;o++)e[o]=e[o]&n|r[o];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let s=e[0]+t[0];e[0]=65535&s;for(let o=1;o<8;o++)s=(e[o]+t[o]|0)+(s>>>16)|0,e[o]=65535&s;yg(r)}update(e){hg(this);const{buffer:t,blockLen:r}=this,i=(e=pg(e)).length;for(let n=0;n<i;){const s=Math.min(r-this.pos,i-n);if(s!==r)t.set(e.subarray(n,n+s),this.pos),this.pos+=s,n+=s,this.pos===r&&(this.process(t,0,!1),this.pos=0);else for(;r<=i-n;n+=r)this.process(e,n)}return this}destroy(){yg(this.h,this.r,this.buffer,this.pad)}digestInto(e){hg(this),function(e,t){ug(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;const{buffer:t,h:r}=this;let{pos:i}=this;if(i){for(t[i++]=1;i<16;i++)t[i]=0;this.process(t,0,!0)}this.finalize();let n=0;for(let s=0;s<8;s++)e[n++]=r[s]>>>0,e[n++]=r[s]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}}const Og=function(e){const t=(t,r)=>e(r).update(pg(t)).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}((e=>new kg(e)));const Ng=function(e,t){const{allowShortKeys:r,extendNonceFn:i,counterLength:n,counterRight:s,rounds:o}=function(e,t){if(null==t||"object"!=typeof t)throw new Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw new Error("core must be a function");return cg(n),cg(o),dg(s),dg(r),function(t,a,c,l){let u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;ug(t),ug(a),ug(c);const h=c.length;if(void 0===l&&(l=new Uint8Array(h)),ug(l),cg(u),u<0||u>=xg)throw new Error("arx: counter overflow");if(l.length<h)throw new Error("arx: output (".concat(l.length,") is shorter than data (").concat(h,")"));const d=[];let f,p,g=t.length;if(32===g)d.push(f=mg(t)),p=_g;else{if(16!==g||!r)throw new Error("arx: invalid 32-byte key, got length=".concat(g));f=new Uint8Array(32),f.set(t),f.set(t,16),p=Eg,d.push(f)}Ig(a)||d.push(a=mg(a));const b=fg(f);if(i){if(24!==a.length)throw new Error("arx: extended nonce must be 24 bytes");i(p,b,fg(a.subarray(0,16)),b),a=a.subarray(16)}const m=16-n;if(m!==a.length)throw new Error("arx: nonce must be ".concat(m," or 16 bytes"));if(12!==m){const e=new Uint8Array(12);e.set(a,s?0:12-a.length),a=e,d.push(a)}const y=fg(a);return function(e,t,r,i,n,s,o,a){const c=n.length,l=new Uint8Array(64),u=fg(l),h=Ig(n)&&Ig(s),d=h?fg(n):Ag,f=h?fg(s):Ag;for(let p=0;p<c;o++){if(e(t,r,i,u,o,a),o>=xg)throw new Error("arx: counter overflow");const g=Math.min(64,c-p);if(h&&64===g){const e=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let t,r=0;r<16;r++)t=e+r,f[t]=d[t]^u[r];p+=64}else{for(let e,t=0;t<g;t++)e=p+t,s[e]=n[e]^l[t];p+=g}}}(e,p,b,y,c,l,u,o),yg(...d),l}}((function(e,t,r,i,n){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:20,o=e[0],a=e[1],c=e[2],l=e[3],u=t[0],h=t[1],d=t[2],f=t[3],p=t[4],g=t[5],b=t[6],m=t[7],y=n,v=r[0],w=r[1],S=r[2],E=o,_=a,M=c,I=l,x=u,A=h,P=d,k=f,O=p,N=g,R=b,T=m,C=y,L=v,z=w,U=S;for(let q=0;q<s;q+=2)E=E+x|0,C=Mg(C^E,16),O=O+C|0,x=Mg(x^O,12),E=E+x|0,C=Mg(C^E,8),O=O+C|0,x=Mg(x^O,7),_=_+A|0,L=Mg(L^_,16),N=N+L|0,A=Mg(A^N,12),_=_+A|0,L=Mg(L^_,8),N=N+L|0,A=Mg(A^N,7),M=M+P|0,z=Mg(z^M,16),R=R+z|0,P=Mg(P^R,12),M=M+P|0,z=Mg(z^M,8),R=R+z|0,P=Mg(P^R,7),I=I+k|0,U=Mg(U^I,16),T=T+U|0,k=Mg(k^T,12),I=I+k|0,U=Mg(U^I,8),T=T+U|0,k=Mg(k^T,7),E=E+A|0,U=Mg(U^E,16),R=R+U|0,A=Mg(A^R,12),E=E+A|0,U=Mg(U^E,8),R=R+U|0,A=Mg(A^R,7),_=_+P|0,C=Mg(C^_,16),T=T+C|0,P=Mg(P^T,12),_=_+P|0,C=Mg(C^_,8),T=T+C|0,P=Mg(P^T,7),M=M+k|0,L=Mg(L^M,16),O=O+L|0,k=Mg(k^O,12),M=M+k|0,L=Mg(L^M,8),O=O+L|0,k=Mg(k^O,7),I=I+x|0,z=Mg(z^I,16),N=N+z|0,x=Mg(x^N,12),I=I+x|0,z=Mg(z^I,8),N=N+z|0,x=Mg(x^N,7);let D=0;i[D++]=o+E|0,i[D++]=a+_|0,i[D++]=c+M|0,i[D++]=l+I|0,i[D++]=u+x|0,i[D++]=h+A|0,i[D++]=d+P|0,i[D++]=f+k|0,i[D++]=p+O|0,i[D++]=g+N|0,i[D++]=b+R|0,i[D++]=m+T|0,i[D++]=y+C|0,i[D++]=v+L|0,i[D++]=w+z|0,i[D++]=S+U|0}),{counterRight:!1,counterLength:4,allowShortKeys:!1}),Rg=new Uint8Array(16),Tg=(e,t)=>{e.update(t);const r=t.length%16;r&&e.update(Rg.subarray(r))},Cg=new Uint8Array(32);function Lg(e,t,r,i,n){const s=e(t,r,Cg),o=Og.create(s);n&&Tg(o,n),Tg(o,i);const a=new Uint8Array(16),c=(e=>new DataView(e.buffer,e.byteOffset,e.byteLength))(a);bg(c,0,BigInt(n?n.length:0),!0),bg(c,8,BigInt(i.length),!0),o.update(a);const l=o.digest();return yg(s,a),l}const zg=((e,t)=>{function r(r){for(var i=arguments.length,n=new Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];if(ug(r),void 0!==e.nonceLength){const t=n[0];if(!t)throw new Error("nonce / iv required");e.varSizeNonce?ug(t):ug(t,e.nonceLength)}const o=e.tagLength;o&&void 0!==n[1]&&ug(n[1]);const a=t(r,...n),c=(e,t)=>{if(void 0!==t){if(2!==e)throw new Error("cipher output not supported");ug(t)}};let l=!1;return{encrypt(e,t){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,ug(e),c(a.encrypt.length,t),a.encrypt(e,t)},decrypt(e,t){if(ug(e),o&&e.length<o)throw new Error("invalid ciphertext length: smaller than tagLength="+o);return c(a.decrypt.length,t),a.decrypt(e,t)}}}return Object.assign(r,e),r})({blockSize:64,nonceLength:12,tagLength:16},(e=>(t,r,i)=>({encrypt(n,s){const o=n.length;(s=gg(o+16,s,!1)).set(n);const a=s.subarray(0,-16);e(t,r,a,a,1);const c=Lg(e,t,r,a,i);return s.set(c,o),yg(c),s},decrypt(n,s){s=gg(n.length-16,s,!1);const o=n.subarray(0,-16),a=n.subarray(-16),c=Lg(e,t,r,o,i);if(!function(e,t){if(e.length!==t.length)return!1;let r=0;for(let i=0;i<e.length;i++)r|=e[i]^t[i];return 0===r}(a,c))throw new Error("invalid tag");return s.set(n.subarray(0,-16)),e(t,r,s,s,1),yg(c),s}}))(Ng));class Ug extends Hp{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Rp(e);const r=Vp(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,n=new Uint8Array(i);n.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<n.length;s++)n[s]^=54;this.iHash.update(n),this.oHash=e.create();for(let s=0;s<n.length;s++)n[s]^=106;this.oHash.update(n),n.fill(0)}update(e){return Tp(this),this.iHash.update(e),this}digestInto(e){Tp(this),Np(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:i,destroyed:n,blockLen:s,outputLen:o}=this;return e.finished=i,e.destroyed=n,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Dg=(e,t,r)=>new Ug(e,t).update(r).digest();Dg.create=(e,t)=>new Ug(e,t);const qg=new Uint8Array([0]),jg=new Uint8Array;const Bg=(e,t,r,i,n)=>function(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32;if(Rp(e),Op(i),i>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const n=Math.ceil(i/e.outputLen);void 0===r&&(r=jg);const s=new Uint8Array(n*e.outputLen),o=Dg.create(e,t),a=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let l=0;l<n;l++)qg[0]=l+1,a.update(0===l?jg:c).update(r).update(qg).digestInto(c),s.set(c,e.outputLen*l),o._cloneInto(a);return o.destroy(),a.destroy(),c.fill(0),qg.fill(0),s.slice(0,i)}(e,function(e,t,r){return Rp(e),void 0===r&&(r=new Uint8Array(e.outputLen)),Dg(e,Vp(r),Vp(t))}(e,t,r),i,n);function Fg(e,t,r){return e&t^~e&r}function Kg(e,t,r){return e&t^e&r^t&r}class Vg extends Hp{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=qp(this.buffer)}update(e){Tp(this);const{view:t,buffer:r,blockLen:i}=this,n=(e=Vp(e)).length;for(let s=0;s<n;){const o=Math.min(i-this.pos,n-s);if(o!==i)r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(t,0),this.pos=0);else{const t=qp(e);for(;i<=n-s;s+=i)this.process(t,s)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Tp(this),Cp(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:n}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let u=s;u<i;u++)t[u]=0;(function(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);const n=BigInt(32),s=BigInt(4294967295),o=Number(r>>n&s),a=Number(r&s),c=i?4:0,l=i?0:4;e.setUint32(t+c,o,i),e.setUint32(t+l,a,i)})(r,i-8,BigInt(8*this.length),n),this.process(r,0);const o=qp(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)o.setUint32(4*u,l[u],n)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:n,destroyed:s,pos:o}=this;return e.length=i,e.pos=o,e.finished=n,e.destroyed=s,i%t&&e.buffer.set(r),e}}const Hg=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Wg=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Gg=new Uint32Array(64);class Jg extends Vg{constructor(){super(64,32,8,!1),this.A=0|Wg[0],this.B=0|Wg[1],this.C=0|Wg[2],this.D=0|Wg[3],this.E=0|Wg[4],this.F=0|Wg[5],this.G=0|Wg[6],this.H=0|Wg[7]}get(){const{A:e,B:t,C:r,D:i,E:n,F:s,G:o,H:a}=this;return[e,t,r,i,n,s,o,a]}set(e,t,r,i,n,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|i,this.E=0|n,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let u=0;u<16;u++,t+=4)Gg[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=Gg[u-15],t=Gg[u-2],r=jp(e,7)^jp(e,18)^e>>>3,i=jp(t,17)^jp(t,19)^t>>>10;Gg[u]=i+Gg[u-7]+r+Gg[u-16]|0}let{A:r,B:i,C:n,D:s,E:o,F:a,G:c,H:l}=this;for(let u=0;u<64;u++){const e=l+(jp(o,6)^jp(o,11)^jp(o,25))+Fg(o,a,c)+Hg[u]+Gg[u]|0,t=(jp(r,2)^jp(r,13)^jp(r,22))+Kg(r,i,n)|0;l=c,c=a,a=o,o=s+e|0,s=n,n=i,i=r,r=e+t|0}r=r+this.A|0,i=i+this.B|0,n=n+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(r,i,n,s,o,a,c,l)}roundClean(){Gg.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Yg=Wp((()=>new Jg)),Zg=BigInt(0);function Xg(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function $g(e){if(!Xg(e))throw new Error("Uint8Array expected")}const Qg=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));const eb=48,tb=57,rb=65,ib=70,nb=97,sb=102;function ob(e){return e>=eb&&e<=tb?e-eb:e>=rb&&e<=ib?e-(rb-10):e>=nb&&e<=sb?e-(nb-10):void 0}function ab(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const i=new Uint8Array(r);for(let n=0,s=0;n<r;n++,s+=2){const t=ob(e.charCodeAt(s)),r=ob(e.charCodeAt(s+1));if(void 0===t||void 0===r){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}i[n]=16*t+r}return i}function cb(e){return $g(e),function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?Zg:BigInt("0x"+e)}(function(e){$g(e);let t="";for(let r=0;r<e.length;r++)t+=Qg[e[r]];return t}(Uint8Array.from(e).reverse()))}function lb(e,t){return function(e,t){return ab(e.toString(16).padStart(2*t,"0"))}(e,t).reverse()}function ub(e,t,r){let i;if("string"==typeof t)try{i=ab(t)}catch(ya){throw new Error(e+" must be hex string or Uint8Array, cause: "+ya)}else{if(!Xg(t))throw new Error(e+" must be hex string or Uint8Array");i=Uint8Array.from(t)}const n=i.length;if("number"==typeof r&&n!==r)throw new Error(e+" of length "+r+" expected, got "+n);return i}const hb=e=>"bigint"==typeof e&&Zg<=e;function db(e,t,r,i){if(!function(e,t,r){return hb(e)&&hb(t)&&hb(r)&&t<=e&&e<r}(t,r,i))throw new Error("expected valid "+e+": "+r+" <= n < "+i+", got "+t)}const fb={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||Xg(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};const pb=BigInt(0),gb=BigInt(1);function bb(e,t){const r=e%t;return r>=pb?r:t+r}function mb(e,t,r){let i=e;for(;t-- >pb;)i*=i,i%=r;return i}BigInt(0),BigInt(1),BigInt(0),BigInt(1),BigInt(2),BigInt(8);const yb=BigInt(0),vb=BigInt(1);function wb(e){return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=(t,r,i)=>{const n=fb[r];if("function"!=typeof n)throw new Error("invalid validator function");const s=e[t];if((!i||void 0!==s)&&!n(s,e))throw new Error("param "+String(t)+" is invalid. Expected "+r+", got "+s)};for(const[n,s]of Object.entries(t))i(n,s,!1);for(const[n,s]of Object.entries(r))i(n,s,!0)}(e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze(Ce({},e))}function Sb(e){const t=wb(e),{P:r}=t,i=e=>bb(e,r),n=t.montgomeryBits,s=Math.ceil(n/8),o=t.nByteLength,a=t.adjustScalarBytes||(e=>e),c=t.powPminus2||(e=>function(e,t,r){if(t<pb)throw new Error("invalid exponent, negatives unsupported");if(r<=pb)throw new Error("invalid modulus");if(r===gb)return pb;let i=gb;for(;t>pb;)t&gb&&(i=i*e%r),e=e*e%r,t>>=gb;return i}(e,r-BigInt(2),r));function l(e,t,r){const n=i(e*(t-r));return[t=i(t-n),r=i(r+n)]}const u=(t.a-BigInt(2))/BigInt(4);function h(e){return lb(i(e),s)}function d(e,t){const d=function(e){const t=ub("u coordinate",e,s);return 32===o&&(t[31]&=127),cb(t)}(t),f=function(e){const t=ub("scalar",e),r=t.length;if(r!==s&&r!==o)throw new Error("invalid scalar, expected "+s+" or "+o+" bytes, got "+r);return cb(a(t))}(e),p=function(e,t){db("u",e,yb,r),db("scalar",t,yb,r);const s=t,o=e;let a,h=vb,d=yb,f=e,p=vb,g=yb;for(let r=BigInt(n-1);r>=yb;r--){const e=s>>r&vb;g^=e,a=l(g,h,f),h=a[0],f=a[1],a=l(g,d,p),d=a[0],p=a[1],g=e;const t=h+d,n=i(t*t),c=h-d,b=i(c*c),m=n-b,y=f+p,v=i((f-p)*t),w=i(y*c),S=v+w,E=v-w;f=i(S*S),p=i(o*i(E*E)),h=i(n*b),d=i(m*(n+i(u*m)))}a=l(g,h,f),h=a[0],f=a[1],a=l(g,d,p),d=a[0],p=a[1];const b=c(d);return i(h*b)}(d,f);if(p===yb)throw new Error("invalid private or public key received");return h(p)}const f=h(t.Gu);function p(e){return d(e,f)}return{scalarMult:d,scalarMultBase:p,getSharedSecret:(e,t)=>d(e,t),getPublicKey:e=>p(e),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:f}}const Eb=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const _b=BigInt(1),Mb=BigInt(2),Ib=BigInt(3),xb=BigInt(5);function Ab(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}BigInt(8);const Pb=Sb({P:Eb,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{const t=Eb,{pow_p_5_8:r,b2:i}=function(e){const t=BigInt(10),r=BigInt(20),i=BigInt(40),n=BigInt(80),s=Eb,o=e*e%s*e%s,a=mb(o,Mb,s)*o%s,c=mb(a,_b,s)*e%s,l=mb(c,xb,s)*c%s,u=mb(l,t,s)*l%s,h=mb(u,r,s)*u%s,d=mb(h,i,s)*h%s,f=mb(d,n,s)*d%s,p=mb(f,n,s)*d%s,g=mb(p,t,s)*l%s;return{pow_p_5_8:mb(g,Mb,s)*e%s,b2:o}}(e);return bb(mb(r,Ib,t)*i,t)},adjustScalarBytes:Ab,randomBytes:Gp}),kb="base10",Ob="base16",Nb="base64pad",Rb="utf8";function Tb(){return ip(Gp(32),Ob)}function Cb(e){return ip(Yg(rp(e,Ob)),Ob)}function Lb(e){return ip(Yg(rp(e,Rb)),Ob)}function zb(e){return rp("".concat(e),kb)}function Ub(e){return Number(ip(e,kb))}function Db(e){const{encoding:t=Nb}=e;if(2===Ub(e.type))return ip(Ad([e.type,e.sealed]),t);if(1===Ub(e.type)){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return ip(Ad([e.type,e.senderPublicKey,e.iv,e.sealed]),t)}return ip(Ad([e.type,e.iv,e.sealed]),t)}function qb(e){const{encoded:t,encoding:r=Nb}=e,i=rp(t,r),n=i.slice(0,1);if(1===Ub(n)){const e=33,t=e+12,r=i.slice(1,e),s=i.slice(e,t);return{type:n,sealed:i.slice(t),iv:s,senderPublicKey:r}}if(2===Ub(n)){return{type:n,sealed:i.slice(1),iv:Gp(12)}}const s=i.slice(1,13);return{type:n,sealed:i.slice(13),iv:s}}function jb(e){const t=(null===e||void 0===e?void 0:e.type)||0;if(1===t){if(typeof(null===e||void 0===e?void 0:e.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(null===e||void 0===e?void 0:e.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:null===e||void 0===e?void 0:e.senderPublicKey,receiverPublicKey:null===e||void 0===e?void 0:e.receiverPublicKey}}function Bb(e){return 1===e.type&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}function Fb(e){return 2===e.type}function Kb(e,t){const[r,i,n]=e.split("."),s=function(e){return Buffer.from(function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const r=t.length%4;return r>0&&(t+="=".repeat(4-r)),t}(e),"base64")}(n);if(64!==s.length)throw new Error("Invalid signature length");const o=s.slice(0,32).toString("hex"),a=s.slice(32,64).toString("hex"),c="".concat(r,".").concat(i),l=Yg(c),u=function(e){return new np.ec("p256").keyFromPublic({x:Buffer.from(e.x,"base64").toString("hex"),y:Buffer.from(e.y,"base64").toString("hex")},"hex")}(t),h=ip(l,Ob);if(!u.verify(h,{r:o,s:a}))throw new Error("Invalid signature");return ld(e).payload}function Vb(e){return(null===e||void 0===e?void 0:e.relay)||{protocol:"irn"}}function Hb(e){const t=sp[e];if(typeof t>"u")throw new Error("Relay Protocol not supported: ".concat(e));return t}function Wb(e){const t={},r="relay"+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-");return Object.keys(e).forEach((i=>{if(i.startsWith(r)){const n=i.replace(r,""),s=e[i];t[n]=s}})),t}function Gb(e){if(!e.includes("wc:")){const t=kp(e);null!=t&&t.includes("wc:")&&(e=t)}const t=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),r=-1!==e.indexOf("?")?e.indexOf("?"):void 0,i=e.substring(0,t),n=e.substring(t+1,r).split("@"),s=typeof r<"u"?e.substring(r):"",o=new URLSearchParams(s),a={};o.forEach(((e,t)=>{a[t]=e}));const c="string"==typeof a.methods?a.methods.split(","):void 0;return{protocol:i,topic:Jb(n[0]),version:parseInt(n[1],10),symKey:a.symKey,relay:Wb(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function Jb(e){return e.startsWith("//")?e.substring(2):e}function Yb(e){const t=new URLSearchParams,r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";const r={};return Object.keys(e).forEach((i=>{const n="relay"+t+i;e[i]&&(r[n]=e[i])})),r}(e.relay);Object.keys(r).sort().forEach((e=>{t.set(e,r[e])})),t.set("symKey",e.symKey),e.expiryTimestamp&&t.set("expiryTimestamp",e.expiryTimestamp.toString()),e.methods&&t.set("methods",e.methods.join(","));const i=t.toString();return"".concat(e.protocol,":").concat(e.topic,"@").concat(e.version,"?").concat(i)}var Zb=Object.defineProperty,Xb=Object.defineProperties,$b=Object.getOwnPropertyDescriptors,Qb=Object.getOwnPropertySymbols,em=Object.prototype.hasOwnProperty,tm=Object.prototype.propertyIsEnumerable,rm=(e,t,r)=>t in e?Zb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,im=(e,t)=>{for(var r in t||(t={}))em.call(t,r)&&rm(e,r,t[r]);if(Qb)for(var r of Qb(t))tm.call(t,r)&&rm(e,r,t[r]);return e},nm=(e,t)=>Xb(e,$b(t));function sm(e){const t=[];return e.forEach((e=>{const[r,i]=e.split(":");t.push("".concat(r,":").concat(i))})),t}function om(e){const{proposal:{requiredNamespaces:t,optionalNamespaces:r={}},supportedNamespaces:i}=e,n=lm(t),s=lm(r),o={};Object.keys(i).forEach((e=>{const t=i[e].chains,r=i[e].methods,n=i[e].events,s=i[e].accounts;t.forEach((t=>{if(!s.some((e=>e.includes(t))))throw new Error("No accounts provided for chain ".concat(t," in namespace ").concat(e))})),o[e]={chains:t,methods:r,events:n,accounts:s}}));const a=function(e,t,r){let i=null;const n=function(e){const t={};return Object.keys(e).forEach((r=>{var i;r.includes(":")?t[r]=e[r]:null==(i=e[r].chains)||i.forEach((i=>{t[i]={methods:e[r].methods,events:e[r].events}}))})),t}(e),s=function(e){const t={};return Object.keys(e).forEach((r=>{if(r.includes(":"))t[r]=e[r];else{const i=sm(e[r].accounts);null===i||void 0===i||i.forEach((i=>{t[i]={accounts:e[r].accounts.filter((e=>e.includes("".concat(i,":")))),methods:e[r].methods,events:e[r].events}}))}})),t}(t),o=Object.keys(n),a=Object.keys(s),c=wm(Object.keys(e)),l=wm(Object.keys(t)),u=c.filter((e=>!l.includes(e)));return u.length&&(i=dm("NON_CONFORMING_NAMESPACES","".concat(r," namespaces keys don't satisfy requiredNamespaces.\n      Required: ").concat(u.toString(),"\n      Received: ").concat(Object.keys(t).toString()))),yp(o,a)||(i=dm("NON_CONFORMING_NAMESPACES","".concat(r," namespaces chains don't satisfy required namespaces.\n      Required: ").concat(o.toString(),"\n      Approved: ").concat(a.toString()))),Object.keys(t).forEach((e=>{if(!e.includes(":")||i)return;const n=sm(t[e].accounts);n.includes(e)||(i=dm("NON_CONFORMING_NAMESPACES","".concat(r," namespaces accounts don't satisfy namespace accounts for ").concat(e,"\n        Required: ").concat(e,"\n        Approved: ").concat(n.toString())))})),o.forEach((e=>{i||(yp(n[e].methods,s[e].methods)?yp(n[e].events,s[e].events)||(i=dm("NON_CONFORMING_NAMESPACES","".concat(r," namespaces events don't satisfy namespace events for ").concat(e))):i=dm("NON_CONFORMING_NAMESPACES","".concat(r," namespaces methods don't satisfy namespace methods for ").concat(e)))})),i}(t,o,"approve()");if(a)throw new Error(a.message);const c={};return Object.keys(t).length||Object.keys(r).length?(Object.keys(n).forEach((e=>{const t=i[e].chains.filter((t=>{var r,i;return null==(i=null==(r=n[e])?void 0:r.chains)?void 0:i.includes(t)})),r=i[e].methods.filter((t=>{var r,i;return null==(i=null==(r=n[e])?void 0:r.methods)?void 0:i.includes(t)})),s=i[e].events.filter((t=>{var r,i;return null==(i=null==(r=n[e])?void 0:r.events)?void 0:i.includes(t)})),o=t.map((t=>i[e].accounts.filter((e=>e.includes("".concat(t,":")))))).flat();c[e]={chains:t,methods:r,events:s,accounts:o}})),Object.keys(s).forEach((e=>{var t,r,n,o,a,l;if(!i[e])return;const u=null==(r=null==(t=s[e])?void 0:t.chains)?void 0:r.filter((t=>i[e].chains.includes(t))),h=i[e].methods.filter((t=>{var r,i;return null==(i=null==(r=s[e])?void 0:r.methods)?void 0:i.includes(t)})),d=i[e].events.filter((t=>{var r,i;return null==(i=null==(r=s[e])?void 0:r.events)?void 0:i.includes(t)})),f=null===u||void 0===u?void 0:u.map((t=>i[e].accounts.filter((e=>e.includes("".concat(t,":")))))).flat();c[e]={chains:xp(null==(n=c[e])?void 0:n.chains,u),methods:xp(null==(o=c[e])?void 0:o.methods,h),events:xp(null==(a=c[e])?void 0:a.events,d),accounts:xp(null==(l=c[e])?void 0:l.accounts,f)}})),c):o}function am(e){return e.includes(":")}function cm(e){return am(e)?e.split(":")[0]:e}function lm(e){var t,r,i;const n={};if(!pm(e))return n;for(const[s,o]of Object.entries(e)){const e=am(s)?[s]:o.chains,a=o.methods||[],c=o.events||[],l=cm(s);n[l]=nm(im({},n[l]),{chains:xp(e,null==(t=n[l])?void 0:t.chains),methods:xp(a,null==(r=n[l])?void 0:r.methods),events:xp(c,null==(i=n[l])?void 0:i.events)})}return n}const um={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},hm={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function dm(e,t){const{message:r,code:i}=hm[e];return{message:t?"".concat(r," ").concat(t):r,code:i}}function fm(e,t){const{message:r,code:i}=um[e];return{message:t?"".concat(r," ").concat(t):r,code:i}}function pm(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function gm(e){return typeof e>"u"}function bm(e,t){return!(!t||!gm(e))||"string"==typeof e&&!!e.trim().length}function mm(e,t){return!(!t||!gm(e))||"number"==typeof e&&!isNaN(e)}function ym(e){function t(e){try{return typeof new URL(e)<"u"}catch(t){return!1}}try{if(bm(e,!1)){if(t(e))return!0;return t(kp(e))}}catch(r){}return!1}function vm(e){return typeof e<"u"&&null!==typeof e}function wm(e){return[...new Set(e.map((e=>e.includes(":")?e.split(":")[0]:e)))]}function Sm(){const e=pp();return new Promise((t=>{switch(e){case cp:t(function(){var e;return fp()&&(null===(e=navigator)||void 0===e?void 0:e.onLine)}());break;case op:t(async function(){if(dp()&&typeof r.g<"u"&&null!=r.g&&r.g.NetInfo){const e=await(null==r.g?void 0:r.g.NetInfo.fetch());return null===e||void 0===e?void 0:e.isConnected}return!0}());break;default:t(!0)}}))}function Em(e){switch(pp()){case cp:!function(e){!dp()&&fp()&&(window.addEventListener("online",(()=>e(!0))),window.addEventListener("offline",(()=>e(!1))))}(e);break;case op:!function(e){var t;dp()&&typeof r.g<"u"&&null!=r.g&&r.g.NetInfo&&(null===(t=r.g)||void 0===t||t.NetInfo.addEventListener((t=>e(null===t||void 0===t?void 0:t.isConnected))))}(e)}}const _m="PARSE_ERROR",Mm="INVALID_REQUEST",Im="METHOD_NOT_FOUND",xm="INVALID_PARAMS",Am="INTERNAL_ERROR",Pm="SERVER_ERROR",km=[-32700,-32600,-32601,-32602,-32603],Om={[_m]:{code:-32700,message:"Parse error"},[Mm]:{code:-32600,message:"Invalid Request"},[Im]:{code:-32601,message:"Method not found"},[xm]:{code:-32602,message:"Invalid params"},[Am]:{code:-32603,message:"Internal error"},[Pm]:{code:-32e3,message:"Server error"}},Nm=Pm;function Rm(e){return km.includes(e)}function Tm(e){return Object.keys(Om).includes(e)?Om[e]:Om[Nm]}function Cm(e){const t=Object.values(Om).find((t=>t.code===e));return t||Om[Nm]}function Lm(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error("Unavailable ".concat(r," RPC url at ").concat(t)):e}var zm=r(8129);function Um(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function Dm(){return BigInt(Um(arguments.length>0&&void 0!==arguments[0]?arguments[0]:6))}function qm(e,t,r){return{id:r||Um(),jsonrpc:"2.0",method:e,params:t}}function jm(e,t){return{id:e,jsonrpc:"2.0",result:t}}function Bm(e,t,r){return{id:e,jsonrpc:"2.0",error:Fm(t,r)}}function Fm(e,t){return"undefined"===typeof e?Tm(Am):("string"===typeof e&&(e=Object.assign(Object.assign({},Tm(Pm)),{message:e})),"undefined"!==typeof t&&(e.data=t),Rm(e.code)&&(e=Cm(e.code)),e)}class Km{}class Vm extends Km{constructor(){super()}}class Hm extends Vm{constructor(e){super()}}function Wm(e,t){const r=function(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return"undefined"!==typeof r&&new RegExp(t).test(r)}function Gm(e){return Wm(e,"^wss?:")}function Jm(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function Ym(e){return"object"===typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function Zm(e){return Ym(e)&&"method"in e}function Xm(e){return Ym(e)&&($m(e)||Qm(e))}function $m(e){return"result"in e}function Qm(e){return"error"in e}class ey extends Hm{constructor(e){super(e),this.events=new fa.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection;await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(qm(e.method,e.params||[],e.id||Dm().toString()),t)}async requestStrict(e,t){return new Promise((async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(ma){i(ma)}this.events.on("".concat(e.id),(e=>{Qm(e)?i(e.error):r(e.result)}));try{await this.connection.send(e,t)}catch(ma){i(ma)}}))}setConnection(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection}onPayload(e){this.events.emit("payload",e),Xm(e)?this.events.emit("".concat(e.id),e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",new Error("WebSocket connection closed abnormally with code: ".concat(e.code," ").concat(e.reason?"(".concat(e.reason,")"):""))),this.events.emit("disconnect")}async open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection;this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",(e=>this.onPayload(e))),this.connection.on("close",(e=>this.onClose(e))),this.connection.on("error",(e=>this.events.emit("error",e))),this.connection.on("register_error",(e=>this.onClose())),this.hasRegisteredEventListeners=!0)}}const ty=e=>e.split("?")[0],ry=typeof WebSocket<"u"?WebSocket:typeof r.g<"u"&&typeof r.g.WebSocket<"u"?r.g.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:r(1198);class iy{constructor(e){if(this.url=e,this.events=new fa.EventEmitter,this.registering=!1,!Gm(e))throw new Error("Provided URL is not compatible with WebSocket connection: ".concat(e));this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;await this.register(e)}async close(){return new Promise(((e,t)=>{typeof this.socket>"u"?t(new Error("Connection already closed")):(this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close())}))}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Ya(e))}catch(t){this.onError(e.id,t)}}register(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;if(!Gm(e))throw new Error("Provided URL is not compatible with WebSocket connection: ".concat(e));if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise(((e,t)=>{this.events.once("register_error",(e=>{this.resetMaxListeners(),t(e)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return t(new Error("WebSocket connection is missing or invalid"));e(this.socket)}))}))}return this.url=e,this.registering=!0,new Promise(((t,i)=>{const n=(0,zm.isReactNative)()?void 0:{rejectUnauthorized:!Jm(e)},s=new ry(e,[],n);typeof WebSocket<"u"||typeof r.g<"u"&&typeof r.g.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u"?s.onerror=e=>{const t=e;i(this.emitError(t.error))}:s.on("error",(e=>{i(this.emitError(e))})),s.onopen=()=>{this.onOpen(s),t(s)}}))}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?Ja(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const r=this.parseError(t),i=Bm(e,r.message||r.toString());this.events.emit("payload",i)}parseError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.url;return Lm(e,ty(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){const t=this.parseError(new Error((null===e||void 0===e?void 0:e.message)||"WebSocket connection failed for host: ".concat(ty(this.url))));return this.events.emit("register_error",t),t}}var ny=r(67),sy=r.n(ny);const oy="core",ay="".concat("wc","@2:").concat(oy,":"),cy="error",ly={database:":memory:"},uy="client_ed25519_seed",hy=ga.ONE_DAY,dy=ga.SIX_HOURS,fy="wss://relay.walletconnect.org",py="relayer_message",gy="relayer_message_ack",by="relayer_connect",my="relayer_disconnect",yy="relayer_error",vy="relayer_connection_stalled",wy="relayer_publish",Sy="payload",Ey="connect",_y="disconnect",My="error",Iy="2.18.0",xy="link_mode",Ay="relay",Py="WALLETCONNECT_LINK_MODE_APPS",ky="subscription_created",Oy="subscription_deleted",Ny="subscription_sync",Ry="subscription_resubscribed",Ty=1e3*ga.FIVE_SECONDS,Cy={wc_pairingDelete:{req:{ttl:ga.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ga.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ga.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ga.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ga.ONE_DAY,prompt:!1,tag:0},res:{ttl:ga.ONE_DAY,prompt:!1,tag:0}}},Ly="pairing_create",zy="pairing_expire",Uy="pairing_delete",Dy="pairing_ping",qy="history_created",jy="history_updated",By="history_deleted",Fy="history_sync",Ky="expirer_created",Vy="expirer_deleted",Hy="expirer_expired",Wy="expirer_sync",Gy="https://verify.walletconnect.org",Jy=Gy,Yy="".concat(Jy,"/v3"),Zy=["https://verify.walletconnect.com",Gy],Xy="pairing_started",$y="pairing_uri_validation_success",Qy="pairing_uri_not_expired",ev="store_new_pairing",tv="subscribing_pairing_topic",rv="subscribe_pairing_topic_success",iv="existing_pairing",nv="pairing_not_expired",sv="emit_inactive_pairing",ov="no_internet_connection",av="malformed_pairing_uri",cv="active_pairing_already_exists",lv="subscribe_pairing_topic_failure",uv="pairing_expired";var hv=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var s=e.charAt(n),o=s.charCodeAt(0);if(255!==r[o])throw new TypeError(s+" is ambiguous");r[o]=n}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var i=0,n=0;e[t]===c;)i++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var h=0,d=s-1;(0!==u||h<n)&&-1!==d;d--,h++)u+=a*o[d]>>>0,o[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");n=h,t++}if(" "!==e[t]){for(var f=s-n;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(i+(s-f)),g=i;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,i=0,n=0,s=t.length;n!==s&&0===t[n];)n++,r++;for(var o=(s-n)*u+1>>>0,l=new Uint8Array(o);n!==s;){for(var h=t[n],d=0,f=o-1;(0!==h||d<i)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");i=d,n++}for(var p=o-i;p!==o&&0===l[p];)p++;for(var g=c.repeat(r);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw new Error("Non-".concat(t," character"))}}},dv=hv;const fv=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class pv{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}class gv{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return mv(this,e)}}class bv{constructor(e){this.decoders=e}or(e){return mv(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}const mv=(e,t)=>new bv(Ce(Ce({},e.decoders||{[e.prefix]:e}),t.decoders||{[t.prefix]:t}));class yv{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new pv(e,t,r),this.decoder=new gv(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const vv=e=>{let{name:t,prefix:r,encode:i,decode:n}=e;return new yv(t,r,i,n)},wv=e=>{let{prefix:t,name:r,alphabet:i}=e;const{encode:n,decode:s}=dv(i,r);return vv({prefix:t,name:r,encode:n,decode:e=>fv(s(e))})},Sv=e=>{let{name:t,prefix:r,bitsPerChar:i,alphabet:n}=e;return vv({prefix:r,name:t,encode:e=>((e,t,r)=>{const i="="===t[t.length-1],n=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>r;)o-=r,s+=t[n&a>>o];if(o&&(s+=t[n&a<<r-o]),i)for(;s.length*r&7;)s+="=";return s})(e,n,i),decode:e=>((e,t,r,i)=>{const n={};for(let u=0;u<t.length;++u)n[t[u]]=u;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const t=n[e[u]];if(void 0===t)throw new SyntaxError("Non-".concat(i," character"));c=c<<r|t,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,n,i,t)})},Ev=vv({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var _v=Object.freeze({__proto__:null,identity:Ev});const Mv=Sv({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Iv=Object.freeze({__proto__:null,base2:Mv});const xv=Sv({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Av=Object.freeze({__proto__:null,base8:xv});const Pv=wv({prefix:"9",name:"base10",alphabet:"0123456789"});var kv=Object.freeze({__proto__:null,base10:Pv});const Ov=Sv({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Nv=Sv({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Rv=Object.freeze({__proto__:null,base16:Ov,base16upper:Nv});const Tv=Sv({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Cv=Sv({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Lv=Sv({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),zv=Sv({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Uv=Sv({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Dv=Sv({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),qv=Sv({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),jv=Sv({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Bv=Sv({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Fv=Object.freeze({__proto__:null,base32:Tv,base32upper:Cv,base32pad:Lv,base32padupper:zv,base32hex:Uv,base32hexupper:Dv,base32hexpad:qv,base32hexpadupper:jv,base32z:Bv});const Kv=wv({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Vv=wv({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Hv=Object.freeze({__proto__:null,base36:Kv,base36upper:Vv});const Wv=wv({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Gv=wv({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Jv=Object.freeze({__proto__:null,base58btc:Wv,base58flickr:Gv});const Yv=Sv({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Zv=Sv({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Xv=Sv({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),$v=Sv({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Qv=Object.freeze({__proto__:null,base64:Yv,base64pad:Zv,base64url:Xv,base64urlpad:$v});const ew=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),tw=ew.reduce(((e,t,r)=>(e[r]=t,e)),[]),rw=ew.reduce(((e,t,r)=>(e[t.codePointAt(0)]=r,e)),[]);const iw=vv({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=tw[t]),"")},decode:function(e){const t=[];for(const r of e){const e=rw[r.codePointAt(0)];if(void 0===e)throw new Error("Non-base256emoji character: ".concat(r));t.push(e)}return new Uint8Array(t)}});var nw=Object.freeze({__proto__:null,base256emoji:iw}),sw=function e(t,r,i){r=r||[];for(var n=i=i||0;t>=cw;)r[i++]=255&t|ow,t/=128;for(;t&aw;)r[i++]=255&t|ow,t>>>=7;return r[i]=0|t,e.bytes=i-n+1,r},ow=128,aw=-128,cw=Math.pow(2,31);var lw=function e(t,r){var i,n=0,s=(r=r||0,0),o=r,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");i=t[o++],n+=s<28?(i&hw)<<s:(i&hw)*Math.pow(2,s),s+=7}while(i>=uw);return e.bytes=o-r,n},uw=128,hw=127;var dw=Math.pow(2,7),fw=Math.pow(2,14),pw=Math.pow(2,21),gw=Math.pow(2,28),bw=Math.pow(2,35),mw=Math.pow(2,42),yw=Math.pow(2,49),vw=Math.pow(2,56),ww=Math.pow(2,63),Sw={encode:sw,decode:lw,encodingLength:function(e){return e<dw?1:e<fw?2:e<pw?3:e<gw?4:e<bw?5:e<mw?6:e<yw?7:e<vw?8:e<ww?9:10}},Ew=Sw;const _w=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Ew.encode(e,t,r),t},Mw=e=>Ew.encodingLength(e),Iw=(e,t)=>{const r=t.byteLength,i=Mw(e),n=i+Mw(r),s=new Uint8Array(n+r);return _w(e,s,0),_w(r,s,i),s.set(t,n),new xw(e,r,t,s)};class xw{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}}const Aw=e=>{let{name:t,code:r,encode:i}=e;return new Pw(t,r,i)};class Pw{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Iw(this.code,t):t.then((e=>Iw(this.code,e)))}throw Error("Unknown type, must be binary type")}}const kw=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Ow=Aw({name:"sha2-256",code:18,encode:kw("SHA-256")}),Nw=Aw({name:"sha2-512",code:19,encode:kw("SHA-512")});var Rw=Object.freeze({__proto__:null,sha256:Ow,sha512:Nw});const Tw=fv,Cw={code:0,name:"identity",encode:Tw,digest:e=>Iw(0,Tw(e))};var Lw=Object.freeze({__proto__:null,identity:Cw});new TextEncoder,new TextDecoder;const zw=Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce({},_v),Iv),Av),kv),Rv),Fv),Hv),Jv),Qv),nw);function Uw(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}Ce(Ce({},Rw),Lw);const Dw=Uw("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),qw=Uw("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),jw=Ce({utf8:Dw,"utf-8":Dw,hex:zw.base16,latin1:qw,ascii:qw,binary:qw},zw);class Bw{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=ay,this.init=async()=>{if(!this.initialized){const e=await this.getKeyChain();typeof e<"u"&&(this.keychain=e),this.initialized=!0}},this.has=e=>(this.isInitialized(),this.keychain.has(e)),this.set=async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()},this.get=e=>{this.isInitialized();const t=this.keychain.get(e);if(typeof t>"u"){const{message:t}=dm("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw new Error(t)}return t},this.del=async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()},this.core=e,this.logger=Ic(t,this.name)}get context(){return Mc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,vp(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?wp(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=dm("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Fw{constructor(e,t,r){this.core=e,this.logger=t,this.name="crypto",this.randomSessionIdentifier=Tb(),this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=e=>(this.isInitialized(),this.keychain.has(e)),this.getClientId=async()=>{this.isInitialized();return ad(ud(await this.getClientSeed()).publicKey)},this.generateKeyPair=()=>{this.isInitialized();const e=function(){const e=Pb.utils.randomPrivateKey(),t=Pb.getPublicKey(e);return{privateKey:ip(e,Ob),publicKey:ip(t,Ob)}}();return this.setPrivateKey(e.publicKey,e.privateKey)},this.signJWT=async e=>{this.isInitialized();const t=ud(await this.getClientSeed()),r=this.randomSessionIdentifier,i=hy;return await hd(r,e,i,t)},this.generateSharedKey=(e,t,r)=>{this.isInitialized();const i=function(e,t){const r=Pb.getSharedSecret(rp(e,Ob),rp(t,Ob));return ip(Bg(Yg,r,void 0,void 0,32),Ob)}(this.getPrivateKey(e),t);return this.setSymKey(i,r)},this.setSymKey=async(e,t)=>{this.isInitialized();const r=t||Cb(e);return await this.keychain.set(r,e),r},this.deleteKeyPair=async e=>{this.isInitialized(),await this.keychain.del(e)},this.deleteSymKey=async e=>{this.isInitialized(),await this.keychain.del(e)},this.encode=async(e,t,r)=>{this.isInitialized();const i=jb(r),n=Ya(t);if(Fb(i))return function(e,t){const r=zb(2),i=Gp(12);return Db({type:r,sealed:rp(e,Rb),iv:i,encoding:t})}(n,null===r||void 0===r?void 0:r.encoding);if(Bb(i)){const t=i.senderPublicKey,r=i.receiverPublicKey;e=await this.generateSharedKey(t,r)}const s=this.getSymKey(e),{type:o,senderPublicKey:a}=i;return function(e){const t=zb(typeof e.type<"u"?e.type:0);if(1===Ub(t)&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof e.senderPublicKey<"u"?rp(e.senderPublicKey,Ob):void 0,i=typeof e.iv<"u"?rp(e.iv,Ob):Gp(12),n=rp(e.symKey,Ob);return Db({type:t,sealed:zg(n,i).encrypt(rp(e.message,Rb)),iv:i,senderPublicKey:r,encoding:e.encoding})}({type:o,symKey:s,message:n,senderPublicKey:a,encoding:null===r||void 0===r?void 0:r.encoding})},this.decode=async(e,t,r)=>{this.isInitialized();const i=function(e,t){const r=qb({encoded:e,encoding:null===t||void 0===t?void 0:t.encoding});return jb({type:Ub(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?ip(r.senderPublicKey,Ob):void 0,receiverPublicKey:null===t||void 0===t?void 0:t.receiverPublicKey})}(t,r);if(Fb(i)){const e=function(e,t){const{sealed:r}=qb({encoded:e,encoding:t});return ip(r,Rb)}(t,null===r||void 0===r?void 0:r.encoding);return Ja(e)}if(Bb(i)){const t=i.receiverPublicKey,r=i.senderPublicKey;e=await this.generateSharedKey(t,r)}try{const i=function(e){const t=rp(e.symKey,Ob),{sealed:r,iv:i}=qb(e),n=zg(t,i).decrypt(r);if(null===n)throw new Error("Failed to decrypt");return ip(n,Rb)}({symKey:this.getSymKey(e),encoded:t,encoding:null===r||void 0===r?void 0:r.encoding});return Ja(i)}catch(Qa){this.logger.error("Failed to decode message from topic: '".concat(e,"', clientId: '").concat(await this.getClientId(),"'")),this.logger.error(Qa)}},this.getPayloadType=function(e){return Ub(qb({encoded:e,encoding:arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nb}).type)},this.getPayloadSenderPublicKey=function(e){const t=qb({encoded:e,encoding:arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nb});return t.senderPublicKey?ip(t.senderPublicKey,Ob):void 0},this.core=e,this.logger=Ic(t,this.name),this.keychain=r||new Bw(this.core,this.logger)}get context(){return Mc(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(uy)}catch(t){e=Tb(),await this.keychain.set(uy,e)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const r=jw[t];if(!r)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode("".concat(r.prefix).concat(e)):globalThis.Buffer.from(e,"utf8")}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=dm("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Kw extends kc{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=ay,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const e=await this.getRelayerMessages();typeof e<"u"&&(this.messages=e),this.logger.debug("Successfully Restored records for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(ya){this.logger.debug("Failed to Restore records for ".concat(this.name)),this.logger.error(ya)}finally{this.initialized=!0}}},this.set=async(e,t)=>{this.isInitialized();const r=Lb(t);let i=this.messages.get(e);return typeof i>"u"&&(i={}),typeof i[r]<"u"||(i[r]=t,this.messages.set(e,i),await this.persist()),r},this.get=e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t},this.has=(e,t)=>{this.isInitialized();return typeof this.get(e)[Lb(t)]<"u"},this.del=async e=>{this.isInitialized(),this.messages.delete(e),await this.persist()},this.logger=Ic(e,this.name),this.core=t}get context(){return Mc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,vp(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?wp(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=dm("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Vw=Object.defineProperty,Hw=Object.defineProperties,Ww=Object.getOwnPropertyDescriptors,Gw=Object.getOwnPropertySymbols,Jw=Object.prototype.hasOwnProperty,Yw=Object.prototype.propertyIsEnumerable,Zw=(e,t,r)=>t in e?Vw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Xw=(e,t)=>{for(var r in t||(t={}))Jw.call(t,r)&&Zw(e,r,t[r]);if(Gw)for(var r of Gw(t))Yw.call(t,r)&&Zw(e,r,t[r]);return e},$w=(e,t)=>Hw(e,Ww(t));class Qw extends Oc{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new fa.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=(0,ga.toMiliseconds)(ga.ONE_MINUTE),this.initialPublishTimeout=(0,ga.toMiliseconds)(15*ga.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(e,t,r)=>{var i;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:r}});const n=(null===r||void 0===r?void 0:r.ttl)||dy,s=Vb(r),o=(null===r||void 0===r?void 0:r.prompt)||!1,a=(null===r||void 0===r?void 0:r.tag)||0,c=(null===r||void 0===r?void 0:r.id)||Dm().toString(),l={topic:e,message:t,opts:{ttl:n,relay:s,prompt:o,tag:a,id:c,attestation:null===r||void 0===r?void 0:r.attestation}},u="Failed to publish payload, please try again. id:".concat(c," tag:").concat(a);try{const i=new Promise((async i=>{const s=e=>{let{id:t}=e;l.opts.id===t&&(this.removeRequestFromQueue(t),this.relayer.events.removeListener(wy,s),i(l))};this.relayer.events.on(wy,s);const u=Sp(new Promise(((i,s)=>{this.rpcPublish({topic:e,message:t,ttl:n,prompt:o,tag:a,id:c,attestation:null===r||void 0===r?void 0:r.attestation}).then(i).catch((e=>{this.logger.warn(e,null===e||void 0===e?void 0:e.message),s(e)}))})),this.initialPublishTimeout,"Failed initial publish, retrying.... id:".concat(c," tag:").concat(a));try{await u,this.events.removeListener(wy,s)}catch(h){this.queue.set(c,$w(Xw({},l),{attempt:1})),this.logger.warn(h,null===h||void 0===h?void 0:h.message)}}));this.logger.trace({type:"method",method:"publish",params:{id:c,topic:e,message:t,opts:r}}),await Sp(i,this.publishTimeout,u)}catch($a){if(this.logger.debug("Failed to Publish Payload"),this.logger.error($a),null!=(i=null===r||void 0===r?void 0:r.internal)&&i.throwOnFailedPublish)throw $a}finally{this.queue.delete(c)}},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.relayer=e,this.logger=Ic(t,this.name),this.registerEventListeners()}get context(){return Mc(this.logger)}async rpcPublish(e){var t,r,i,n;const{topic:s,message:o,ttl:a=dy,prompt:c,tag:l,id:u,attestation:h}=e,d={method:Hb(Vb().protocol).publish,params:{topic:s,message:o,ttl:a,prompt:c,tag:l,attestation:h},id:u};gm(null==(t=d.params)?void 0:t.prompt)&&(null==(r=d.params)||delete r.prompt),gm(null==(i=d.params)?void 0:i.tag)&&(null==(n=d.params)||delete n.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:d});const f=await this.relayer.request(d);return this.relayer.events.emit(wy,e),this.logger.debug("Successfully Published Payload"),f}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach((async(e,t)=>{const r=e.attempt+1;this.queue.set(t,$w(Xw({},e),{attempt:r}));const{topic:i,message:n,opts:s,attestation:o}=e;this.logger.warn({},"Publisher: queue->publishing: ".concat(e.opts.id,", tag: ").concat(e.opts.tag,", attempt: ").concat(r)),await this.rpcPublish({topic:i,message:n,ttl:s.ttl,prompt:s.prompt,tag:s.tag,id:s.id,attestation:o}),this.logger.warn({},"Publisher: queue->published: ".concat(e.opts.id))}))}registerEventListeners(){this.relayer.core.heartbeat.on(va,(()=>{if(this.needsTransportRestart)return this.needsTransportRestart=!1,void this.relayer.events.emit(vy);this.checkQueue()})),this.relayer.on(gy,(e=>{this.removeRequestFromQueue(e.id.toString())}))}}class eS{constructor(){this.map=new Map,this.set=(e,t)=>{const r=this.get(e);this.exists(e,t)||this.map.set(e,[...r,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u")return void this.map.delete(e);if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,t))return;const i=r.filter((e=>e!==t));i.length?this.map.set(e,i):this.map.delete(e)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var tS=Object.defineProperty,rS=Object.defineProperties,iS=Object.getOwnPropertyDescriptors,nS=Object.getOwnPropertySymbols,sS=Object.prototype.hasOwnProperty,oS=Object.prototype.propertyIsEnumerable,aS=(e,t,r)=>t in e?tS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,cS=(e,t)=>{for(var r in t||(t={}))sS.call(t,r)&&aS(e,r,t[r]);if(nS)for(var r of nS(t))oS.call(t,r)&&aS(e,r,t[r]);return e},lS=(e,t)=>rS(e,iS(t));class uS extends Tc{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new eS,this.events=new fa.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=ay,this.subscribeTimeout=(0,ga.toMiliseconds)(ga.ONE_MINUTE),this.initialSubscribeTimeout=(0,ga.toMiliseconds)(15*ga.ONE_SECOND),this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId(),await this.restore()),this.initialized=!0},this.subscribe=async(e,t)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{const r=Vb(t),i={topic:e,relay:r,transportType:null===t||void 0===t?void 0:t.transportType};this.pending.set(e,i);const n=await this.rpcSubscribe(e,r,t);return"string"==typeof n&&(this.onSubscribe(n,i),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}})),n}catch(r){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(r),r}},this.unsubscribe=async(e,t)=>{await this.restartToComplete(),this.isInitialized(),typeof(null===t||void 0===t?void 0:t.id)<"u"?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)},this.isSubscribed=async e=>{if(this.topics.includes(e))return!0;const t="".concat(this.pendingSubscriptionWatchLabel,"_").concat(e);return await new Promise(((r,i)=>{const n=new ga.Watch;n.start(t);const s=setInterval((()=>{(!this.pending.has(e)&&this.topics.includes(e)||this.cached.some((t=>t.topic===e)))&&(clearInterval(s),n.stop(t),r(!0)),n.elapsed(t)>=Ty&&(clearInterval(s),n.stop(t),i(new Error("Subscription resolution timeout")))}),this.pollingInterval)})).catch((()=>!1))},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{await this.restore(),await this.onRestart()},this.checkPending=async()=>{if(0===this.pending.size&&(!this.initialized||!this.relayer.connected))return;const e=[];this.pending.forEach((t=>{e.push(t)})),await this.batchSubscribe(e)},this.registerEventListeners=()=>{this.relayer.core.heartbeat.on(va,(async()=>{await this.checkPending()})),this.events.on(ky,(async e=>{const t=ky;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})),this.events.on(Oy,(async e=>{const t=Oy;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}))},this.relayer=e,this.logger=Ic(t,this.name),this.clientId=""}get context(){return Mc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let r=!1;try{r=this.getSubscription(e).topic===t}catch(i){}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const r=this.topicMap.get(e);await Promise.all(r.map((async r=>await this.unsubscribeById(e,r,t))))}async unsubscribeById(e,t,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}});try{const i=Vb(r);await this.rpcUnsubscribe(e,t,i);const n=fm("USER_DISCONNECTED","".concat(this.name,", ").concat(e));await this.onUnsubscribe(e,t,n),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}})}catch(Sc){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(Sc),Sc}}async rpcSubscribe(e,t,r){var i;(null===r||void 0===r?void 0:r.transportType)===Ay&&await this.restartToComplete();const n={method:Hb(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});const s=null==(i=null===r||void 0===r?void 0:r.internal)?void 0:i.throwOnFailedPublish;try{const t=this.getSubscriptionId(e);if((null===r||void 0===r?void 0:r.transportType)===xy)return setTimeout((()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(n).catch((e=>this.logger.warn(e)))}),(0,ga.toMiliseconds)(ga.ONE_SECOND)),t;const i=new Promise((async t=>{const r=i=>{i.topic===e&&(this.events.removeListener(ky,r),t(i.id))};this.events.on(ky,r);try{const i=await Sp(new Promise(((e,t)=>{this.relayer.request(n).catch((e=>{this.logger.warn(e,null===e||void 0===e?void 0:e.message),t(e)})).then(e)})),this.initialSubscribeTimeout,"Subscribing to ".concat(e," failed, please try again"));this.events.removeListener(ky,r),t(i)}catch(i){}})),o=await Sp(i,this.subscribeTimeout,"Subscribing to ".concat(e," failed, please try again"));if(!o&&s)throw new Error("Subscribing to ".concat(e," failed, please try again"));return o?t:null}catch(kc){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(vy),s)throw kc}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t={method:Hb(e[0].relay.protocol).batchSubscribe,params:{topics:e.map((e=>e.topic))}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{await await Sp(new Promise((e=>{this.relayer.request(t).catch((e=>this.logger.warn(e))).then(e)})),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch(r){this.relayer.events.emit(vy)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t={method:Hb(e[0].relay.protocol).batchFetchMessages,params:{topics:e.map((e=>e.topic))}};let r;this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{r=await await Sp(new Promise(((e,r)=>{this.relayer.request(t).catch((e=>{this.logger.warn(e),r(e)})).then(e)})),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch(i){this.relayer.events.emit(vy)}return r}rpcUnsubscribe(e,t,r){const i={method:Hb(r.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,t){this.setSubscription(e,lS(cS({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach((e=>{this.setSubscription(e.id,cS({},e)),this.pending.delete(e.topic)}))}async onUnsubscribe(e,t,r){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,cS({},t)),this.topicMap.set(t.topic,e),this.events.emit(ky,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:t}=dm("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw new Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Oy,lS(cS({},r),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Ny)}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<t;r++){const t=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(t)}}this.events.emit(Ry)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:e}=dm("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error("".concat(this.name,": ").concat(JSON.stringify(this.values))),new Error(e)}this.cached=e,this.logger.debug("Successfully Restored subscriptions for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug("Failed to Restore subscriptions for ".concat(this.name)),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(e.map((e=>lS(cS({},e),{id:this.getSubscriptionId(e.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace("Fetching batch messages for ".concat(e.length," subscriptions"));const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await function(e){return new Promise((t=>setTimeout(t,e)))}((0,ga.toMiliseconds)(ga.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=dm("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){!this.relayer.connected&&!this.relayer.connecting&&await this.relayer.transportOpen()}getSubscriptionId(e){return Lb(e+this.clientId)}}var hS=Object.defineProperty,dS=Object.getOwnPropertySymbols,fS=Object.prototype.hasOwnProperty,pS=Object.prototype.propertyIsEnumerable,gS=(e,t,r)=>t in e?hS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,bS=(e,t)=>{for(var r in t||(t={}))fS.call(t,r)&&gS(e,r,t[r]);if(dS)for(var r of dS(t))pS.call(t,r)&&gS(e,r,t[r]);return e};class mS extends Nc{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new fa.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1,this.heartBeatTimeout=(0,ga.toMiliseconds)(ga.THIRTY_SECONDS+ga.FIVE_SECONDS),this.requestsInFlight=[],this.connectTimeout=(0,ga.toMiliseconds)(15*ga.ONE_SECOND),this.request=async e=>{var t,r;this.logger.debug("Publishing Request Payload");const i=e.id||Dm().toString();await this.toEstablishConnection();try{this.logger.trace({id:i,method:e.method,topic:null==(t=e.params)?void 0:t.topic},"relayer.request - publishing...");const n="".concat(i,":").concat((null==(r=e.params)?void 0:r.tag)||"");this.requestsInFlight.push(n);const s=await this.provider.request(e);return this.requestsInFlight=this.requestsInFlight.filter((e=>e!==n)),s}catch(ma){throw this.logger.debug("Failed to Publish Request: ".concat(i)),ma}},this.resetPingTimeout=()=>{if(hp())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout((()=>{var e,t,r;this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)||r.terminate()}),this.heartBeatTimeout)}catch(e){this.logger.warn(e,null===e||void 0===e?void 0:e.message)}},this.onPayloadHandler=e=>{this.onProviderPayload(e),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.warn({},"Relayer connected \ud83d\udedc"),this.startPingTimeout(),this.events.emit(by)},this.onDisconnectHandler=()=>{this.logger.warn({},"Relayer disconnected \ud83d\uded1"),this.requestsInFlight=[],this.onProviderDisconnect()},this.onProviderErrorHandler=e=>{this.logger.fatal(e,"Fatal socket error: ".concat(null===e||void 0===e?void 0:e.message)),this.events.emit(yy,e),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(Sy,this.onPayloadHandler),this.provider.on(Ey,this.onConnectHandler),this.provider.on(_y,this.onDisconnectHandler),this.provider.on(My,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&"string"!=typeof e.logger?Ic(e.logger,this.name):sc()(_c({level:e.logger||"error"})),this.messages=new Kw(this.logger,e.core),this.subscriber=new uS(this,this.logger),this.publisher=new Qw(this,this.logger),this.relayUrl=(null===e||void 0===e?void 0:e.relayUrl)||fy,this.projectId=e.projectId,dp()&&typeof r.g<"u"&&typeof(null==r.g?void 0:r.g.Platform)<"u"&&"android"===(null==r.g?void 0:r.g.Platform.OS)?this.packageName=gp():dp()&&typeof r.g<"u"&&typeof(null==r.g?void 0:r.g.Platform)<"u"&&"ios"===(null==r.g?void 0:r.g.Platform.OS)&&(this.bundleId=gp()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.cached.length>0)try{await this.transportOpen()}catch(e){this.logger.warn(e,null===e||void 0===e?void 0:e.message)}}get context(){return Mc(this.logger)}get connected(){var e,t,r;return 1===(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)}get connecting(){var e,t,r;return 0===(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)}async publish(e,t,r){this.isInitialized(),await this.publisher.publish(e,t,r),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:Ay})}async subscribe(e,t){var r,i,n;this.isInitialized(),(null==t||!t.transportType||"relay"===(null===t||void 0===t?void 0:t.transportType))&&await this.toEstablishConnection();const s=typeof(null==(r=null===t||void 0===t?void 0:t.internal)?void 0:r.throwOnFailedPublish)>"u"||(null==(i=null===t||void 0===t?void 0:t.internal)?void 0:i.throwOnFailedPublish);let o,a=(null==(n=this.subscriber.topicMap.get(e))?void 0:n[0])||"";const c=t=>{t.topic===e&&(this.subscriber.off(ky,c),o())};return await Promise.all([new Promise((e=>{o=e,this.subscriber.on(ky,c)})),new Promise((async(r,i)=>{a=await this.subscriber.subscribe(e,bS({internal:{throwOnFailedPublish:s}},t)).catch((e=>{s&&i(e)}))||a,r()}))]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Sp(this.provider.disconnect(),2e3,"provider.disconnect()").catch((()=>this.onProviderDisconnect())):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise((async(t,r)=>{await this.connect(e).then(t).catch(r).finally((()=>{this.connectPromise=void 0}))})),await this.connectPromise),!this.connected)throw new Error("Couldn't establish socket connection to the relay server: ".concat(this.relayUrl))}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Sm())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(0===(null===e||void 0===e?void 0:e.length))return void this.logger.trace("Batch message events is empty. Ignoring...");const t=e.sort(((e,t)=>e.publishedAt-t.publishedAt));this.logger.debug("Batch of ".concat(t.length," message events sorted"));for(const r of t)try{await this.onMessageEvent(r)}catch(Sc){this.logger.warn(Sc,"Error while processing batch message event: "+(null===Sc||void 0===Sc?void 0:Sc.message))}this.logger.trace("Batch of ".concat(t.length," message events processed"))}async onLinkMessageEvent(e,t){const{topic:r}=e;if(!t.sessionExists){const e={topic:r,expiry:_p(ga.FIVE_MINUTES),relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,e)}this.events.emit(py,e),await this.recordMessageEvent(e)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{this.logger.debug({},"Connecting to ".concat(this.relayUrl,", attempt: ").concat(t,"...")),await this.createProvider(),await new Promise((async(e,t)=>{const r=()=>{t(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(_y,r),await Sp(new Promise(((e,t)=>{this.provider.connect().then(e).catch(t)})),this.connectTimeout,"Socket stalled when trying to connect to ".concat(this.relayUrl)).catch((e=>{t(e)})).finally((()=>{this.provider.off(_y,r),clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0})),await new Promise((async(e,t)=>{const r=()=>{t(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(_y,r),await this.subscriber.start().then(e).catch(t).finally((()=>{this.provider.off(_y,r)}))})),this.hasExperiencedNetworkDisruption=!1,e()}))}catch(ya){await this.subscriber.stop();const t=ya;this.logger.warn({},t.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},"Connected to ".concat(this.relayUrl," successfully on attempt: ").concat(t));break}await new Promise((e=>setTimeout(e,(0,ga.toMiliseconds)(1*t)))),t++}}startPingTimeout(){var e,t,r,i,n;if(hp())try{null!=(t=null==(e=this.provider)?void 0:e.connection)&&t.socket&&(null==(n=null==(i=null==(r=this.provider)?void 0:r.connection)?void 0:i.socket)||n.on("ping",(()=>{this.resetPingTimeout()}))),this.resetPingTimeout()}catch(ma){this.logger.warn(ma,null===ma||void 0===ma?void 0:ma.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new ey(new iy(mp({sdkVersion:Iy,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:t,message:r}=e;await this.messages.set(t,r)}async shouldIgnoreMessageEvent(e){const{topic:t,message:r}=e;if(!r||0===r.length)return this.logger.warn("Ignoring invalid/empty message: ".concat(r)),!0;if(!await this.subscriber.isSubscribed(t))return this.logger.warn("Ignoring message for non-subscribed topic ".concat(t)),!0;const i=this.messages.has(t,r);return i&&this.logger.warn("Ignoring duplicate message: ".concat(r)),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),Zm(e)){if(!e.method.endsWith("_subscription"))return;const t=e.params,{topic:r,message:i,publishedAt:n,attestation:s}=t.data,o={topic:r,message:i,publishedAt:n,transportType:Ay,attestation:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(bS({type:"event",event:t.id},o)),this.events.emit(t.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else Xm(e)&&this.events.emit(gy,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(py,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const t=jm(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(Sy,this.onPayloadHandler),this.provider.off(Ey,this.onConnectHandler),this.provider.off(_y,this.onDisconnectHandler),this.provider.off(My,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await Sm();Em((async t=>{e!==t&&(e=t,t?await this.transportOpen().catch((e=>this.logger.error(e,null===e||void 0===e?void 0:e.message))):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}))}async onProviderDisconnect(){await this.subscriber.stop(),clearTimeout(this.pingTimeout),this.events.emit(my),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&(this.reconnectTimeout||this.connectPromise||(this.reconnectTimeout=setTimeout((async()=>{clearTimeout(this.reconnectTimeout),await this.transportOpen().catch((e=>this.logger.error(e,null===e||void 0===e?void 0:e.message)))}),(0,ga.toMiliseconds)(.1))))}isInitialized(){if(!this.initialized){const{message:e}=dm("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&await this.transportOpen()}}var yS=Object.defineProperty,vS=Object.getOwnPropertySymbols,wS=Object.prototype.hasOwnProperty,SS=Object.prototype.propertyIsEnumerable,ES=(e,t,r)=>t in e?yS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,_S=(e,t)=>{for(var r in t||(t={}))wS.call(t,r)&&ES(e,r,t[r]);if(vS)for(var r of vS(t))SS.call(t,r)&&ES(e,r,t[r]);return e};class MS extends Rc{constructor(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ay,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;super(e,t,r,i),this.core=e,this.logger=t,this.name=r,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=ay,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((e=>{this.getKey&&null!==e&&!gm(e)?this.map.set(this.getKey(e),e):function(e){var t;return null==(t=null===e||void 0===e?void 0:e.proposer)?void 0:t.publicKey}(e)?this.map.set(e.id,e):function(e){return null===e||void 0===e?void 0:e.topic}(e)&&this.map.set(e.topic,e)})),this.cached=[],this.initialized=!0)},this.set=async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())},this.get=e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e)),this.getAll=e=>(this.isInitialized(),e?this.values.filter((t=>Object.keys(e).every((r=>sy()(t[r],e[r]))))):this.values),this.update=async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});const r=_S(_S({},this.getData(e)),t);this.map.set(e,r),await this.persist()},this.delete=async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),this.addToRecentlyDeleted(e),await this.persist())},this.logger=Ic(t,this.name),this.storagePrefix=i,this.getKey=n}get context(){return Mc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:t}=dm("MISSING_OR_INVALID","Record was recently deleted - ".concat(this.name,": ").concat(e));throw this.logger.error(t),new Error(t)}const{message:t}=dm("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw this.logger.error(t),new Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:e}=dm("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug("Successfully Restored value for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug("Failed to Restore value for ".concat(this.name)),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=dm("NOT_INITIALIZED",this.name);throw new Error(e)}}}class IS{constructor(e,t){this.core=e,this.logger=t,this.name="pairing",this.version="0.3",this.events=new(pa()),this.initialized=!1,this.storagePrefix=ay,this.ignoredPayloadTypes=[1],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=e=>{let{methods:t}=e;this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...t])]},this.create=async e=>{this.isInitialized();const t=Tb(),r=await this.core.crypto.setSymKey(t),i=_p(ga.FIVE_MINUTES),n={protocol:"irn"},s={topic:r,expiry:i,relay:n,active:!1,methods:null===e||void 0===e?void 0:e.methods},o=Yb({protocol:this.core.protocol,version:this.core.version,topic:r,symKey:t,relay:n,expiryTimestamp:i,methods:null===e||void 0===e?void 0:e.methods});return this.events.emit(Ly,s),this.core.expirer.set(r,i),await this.pairings.set(r,s),await this.core.relayer.subscribe(r,{transportType:null===e||void 0===e?void 0:e.transportType}),{topic:r,uri:o}},this.pair=async e=>{this.isInitialized();const t=this.core.eventClient.createEvent({properties:{topic:null===e||void 0===e?void 0:e.uri,trace:[Xy]}});this.isValidPair(e,t);const{topic:r,symKey:i,relay:n,expiryTimestamp:s,methods:o}=Gb(e.uri);let a;if(t.props.properties.topic=r,t.addTrace($y),t.addTrace(Qy),this.pairings.keys.includes(r)){if(a=this.pairings.get(r),t.addTrace(iv),a.active)throw t.setError(cv),new Error("Pairing already exists: ".concat(r,". Please try again with a new connection URI."));t.addTrace(nv)}const c=s||_p(ga.FIVE_MINUTES),l={topic:r,relay:n,expiry:c,active:!1,methods:o};this.core.expirer.set(r,c),await this.pairings.set(r,l),t.addTrace(ev),e.activatePairing&&await this.activate({topic:r}),this.events.emit(Ly,l),t.addTrace(sv),this.core.crypto.keychain.has(r)||await this.core.crypto.setSymKey(i,r),t.addTrace(tv);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch(u){t.setError(ov)}try{await this.core.relayer.subscribe(r,{relay:n})}catch(dc){throw t.setError(lv),dc}return t.addTrace(rv),l},this.activate=async e=>{let{topic:t}=e;this.isInitialized();const r=_p(ga.FIVE_MINUTES);this.core.expirer.set(t,r),await this.pairings.update(t,{active:!0,expiry:r})},this.ping=async e=>{this.isInitialized(),await this.isValidPing(e),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:t}=e;if(this.pairings.keys.includes(t)){const e=await this.sendRequest(t,"wc_pairingPing",{}),{done:r,resolve:i,reject:n}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ga.FIVE_MINUTES,t=arguments.length>1?arguments[1]:void 0;const r=(0,ga.toMiliseconds)(e||ga.FIVE_MINUTES);let i,n,s,o;return{resolve:e=>{s&&i&&(clearTimeout(s),i(e),o=Promise.resolve(e))},reject:e=>{s&&n&&(clearTimeout(s),n(e))},done:()=>new Promise(((e,a)=>{if(o)return e(o);s=setTimeout((()=>{const e=new Error(t);o=Promise.reject(e),a(e)}),r),i=e,n=a}))}}();this.events.once(Ip("pairing_ping",e),(e=>{let{error:t}=e;t?n(t):i()})),await r()}},this.updateExpiry=async e=>{let{topic:t,expiry:r}=e;this.isInitialized(),await this.pairings.update(t,{expiry:r})},this.updateMetadata=async e=>{let{topic:t,metadata:r}=e;this.isInitialized(),await this.pairings.update(t,{peerMetadata:r})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async e=>{this.isInitialized(),await this.isValidDisconnect(e);const{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",fm("USER_DISCONNECTED")),await this.deletePairing(t))},this.formatUriFromPairing=e=>{this.isInitialized();const{topic:t,relay:r,expiry:i,methods:n}=e,s=this.core.crypto.keychain.get(t);return Yb({protocol:this.core.protocol,version:this.core.version,topic:t,symKey:s,relay:r,expiryTimestamp:i,methods:n})},this.sendRequest=async(e,t,r)=>{const i=qm(t,r),n=await this.core.crypto.encode(e,i),s=Cy[t].req;return this.core.history.set(e,i),this.core.relayer.publish(e,n,s),i.id},this.sendResult=async(e,t,r)=>{const i=jm(e,r),n=await this.core.crypto.encode(t,i),s=await this.core.history.get(t,e),o=Cy[s.request.method].res;await this.core.relayer.publish(t,n,o),await this.core.history.resolve(i)},this.sendError=async(e,t,r)=>{const i=Bm(e,r),n=await this.core.crypto.encode(t,i),s=await this.core.history.get(t,e),o=Cy[s.request.method]?Cy[s.request.method].res:Cy.unregistered_method.res;await this.core.relayer.publish(t,n,o),await this.core.history.resolve(i)},this.deletePairing=async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,fm("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])},this.cleanup=async()=>{const e=this.pairings.getAll().filter((e=>Mp(e.expiry)));await Promise.all(e.map((e=>this.deletePairing(e.topic))))},this.onRelayEventRequest=e=>{const{topic:t,payload:r}=e;switch(r.method){case"wc_pairingPing":return this.onPairingPingRequest(t,r);case"wc_pairingDelete":return this.onPairingDeleteRequest(t,r);default:return this.onUnknownRpcMethodRequest(t,r)}},this.onRelayEventResponse=async e=>{const{topic:t,payload:r}=e,i=(await this.core.history.get(t,r.id)).request.method;return"wc_pairingPing"===i?this.onPairingPingResponse(t,r):this.onUnknownRpcMethodResponse(i)},this.onPairingPingRequest=async(e,t)=>{const{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult(r,e,!0),this.events.emit(Dy,{id:r,topic:e})}catch(ma){await this.sendError(r,e,ma),this.logger.error(ma)}},this.onPairingPingResponse=(e,t)=>{const{id:r}=t;setTimeout((()=>{$m(t)?this.events.emit(Ip("pairing_ping",r),{}):Qm(t)&&this.events.emit(Ip("pairing_ping",r),{error:t.error})}),500)},this.onPairingDeleteRequest=async(e,t)=>{const{id:r}=t;try{this.isValidDisconnect({topic:e}),await this.deletePairing(e),this.events.emit(Uy,{id:r,topic:e})}catch(ma){await this.sendError(r,e,ma),this.logger.error(ma)}},this.onUnknownRpcMethodRequest=async(e,t)=>{const{id:r,method:i}=t;try{if(this.registeredMethods.includes(i))return;const t=fm("WC_METHOD_UNSUPPORTED",i);await this.sendError(r,e,t),this.logger.error(t)}catch(kc){await this.sendError(r,e,kc),this.logger.error(kc)}},this.onUnknownRpcMethodResponse=e=>{this.registeredMethods.includes(e)||this.logger.error(fm("WC_METHOD_UNSUPPORTED",e))},this.isValidPair=(e,t)=>{var r;if(!vm(e)){const{message:r}=dm("MISSING_OR_INVALID","pair() params: ".concat(e));throw t.setError(av),new Error(r)}if(!ym(e.uri)){const{message:r}=dm("MISSING_OR_INVALID","pair() uri: ".concat(e.uri));throw t.setError(av),new Error(r)}const i=Gb(null===e||void 0===e?void 0:e.uri);if(null==(r=null===i||void 0===i?void 0:i.relay)||!r.protocol){const{message:e}=dm("MISSING_OR_INVALID","pair() uri#relay-protocol");throw t.setError(av),new Error(e)}if(null==i||!i.symKey){const{message:e}=dm("MISSING_OR_INVALID","pair() uri#symKey");throw t.setError(av),new Error(e)}if(null!=i&&i.expiryTimestamp&&(0,ga.toMiliseconds)(null===i||void 0===i?void 0:i.expiryTimestamp)<Date.now()){t.setError(uv);const{message:e}=dm("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(e)}},this.isValidPing=async e=>{if(!vm(e)){const{message:t}=dm("MISSING_OR_INVALID","ping() params: ".concat(e));throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)},this.isValidDisconnect=async e=>{if(!vm(e)){const{message:t}=dm("MISSING_OR_INVALID","disconnect() params: ".concat(e));throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)},this.isValidPairingTopic=async e=>{if(!bm(e,!1)){const{message:t}=dm("MISSING_OR_INVALID","pairing topic should be a string: ".concat(e));throw new Error(t)}if(!this.pairings.keys.includes(e)){const{message:t}=dm("NO_MATCHING_KEY","pairing topic doesn't exist: ".concat(e));throw new Error(t)}if(Mp(this.pairings.get(e).expiry)){await this.deletePairing(e);const{message:t}=dm("EXPIRED","pairing topic: ".concat(e));throw new Error(t)}},this.core=e,this.logger=Ic(t,this.name),this.pairings=new MS(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Mc(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=dm("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(py,(async e=>{const{topic:t,message:r,transportType:i}=e;if(!this.pairings.keys.includes(t)||i===xy||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))return;const n=await this.core.crypto.decode(t,r);try{Zm(n)?(this.core.history.set(t,n),this.onRelayEventRequest({topic:t,payload:n})):Xm(n)&&(await this.core.history.resolve(n),await this.onRelayEventResponse({topic:t,payload:n}),this.core.history.delete(t,n.id))}catch(ma){this.logger.error(ma)}}))}registerExpirerEvents(){this.core.expirer.on(Hy,(async e=>{const{topic:t}=function(e){const[t,r]=e.split(":"),i={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof r)i.topic=r;else{if("id"!==t||!Number.isInteger(Number(r)))throw new Error("Invalid target, expected id:number or topic:string, got ".concat(t,":").concat(r));i.id=Number(r)}return i}(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(zy,{topic:t}))}))}}class xS extends Pc{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new fa.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=ay,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((e=>this.records.set(e.id,e))),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(e,t,r)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:r}),this.records.has(t.id))return;const i={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:r,expiry:_p(ga.THIRTY_DAYS)};this.records.set(i.id,i),this.persist(),this.events.emit(qy,i)},this.resolve=async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;const t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=Qm(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.persist(),this.events.emit(jy,t))},this.get=async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t)),this.delete=(e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach((r=>{if(r.topic===e){if(typeof t<"u"&&r.id!==t)return;this.records.delete(r.id),this.events.emit(By,r)}})),this.persist()},this.exists=async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e),this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.logger=Ic(t,this.name)}get context(){return Mc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach((t=>{if(typeof t.response<"u")return;const r={topic:t.topic,request:qm(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(r)})),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:t}=dm("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw new Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Fy)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:e}=dm("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug("Successfully Restored records for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug("Failed to Restore records for ".concat(this.name)),this.logger.error(e)}}registerEventListeners(){this.events.on(qy,(e=>{const t=qy;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,record:e})})),this.events.on(jy,(e=>{const t=jy;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,record:e})})),this.events.on(By,(e=>{const t=By;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,record:e})})),this.core.heartbeat.on(va,(()=>{this.cleanup()}))}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach((t=>{(0,ga.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info("Deleting expired history log: ".concat(t.id)),this.records.delete(t.id),this.events.emit(By,t,!1),e=!0)})),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=dm("NOT_INITIALIZED",this.name);throw new Error(e)}}}class AS extends Cc{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new fa.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=ay,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((e=>this.expirations.set(e.target,e))),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=e=>{try{const t=this.formatTarget(e);return typeof this.getExpiration(t)<"u"}catch(t){return!1}},this.set=(e,t)=>{this.isInitialized();const r=this.formatTarget(e),i={target:r,expiry:t};this.expirations.set(r,i),this.checkExpiry(r,i),this.events.emit(Ky,{target:r,expiration:i})},this.get=e=>{this.isInitialized();const t=this.formatTarget(e);return this.getExpiration(t)},this.del=e=>{if(this.isInitialized(),this.has(e)){const t=this.formatTarget(e),r=this.getExpiration(t);this.expirations.delete(t),this.events.emit(Vy,{target:t,expiration:r})}},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.logger=Ic(t,this.name)}get context(){return Mc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return function(e){return Ep("topic",e)}(e);if("number"==typeof e)return function(e){return Ep("id",e)}(e);const{message:t}=dm("UNKNOWN_TYPE","Target type: ".concat(typeof e));throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Wy)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:e}=dm("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug("Successfully Restored expirations for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug("Failed to Restore expirations for ".concat(this.name)),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:t}=dm("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw this.logger.warn(t),new Error(t)}return t}checkExpiry(e,t){const{expiry:r}=t;(0,ga.toMiliseconds)(r)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(Hy,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach(((e,t)=>this.checkExpiry(t,e)))}registerEventListeners(){this.core.heartbeat.on(va,(()=>this.checkExpirations())),this.events.on(Ky,(e=>{const t=Ky;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),this.persist()})),this.events.on(Hy,(e=>{const t=Hy;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),this.persist()})),this.events.on(Vy,(e=>{const t=Vy;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),this.persist()}))}isInitialized(){if(!this.initialized){const{message:e}=dm("NOT_INITIALIZED",this.name);throw new Error(e)}}}class PS extends Lc{constructor(e,t,r){super(e,t,r),this.core=e,this.logger=t,this.store=r,this.name="verify-api",this.verifyUrlV3=Yy,this.storagePrefix=ay,this.version=2,this.init=async()=>{var e;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,ga.toMiliseconds)(null==(e=this.publicKey)?void 0:e.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))},this.register=async e=>{if(!fp()||this.isDevEnv)return;const t=window.location.origin,{id:r,decryptedId:i}=e,n="".concat(this.verifyUrlV3,"/attestation?projectId=").concat(this.core.projectId,"&origin=").concat(t,"&id=").concat(r,"&decryptedId=").concat(i);try{const e=(0,Md.getDocument)(),t=this.startAbortTimer(5*ga.ONE_SECOND),i=await new Promise(((i,s)=>{const o=()=>{window.removeEventListener("message",c),e.body.removeChild(a),s("attestation aborted")};this.abortController.signal.addEventListener("abort",o);const a=e.createElement("iframe");a.src=n,a.style.display="none",a.addEventListener("error",o,{signal:this.abortController.signal});const c=n=>{if(n.data&&"string"==typeof n.data)try{const s=JSON.parse(n.data);if("verify_attestation"===s.type){if(ld(s.attestation).payload.id!==r)return;clearInterval(t),e.body.removeChild(a),this.abortController.signal.removeEventListener("abort",o),window.removeEventListener("message",c),i(null===s.attestation?"":s.attestation)}}catch(s){this.logger.warn(s)}};e.body.appendChild(a),window.addEventListener("message",c,{signal:this.abortController.signal})}));return this.logger.debug("jwt attestation",i),i}catch(ic){this.logger.warn(ic)}return""},this.resolve=async e=>{if(this.isDevEnv)return"";const{attestationId:t,hash:r,encryptedId:i}=e;if(""===t)return void this.logger.debug("resolve: attestationId is empty, skipping");if(t){if(ld(t).payload.id!==i)return;const e=await this.isValidJwtAttestation(t);if(e)return e.isVerified?e:void this.logger.warn("resolve: jwt attestation: origin url not verified")}if(!r)return;const n=this.getVerifyUrl(null===e||void 0===e?void 0:e.verifyUrl);return this.fetchAttestation(r,n)},this.fetchAttestation=async(e,t)=>{this.logger.debug("resolving attestation: ".concat(e," from url: ").concat(t));const r=this.startAbortTimer(5*ga.ONE_SECOND),i=await fetch("".concat(t,"/attestation/").concat(e,"?v2Supported=true"),{signal:this.abortController.signal});return clearTimeout(r),200===i.status?await i.json():void 0},this.getVerifyUrl=e=>{let t=e||Jy;return Zy.includes(t)||(this.logger.info("verify url: ".concat(t,", not included in trusted list, assigning default: ").concat(Jy)),t=Jy),t},this.fetchPublicKey=async()=>{try{this.logger.debug("fetching public key from: ".concat(this.verifyUrlV3));const e=this.startAbortTimer(ga.FIVE_SECONDS),t=await fetch("".concat(this.verifyUrlV3,"/public-key"),{signal:this.abortController.signal});return clearTimeout(e),await t.json()}catch(Sc){this.logger.warn(Sc)}},this.persistPublicKey=async e=>{this.logger.debug("persisting public key to local storage",e),await this.store.setItem(this.storeKey,e),this.publicKey=e},this.removePublicKey=async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0},this.isValidJwtAttestation=async e=>{const t=await this.getPublicKey();try{if(t)return this.validateAttestation(e,t)}catch(kc){this.logger.error(kc),this.logger.warn("error validating attestation")}const r=await this.fetchAndPersistPublicKey();try{if(r)return this.validateAttestation(e,r)}catch(kc){this.logger.error(kc),this.logger.warn("error validating attestation")}},this.getPublicKey=async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey(),this.fetchAndPersistPublicKey=async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise((async e=>{const t=await this.fetchPublicKey();t&&(await this.persistPublicKey(t),e(t))}));const e=await this.fetchPromise;return this.fetchPromise=void 0,e},this.validateAttestation=(e,t)=>{const r=Kb(e,t.publicKey),i={hasExpired:(0,ga.toMiliseconds)(r.exp)<Date.now(),payload:r};if(i.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:i.payload.origin,isScam:i.payload.isScam,isVerified:i.payload.isVerified}},this.logger=Ic(t,this.name),this.abortController=new AbortController,this.isDevEnv=Pp(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Mc(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout((()=>this.abortController.abort()),(0,ga.toMiliseconds)(e))}}class kS extends zc{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.context="echo",this.registerDeviceToken=async e=>{const{clientId:t,token:r,notificationType:i,enableEncrypted:n=!1}=e,s="".concat("https://echo.walletconnect.com","/").concat(this.projectId,"/clients");await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,type:i,token:r,always_raw:n})})},this.logger=Ic(t,this.context)}}var OS=Object.defineProperty,NS=Object.getOwnPropertySymbols,RS=Object.prototype.hasOwnProperty,TS=Object.prototype.propertyIsEnumerable,CS=(e,t,r)=>t in e?OS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,LS=(e,t)=>{for(var r in t||(t={}))RS.call(t,r)&&CS(e,r,t[r]);if(NS)for(var r of NS(t))TS.call(t,r)&&CS(e,r,t[r]);return e};class zS extends Uc{constructor(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,t,r),this.core=e,this.logger=t,this.context="event-client",this.storagePrefix=ay,this.storageVersion=.1,this.events=new Map,this.shouldPersist=!1,this.init=async()=>{if(!Pp())try{const e={eventId:Ap(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:bp(this.core.relayer.protocol,this.core.relayer.version,Iy)}}};await this.sendEvent([e])}catch(Sc){this.logger.warn(Sc)}},this.createEvent=e=>{const{event:t="ERROR",type:r="",properties:{topic:i,trace:n}}=e,s=Ap(),o=this.core.projectId||"",a=Date.now(),c=LS({eventId:s,timestamp:a,props:{event:t,type:r,properties:{topic:i,trace:n}},bundleId:o,domain:this.getAppDomain()},this.setMethods(s));return this.telemetryEnabled&&(this.events.set(s,c),this.shouldPersist=!0),c},this.getEvent=e=>{const{eventId:t,topic:r}=e;if(t)return this.events.get(t);const i=Array.from(this.events.values()).find((e=>e.props.properties.topic===r));return i?LS(LS({},i),this.setMethods(i.eventId)):void 0},this.deleteEvent=e=>{const{eventId:t}=e;this.events.delete(t),this.shouldPersist=!0},this.setEventListeners=()=>{this.core.heartbeat.on(va,(async()=>{this.shouldPersist&&await this.persist(),this.events.forEach((e=>{(0,ga.fromMiliseconds)(Date.now())-(0,ga.fromMiliseconds)(e.timestamp)>86400&&(this.events.delete(e.eventId),this.shouldPersist=!0)}))}))},this.setMethods=e=>({addTrace:t=>this.addTrace(e,t),setError:t=>this.setError(e,t)}),this.addTrace=(e,t)=>{const r=this.events.get(e);r&&(r.props.properties.trace.push(t),this.events.set(e,r),this.shouldPersist=!0)},this.setError=(e,t)=>{const r=this.events.get(e);r&&(r.props.type=t,r.timestamp=Date.now(),this.events.set(e,r),this.shouldPersist=!0)},this.persist=async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1},this.restore=async()=>{try{const e=await this.core.storage.getItem(this.storageKey)||[];if(!e.length)return;e.forEach((e=>{this.events.set(e.eventId,LS(LS({},e),this.setMethods(e.eventId)))}))}catch(Sc){this.logger.warn(Sc)}},this.submit=async()=>{if(!this.telemetryEnabled||0===this.events.size)return;const e=[];for(const[r,i]of this.events)i.props.type&&e.push(i);if(0!==e.length)try{if((await this.sendEvent(e)).ok)for(const t of e)this.events.delete(t.eventId),this.shouldPersist=!0}catch(t){this.logger.warn(t)}},this.sendEvent=async e=>{const t=this.getAppDomain()?"":"&sp=desktop";return await fetch("".concat("https://pulse.walletconnect.org/batch","?projectId=").concat(this.core.projectId,"&st=events_sdk&sv=js-").concat(Iy).concat(t),{method:"POST",body:JSON.stringify(e)})},this.getAppDomain=()=>((0,Id.g)()||{name:"",description:"",url:"",icons:[""]}).url,this.logger=Ic(t,this.context),this.telemetryEnabled=r,r?this.restore().then((async()=>{await this.submit(),this.setEventListeners()})):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var US=Object.defineProperty,DS=Object.getOwnPropertySymbols,qS=Object.prototype.hasOwnProperty,jS=Object.prototype.propertyIsEnumerable,BS=(e,t,r)=>t in e?US(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,FS=(e,t)=>{for(var r in t||(t={}))qS.call(t,r)&&BS(e,r,t[r]);if(DS)for(var r of DS(t))jS.call(t,r)&&BS(e,r,t[r]);return e};class KS extends Ac{constructor(e){var t;super(e),this.protocol="wc",this.version=2,this.name=oy,this.events=new fa.EventEmitter,this.initialized=!1,this.on=(e,t)=>this.events.on(e,t),this.once=(e,t)=>this.events.once(e,t),this.off=(e,t)=>this.events.off(e,t),this.removeListener=(e,t)=>this.events.removeListener(e,t),this.dispatchEnvelope=e=>{let{topic:t,message:r,sessionExists:i}=e;if(!t||!r)return;const n={topic:t,message:r,publishedAt:Date.now(),transportType:xy};this.relayer.onLinkMessageEvent(n,{sessionExists:i})},this.projectId=null===e||void 0===e?void 0:e.projectId,this.relayUrl=(null===e||void 0===e?void 0:e.relayUrl)||fy,this.customStoragePrefix=null!=e&&e.customStoragePrefix?":".concat(e.customStoragePrefix):"";const r=_c({level:"string"==typeof(null===e||void 0===e?void 0:e.logger)&&e.logger?e.logger:cy,name:oy}),{logger:i,chunkLoggerController:n}=xc({opts:r,maxSizeInBytes:null===e||void 0===e?void 0:e.maxLogBlobSizeInBytes,loggerOverride:null===e||void 0===e?void 0:e.logger});this.logChunkController=n,null!=(t=this.logChunkController)&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var e,t;null!=(e=this.logChunkController)&&e.downloadLogsBlobInBrowser&&(null==(t=this.logChunkController)||t.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Ic(i,this.name),this.heartbeat=new wa,this.crypto=new Fw(this,this.logger,null===e||void 0===e?void 0:e.keychain),this.history=new xS(this,this.logger),this.expirer=new AS(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new ic(FS(FS({},ly),null===e||void 0===e?void 0:e.storageOptions)),this.relayer=new mS({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new IS(this,this.logger),this.verify=new PS(this,this.logger,this.storage),this.echoClient=new kS(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new zS(this,this.logger,null===e||void 0===e?void 0:e.telemetryEnabled)}static async init(e){const t=new KS(e);await t.initialize();const r=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",r),t}get context(){return Mc(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return null==(e=this.logChunkController)?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(Py,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Py)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn("Core Initialization Failure at epoch ".concat(Date.now()),e),this.logger.error(e.message),e}}}const VS=KS;let HS=!1,WS=!1;const GS={debug:1,default:2,info:2,warning:3,error:4,off:5};let JS=GS.default,YS=null;const ZS=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var XS,$S;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(XS||(XS={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}($S||($S={}));const QS="0123456789abcdef";class eE{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==GS[r]&&this.throwArgumentError("invalid log level name","logLevel",e),JS>GS[r]||console.log.apply(console,t)}debug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(eE.levels.DEBUG,t)}info(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(eE.levels.INFO,t)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(eE.levels.WARNING,t)}makeError(e,t,r){if(WS)return this.makeError("censored error",t,{});t||(t=eE.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=QS[t[e]>>4],r+=QS[15&t[e]];i.push(e+"=Uint8Array(0x"+r+")")}else i.push(e+"="+JSON.stringify(t))}catch(o){i.push(e+"="+JSON.stringify(r[e].toString()))}})),i.push("code=".concat(t)),i.push("version=".concat(this.version));const n=e;let s="";switch(t){case $S.NUMERIC_FAULT:{s="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":s+="-"+t;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case $S.CALL_EXCEPTION:case $S.INSUFFICIENT_FUNDS:case $S.MISSING_NEW:case $S.NONCE_EXPIRED:case $S.REPLACEMENT_UNDERPRICED:case $S.TRANSACTION_REPLACED:case $S.UNPREDICTABLE_GAS_LIMIT:s=t}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const o=new Error(e);return o.reason=n,o.code=t,Object.keys(r).forEach((function(e){o[e]=r[e]})),o}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,eE.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,i){e||this.throwError(t,r,i)}assertArgument(e,t,r,i){e||this.throwArgumentError(t,r,i)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),ZS&&this.throwError("platform missing String.prototype.normalize",eE.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:ZS})}checkSafeUint53(e,t){"number"===typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,eE.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,eE.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,eE.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,eE.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",eE.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",eE.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",eE.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return YS||(YS=new eE("logger/5.7.0")),YS}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",eE.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),HS){if(!e)return;this.globalLogger().throwError("error censorship permanent",eE.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}WS=!!e,HS=!!t}static setLogLevel(e){const t=GS[e.toLowerCase()];null!=t?JS=t:eE.globalLogger().warn("invalid log level - "+e)}static from(e){return new eE(e)}}eE.errors=$S,eE.levels=XS;const tE=new eE("bytes/5.7.0");function rE(e){return!!e.toHexString}function iE(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return iE(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function nE(e){return"number"===typeof e&&e==e&&e%1===0}function sE(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!nE(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!nE(r)||r<0||r>=256)return!1}return!0}function oE(e,t){if(t||(t={}),"number"===typeof e){tE.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),iE(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),rE(e)&&(e=e.toHexString()),cE(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":tE.throwArgumentError("hex data is odd-length","value",e));const i=[];for(let e=0;e<r.length;e+=2)i.push(parseInt(r.substring(e,e+2),16));return iE(new Uint8Array(i))}return sE(e)?iE(new Uint8Array(e)):tE.throwArgumentError("invalid arrayify value","value",e)}function aE(e){const t=e.map((e=>oE(e))),r=t.reduce(((e,t)=>e+t.length),0),i=new Uint8Array(r);return t.reduce(((e,t)=>(i.set(t,e),e+t.length)),0),iE(i)}function cE(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}const lE="0123456789abcdef";function uE(e,t){if(t||(t={}),"number"===typeof e){tE.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=lE[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"===typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),rE(e))return e.toHexString();if(cE(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":tE.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(sE(e)){let t="0x";for(let r=0;r<e.length;r++){let i=e[r];t+=lE[(240&i)>>4]+lE[15&i]}return t}return tE.throwArgumentError("invalid hexlify value","value",e)}function hE(e,t,r){return"string"!==typeof e?e=uE(e):(!cE(e)||e.length%2)&&tE.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function dE(e,t){for("string"!==typeof e?e=uE(e):cE(e)||tE.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&tE.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function fE(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(cE(r=e)&&!(r.length%2)||sE(r)){let r=oE(e);64===r.length?(t.v=27+(r[32]>>7),r[32]&=127,t.r=uE(r.slice(0,32)),t.s=uE(r.slice(32,64))):65===r.length?(t.r=uE(r.slice(0,32)),t.s=uE(r.slice(32,64)),t.v=r[64]):tE.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:tE.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=uE(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){const r=function(e,t){(e=oE(e)).length>t&&tE.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(t);return r.set(e,t-e.length),iE(r)}(oE(t._vs),32);t._vs=uE(r);const i=r[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=i:t.recoveryParam!==i&&tE.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),r[0]&=127;const n=uE(r);null==t.s?t.s=n:t.s!==n&&tE.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?tE.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{const r=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==r&&tE.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&cE(t.r)?t.r=dE(t.r,32):tE.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&cE(t.s)?t.s=dE(t.s,32):tE.throwArgumentError("signature missing or invalid s","signature",e);const r=oE(t.s);r[0]>=128&&tE.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);const i=uE(r);t._vs&&(cE(t._vs)||tE.throwArgumentError("signature invalid _vs","signature",e),t._vs=dE(t._vs,32)),null==t._vs?t._vs=i:t._vs!==i&&tE.throwArgumentError("signature _vs mismatch v and s","signature",e)}var r;return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}var pE=r(2161),gE=r.n(pE);function bE(e){return"0x"+gE().keccak_256(oE(e))}const mE=new eE("strings/5.7.0");var yE,vE;function wE(e,t,r,i,n){if(e===vE.BAD_PREFIX||e===vE.UNEXPECTED_CONTINUE){let e=0;for(let i=t+1;i<r.length&&r[i]>>6===2;i++)e++;return e}return e===vE.OVERRUN?r.length-t-1:0}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(yE||(yE={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(vE||(vE={}));Object.freeze({error:function(e,t,r,i,n){return mE.throwArgumentError("invalid codepoint at offset ".concat(t,"; ").concat(e),"bytes",r)},ignore:wE,replace:function(e,t,r,i,n){return e===vE.OVERLONG?(i.push(n),0):(i.push(65533),wE(e,t,r))}});function SE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yE.current;t!=yE.current&&(mE.checkNormalize(),e=e.normalize(t));let r=[];for(let i=0;i<e.length;i++){const t=e.charCodeAt(i);if(t<128)r.push(t);else if(t<2048)r.push(t>>6|192),r.push(63&t|128);else if(55296==(64512&t)){i++;const n=e.charCodeAt(i);if(i>=e.length||56320!==(64512&n))throw new Error("invalid utf-8 string");const s=65536+((1023&t)<<10)+(1023&n);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(63&s|128)}else r.push(t>>12|224),r.push(t>>6&63|128),r.push(63&t|128)}return oE(r)}function EE(e){return"string"===typeof e&&(e=SE(e)),bE(aE([SE("\x19Ethereum Signed Message:\n"),SE(String(e.length)),e]))}var _E=r(6373),ME=r.n(_E);var IE=ME().BN;new eE("bignumber/5.7.0");const xE=new eE("address/5.7.0");function AE(e){cE(e,20)||xE.throwArgumentError("invalid address","address",e);const t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let n=0;n<40;n++)r[n]=t[n].charCodeAt(0);const i=oE(bE(r));for(let n=0;n<40;n+=2)i[n>>1]>>4>=8&&(t[n]=t[n].toUpperCase()),(15&i[n>>1])>=8&&(t[n+1]=t[n+1].toUpperCase());return"0x"+t.join("")}const PE={};for(let r=0;r<10;r++)PE[String(r)]=String(r);for(let r=0;r<26;r++)PE[String.fromCharCode(65+r)]=String(10+r);const kE=Math.floor(function(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}(9007199254740991));function OE(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>PE[e])).join("");for(;t.length>=kE;){let e=t.substring(0,kE);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function NE(e){let t=null;if("string"!==typeof e&&xE.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=AE(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&xE.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==OE(e)&&xE.throwArgumentError("bad icap checksum","address",e),r=e.substring(4),t=new IE(r,36).toString(16);t.length<40;)t="0"+t;t=AE("0x"+t)}else xE.throwArgumentError("invalid address","address",e);var r;return t}var RE=r(3697),TE=r.n(RE);"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:"undefined"!==typeof self&&self;function CE(e,t,r){return r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===t||null===t)&&r.path)}},e(r,r.exports),r.exports}var LE=zE;function zE(e,t){if(!e)throw new Error(t||"Assertion failed")}zE.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var UE=CE((function(e,t){var r=t;function i(e){return 1===e.length?"0"+e:e}function n(e){for(var t="",r=0;r<e.length;r++)t+=i(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!==typeof e){for(var i=0;i<e.length;i++)r[i]=0|e[i];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(i=0;i<e.length;i++){var n=e.charCodeAt(i),s=n>>8,o=255&n;s?r.push(s,o):r.push(o)}return r},r.zero2=i,r.toHex=n,r.encode=function(e,t){return"hex"===t?n(e):e}})),DE=CE((function(e,t){var r=t;r.assert=LE,r.toArray=UE.toArray,r.zero2=UE.zero2,r.toHex=UE.toHex,r.encode=UE.encode,r.getNAF=function(e,t,r){var i=new Array(Math.max(e.bitLength(),r)+1);i.fill(0);for(var n=1<<t+1,s=e.clone(),o=0;o<i.length;o++){var a,c=s.andln(n-1);s.isOdd()?(a=c>(n>>1)-1?(n>>1)-c:c,s.isubn(a)):a=0,i[o]=a,s.iushrn(1)}return i},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var i,n=0,s=0;e.cmpn(-n)>0||t.cmpn(-s)>0;){var o,a,c=e.andln(3)+n&3,l=t.andln(3)+s&3;3===c&&(c=-1),3===l&&(l=-1),o=0===(1&c)?0:3!==(i=e.andln(7)+n&7)&&5!==i||2!==l?c:-c,r[0].push(o),a=0===(1&l)?0:3!==(i=t.andln(7)+s&7)&&5!==i||2!==c?l:-l,r[1].push(a),2*n===o+1&&(n=1-n),2*s===a+1&&(s=1-s),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var i="_"+t;e.prototype[t]=function(){return void 0!==this[i]?this[i]:this[i]=r.call(this)}},r.parseBytes=function(e){return"string"===typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new(ME())(e,"hex","le")}})),qE=DE.getNAF,jE=DE.getJSF,BE=DE.assert;function FE(e,t){this.type=e,this.p=new(ME())(t.p,16),this.red=t.prime?ME().red(t.prime):ME().mont(this.p),this.zero=new(ME())(0).toRed(this.red),this.one=new(ME())(1).toRed(this.red),this.two=new(ME())(2).toRed(this.red),this.n=t.n&&new(ME())(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var KE=FE;function VE(e,t){this.curve=e,this.type=t,this.precomputed=null}FE.prototype.point=function(){throw new Error("Not implemented")},FE.prototype.validate=function(){throw new Error("Not implemented")},FE.prototype._fixedNafMul=function(e,t){BE(e.precomputed);var r=e._getDoubles(),i=qE(t,1,this._bitLength),n=(1<<r.step+1)-(r.step%2===0?2:1);n/=3;var s,o,a=[];for(s=0;s<i.length;s+=r.step){o=0;for(var c=s+r.step-1;c>=s;c--)o=(o<<1)+i[c];a.push(o)}for(var l=this.jpoint(null,null,null),u=this.jpoint(null,null,null),h=n;h>0;h--){for(s=0;s<a.length;s++)(o=a[s])===h?u=u.mixedAdd(r.points[s]):o===-h&&(u=u.mixedAdd(r.points[s].neg()));l=l.add(u)}return l.toP()},FE.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var n=i.points,s=qE(t,r,this._bitLength),o=this.jpoint(null,null,null),a=s.length-1;a>=0;a--){for(var c=0;a>=0&&0===s[a];a--)c++;if(a>=0&&c++,o=o.dblp(c),a<0)break;var l=s[a];BE(0!==l),o="affine"===e.type?l>0?o.mixedAdd(n[l-1>>1]):o.mixedAdd(n[-l-1>>1].neg()):l>0?o.add(n[l-1>>1]):o.add(n[-l-1>>1].neg())}return"affine"===e.type?o.toP():o},FE.prototype._wnafMulAdd=function(e,t,r,i,n){var s,o,a,c=this._wnafT1,l=this._wnafT2,u=this._wnafT3,h=0;for(s=0;s<i;s++){var d=(a=t[s])._getNAFPoints(e);c[s]=d.wnd,l[s]=d.points}for(s=i-1;s>=1;s-=2){var f=s-1,p=s;if(1===c[f]&&1===c[p]){var g=[t[f],null,null,t[p]];0===t[f].y.cmp(t[p].y)?(g[1]=t[f].add(t[p]),g[2]=t[f].toJ().mixedAdd(t[p].neg())):0===t[f].y.cmp(t[p].y.redNeg())?(g[1]=t[f].toJ().mixedAdd(t[p]),g[2]=t[f].add(t[p].neg())):(g[1]=t[f].toJ().mixedAdd(t[p]),g[2]=t[f].toJ().mixedAdd(t[p].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],m=jE(r[f],r[p]);for(h=Math.max(m[0].length,h),u[f]=new Array(h),u[p]=new Array(h),o=0;o<h;o++){var y=0|m[0][o],v=0|m[1][o];u[f][o]=b[3*(y+1)+(v+1)],u[p][o]=0,l[f]=g}}else u[f]=qE(r[f],c[f],this._bitLength),u[p]=qE(r[p],c[p],this._bitLength),h=Math.max(u[f].length,h),h=Math.max(u[p].length,h)}var w=this.jpoint(null,null,null),S=this._wnafT4;for(s=h;s>=0;s--){for(var E=0;s>=0;){var _=!0;for(o=0;o<i;o++)S[o]=0|u[o][s],0!==S[o]&&(_=!1);if(!_)break;E++,s--}if(s>=0&&E++,w=w.dblp(E),s<0)break;for(o=0;o<i;o++){var M=S[o];0!==M&&(M>0?a=l[o][M-1>>1]:M<0&&(a=l[o][-M-1>>1].neg()),w="affine"===a.type?w.mixedAdd(a):w.add(a))}}for(s=0;s<i;s++)l[s]=null;return n?w:w.toP()},FE.BasePoint=VE,VE.prototype.eq=function(){throw new Error("Not implemented")},VE.prototype.validate=function(){return this.curve.validate(this)},FE.prototype.decodePoint=function(e,t){e=DE.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*r)return 6===e[0]?BE(e[e.length-1]%2===0):7===e[0]&&BE(e[e.length-1]%2===1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},VE.prototype.encodeCompressed=function(e){return this.encode(e,!0)},VE.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},VE.prototype.encode=function(e,t){return DE.encode(this._encode(t),e)},VE.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},VE.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},VE.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<t;n+=e){for(var s=0;s<e;s++)i=i.dbl();r.push(i)}return{step:e,points:r}},VE.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=1===r?null:this.dbl(),n=1;n<r;n++)t[n]=t[n-1].add(i);return{wnd:e,points:t}},VE.prototype._getBeta=function(){return null},VE.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var HE=CE((function(e){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),WE=DE.assert;function GE(e){KE.call(this,"short",e),this.a=new(ME())(e.a,16).toRed(this.red),this.b=new(ME())(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}HE(GE,KE);var JE=GE;function YE(e,t,r,i){KE.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(ME())(t,16),this.y=new(ME())(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function ZE(e,t,r,i){KE.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(ME())(0)):(this.x=new(ME())(t,16),this.y=new(ME())(r,16),this.z=new(ME())(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}GE.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new(ME())(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=(t=i[0].cmp(i[1])<0?i[0]:i[1]).toRed(this.red)}if(e.lambda)r=new(ME())(e.lambda,16);else{var n=this._getEndoRoots(this.n);0===this.g.mul(n[0]).x.cmp(this.g.x.redMul(t))?r=n[0]:(r=n[1],WE(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new(ME())(e.a,16),b:new(ME())(e.b,16)}})):this._getEndoBasis(r)}}},GE.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:ME().mont(e),r=new(ME())(2).toRed(t).redInvm(),i=r.redNeg(),n=new(ME())(3).toRed(t).redNeg().redSqrt().redMul(r);return[i.redAdd(n).fromRed(),i.redSub(n).fromRed()]},GE.prototype._getEndoBasis=function(e){for(var t,r,i,n,s,o,a,c,l,u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,d=this.n.clone(),f=new(ME())(1),p=new(ME())(0),g=new(ME())(0),b=new(ME())(1),m=0;0!==h.cmpn(0);){var y=d.div(h);c=d.sub(y.mul(h)),l=g.sub(y.mul(f));var v=b.sub(y.mul(p));if(!i&&c.cmp(u)<0)t=a.neg(),r=f,i=c.neg(),n=l;else if(i&&2===++m)break;a=c,d=h,h=c,g=f,f=l,b=p,p=v}s=c.neg(),o=l;var w=i.sqr().add(n.sqr());return s.sqr().add(o.sqr()).cmp(w)>=0&&(s=t,o=r),i.negative&&(i=i.neg(),n=n.neg()),s.negative&&(s=s.neg(),o=o.neg()),[{a:i,b:n},{a:s,b:o}]},GE.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),o=n.mul(r.a),a=s.mul(i.a),c=n.mul(r.b),l=s.mul(i.b);return{k1:e.sub(o).sub(a),k2:c.add(l).neg()}},GE.prototype.pointFromX=function(e,t){(e=new(ME())(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(0!==i.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var n=i.fromRed().isOdd();return(t&&!n||!t&&n)&&(i=i.redNeg()),this.point(e,i)},GE.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return 0===r.redSqr().redISub(n).cmpn(0)},GE.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(t[s]),a=e[s],c=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),i[2*s]=a,i[2*s+1]=c,n[2*s]=o.k1,n[2*s+1]=o.k2}for(var l=this._wnafMulAdd(1,i,n,2*s,r),u=0;u<2*s;u++)i[u]=null,n[u]=null;return l},HE(YE,KE.BasePoint),GE.prototype.point=function(e,t,r){return new YE(this,e,t,r)},GE.prototype.pointFromJSON=function(e,t){return YE.fromJSON(this,e,t)},YE.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},YE.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},YE.fromJSON=function(e,t,r){"string"===typeof t&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function n(t){return e.point(t[0],t[1],r)}var s=t[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(n))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(n))}},i},YE.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},YE.prototype.isInfinity=function(){return this.inf},YE.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},YE.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),s=n.redSqr().redISub(this.x.redAdd(this.x)),o=n.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},YE.prototype.getX=function(){return this.x.fromRed()},YE.prototype.getY=function(){return this.y.fromRed()},YE.prototype.mul=function(e){return e=new(ME())(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},YE.prototype.mulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},YE.prototype.jmulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},YE.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},YE.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},YE.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},HE(ZE,KE.BasePoint),GE.prototype.jpoint=function(e,t,r){return new ZE(this,e,t,r)},ZE.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},ZE.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},ZE.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),a=i.redSub(n),c=s.redSub(o);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),h=i.redMul(l),d=c.redSqr().redIAdd(u).redISub(h).redISub(h),f=c.redMul(h.redISub(d)).redISub(s.redMul(u)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(d,f,p)},ZE.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,s=e.y.redMul(t).redMul(this.z),o=r.redSub(i),a=n.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),l=c.redMul(o),u=r.redMul(c),h=a.redSqr().redIAdd(l).redISub(u).redISub(u),d=a.redMul(u.redISub(h)).redISub(n.redMul(l)),f=this.z.redMul(o);return this.curve.jpoint(h,d,f)},ZE.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,s=this.x,o=this.y,a=this.z,c=a.redSqr().redSqr(),l=o.redAdd(o);for(t=0;t<e;t++){var u=s.redSqr(),h=l.redSqr(),d=h.redSqr(),f=u.redAdd(u).redIAdd(u).redIAdd(i.redMul(c)),p=s.redMul(h),g=f.redSqr().redISub(p.redAdd(p)),b=p.redISub(g),m=f.redMul(b);m=m.redIAdd(m).redISub(d);var y=l.redMul(a);t+1<e&&(c=c.redMul(d)),s=g,a=y,l=m}return this.curve.jpoint(s,l.redMul(n),a)},ZE.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},ZE.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i),c=a.redSqr().redISub(o).redISub(o),l=s.redIAdd(s);l=(l=l.redIAdd(l)).redIAdd(l),e=c,t=a.redMul(o.redISub(c)).redISub(l),r=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),h=this.y.redSqr(),d=h.redSqr(),f=this.x.redAdd(h).redSqr().redISub(u).redISub(d);f=f.redIAdd(f);var p=u.redAdd(u).redIAdd(u),g=p.redSqr(),b=d.redIAdd(d);b=(b=b.redIAdd(b)).redIAdd(b),e=g.redISub(f).redISub(f),t=p.redMul(f.redISub(e)).redISub(b),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},ZE.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var a=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=a.redSqr().redISub(o).redISub(o);e=c;var l=s.redIAdd(s);l=(l=l.redIAdd(l)).redIAdd(l),t=a.redMul(o.redISub(c)).redISub(l),r=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),h=this.y.redSqr(),d=this.x.redMul(h),f=this.x.redSub(u).redMul(this.x.redAdd(u));f=f.redAdd(f).redIAdd(f);var p=d.redIAdd(d),g=(p=p.redIAdd(p)).redAdd(p);e=f.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(u);var b=h.redSqr();b=(b=(b=b.redIAdd(b)).redIAdd(b)).redIAdd(b),t=f.redMul(p.redISub(e)).redISub(b)}return this.curve.jpoint(e,t,r)},ZE.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),s=t.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(n)),c=t.redAdd(t),l=(c=c.redIAdd(c)).redMul(o),u=a.redSqr().redISub(l.redAdd(l)),h=l.redISub(u),d=o.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=a.redMul(h).redISub(d),p=r.redAdd(r).redMul(i);return this.curve.jpoint(u,f,p)},ZE.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),n=e.redAdd(e).redIAdd(e),s=n.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(i),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),c=i.redIAdd(i);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var l=n.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(c),u=t.redMul(l);u=(u=u.redIAdd(u)).redIAdd(u);var h=this.x.redMul(a).redISub(u);h=(h=h.redIAdd(h)).redIAdd(h);var d=this.y.redMul(l.redMul(c.redISub(l)).redISub(o.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,d,f)},ZE.prototype.mul=function(e,t){return e=new(ME())(e,t),this.curve._wnafMul(this,e)},ZE.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var i=t.redMul(this.z),n=r.redMul(e.z);return 0===this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)},ZE.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var i=e.clone(),n=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),0===this.x.cmp(r))return!0}},ZE.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},ZE.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var XE=CE((function(e,t){var r=t;r.base=KE,r.short=JE,r.mont=null,r.edwards=null})),$E=CE((function(e,t){var r,i=t,n=DE.assert;function s(e){"short"===e.type?this.curve=new XE.short(e):"edwards"===e.type?this.curve=new XE.edwards(e):this.curve=new XE.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new s(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=s,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:TE().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:TE().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:TE().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:TE().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:TE().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:TE().sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:TE().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(a){r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:TE().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function QE(e){if(!(this instanceof QE))return new QE(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=UE.toArray(e.entropy,e.entropyEnc||"hex"),r=UE.toArray(e.nonce,e.nonceEnc||"hex"),i=UE.toArray(e.pers,e.persEnc||"hex");LE(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}var e_=QE;QE.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},QE.prototype._hmac=function(){return new(TE().hmac)(this.hash,this.K)},QE.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},QE.prototype.reseed=function(e,t,r,i){"string"!==typeof t&&(i=r,r=t,t=null),e=UE.toArray(e,t),r=UE.toArray(r,i),LE(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},QE.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(i=r,r=t,t=null),r&&(r=UE.toArray(r,i||"hex"),this._update(r));for(var n=[];n.length<e;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var s=n.slice(0,e);return this._update(r),this._reseed++,UE.encode(s,t)};var t_=DE.assert;function r_(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var i_=r_;r_.fromPublic=function(e,t,r){return t instanceof r_?t:new r_(e,{pub:t,pubEnc:r})},r_.fromPrivate=function(e,t,r){return t instanceof r_?t:new r_(e,{priv:t,privEnc:r})},r_.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},r_.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},r_.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},r_.prototype._importPrivate=function(e,t){this.priv=new(ME())(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},r_.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?t_(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||t_(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},r_.prototype.derive=function(e){return e.validate()||t_(e.validate(),"public point not validated"),e.mul(this.priv).getX()},r_.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},r_.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},r_.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var n_=DE.assert;function s_(e,t){if(e instanceof s_)return e;this._importDER(e,t)||(n_(e.r&&e.s,"Signature without r or s"),this.r=new(ME())(e.r,16),this.s=new(ME())(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var o_=s_;function a_(){this.place=0}function c_(e,t){var r=e[t.place++];if(!(128&r))return r;var i=15&r;if(0===i||i>4)return!1;for(var n=0,s=0,o=t.place;s<i;s++,o++)n<<=8,n|=e[o],n>>>=0;return!(n<=127)&&(t.place=o,n)}function l_(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function u_(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}s_.prototype._importDER=function(e,t){e=DE.toArray(e,t);var r=new a_;if(48!==e[r.place++])return!1;var i=c_(e,r);if(!1===i)return!1;if(i+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var n=c_(e,r);if(!1===n)return!1;var s=e.slice(r.place,n+r.place);if(r.place+=n,2!==e[r.place++])return!1;var o=c_(e,r);if(!1===o)return!1;if(e.length!==o+r.place)return!1;var a=e.slice(r.place,o+r.place);if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new(ME())(s),this.s=new(ME())(a),this.recoveryParam=null,!0},s_.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=l_(t),r=l_(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var i=[2];u_(i,t.length),(i=i.concat(t)).push(2),u_(i,r.length);var n=i.concat(r),s=[48];return u_(s,n.length),s=s.concat(n),DE.encode(s,e)};var h_=function(){throw new Error("unsupported")},d_=DE.assert;function f_(e){if(!(this instanceof f_))return new f_(e);"string"===typeof e&&(d_(Object.prototype.hasOwnProperty.call($E,e),"Unknown curve "+e),e=$E[e]),e instanceof $E.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var p_=f_;f_.prototype.keyPair=function(e){return new i_(this,e)},f_.prototype.keyFromPrivate=function(e,t){return i_.fromPrivate(this,e,t)},f_.prototype.keyFromPublic=function(e,t){return i_.fromPublic(this,e,t)},f_.prototype.genKeyPair=function(e){e||(e={});for(var t=new e_({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||h_(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new(ME())(2));;){var n=new(ME())(t.generate(r));if(!(n.cmp(i)>0))return n.iaddn(1),this.keyFromPrivate(n)}},f_.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},f_.prototype.sign=function(e,t,r,i){"object"===typeof r&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new(ME())(e,16));for(var n=this.n.byteLength(),s=t.getPrivate().toArray("be",n),o=e.toArray("be",n),a=new e_({hash:this.hash,entropy:s,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),c=this.n.sub(new(ME())(1)),l=0;;l++){var u=i.k?i.k(l):new(ME())(a.generate(this.n.byteLength()));if(!((u=this._truncateToN(u,!0)).cmpn(1)<=0||u.cmp(c)>=0)){var h=this.g.mul(u);if(!h.isInfinity()){var d=h.getX(),f=d.umod(this.n);if(0!==f.cmpn(0)){var p=u.invm(this.n).mul(f.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var g=(h.getY().isOdd()?1:0)|(0!==d.cmp(f)?2:0);return i.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),g^=1),new o_({r:f,s:p,recoveryParam:g})}}}}}},f_.prototype.verify=function(e,t,r,i){e=this._truncateToN(new(ME())(e,16)),r=this.keyFromPublic(r,i);var n=(t=new o_(t,"hex")).r,s=t.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o,a=s.invm(this.n),c=a.mul(e).umod(this.n),l=a.mul(n).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(c,r.getPublic(),l)).isInfinity()&&o.eqXToP(n):!(o=this.g.mulAdd(c,r.getPublic(),l)).isInfinity()&&0===o.getX().umod(this.n).cmp(n)},f_.prototype.recoverPubKey=function(e,t,r,i){d_((3&r)===r,"The recovery param is more than two bits"),t=new o_(t,i);var n=this.n,s=new(ME())(e),o=t.r,a=t.s,c=1&r,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");o=l?this.curve.pointFromX(o.add(this.curve.n),c):this.curve.pointFromX(o,c);var u=t.r.invm(n),h=n.sub(s).mul(u).umod(n),d=a.mul(u).umod(n);return this.g.mulAdd(h,o,d)},f_.prototype.getKeyRecoveryParam=function(e,t,r,i){if(null!==(t=new o_(t,i)).recoveryParam)return t.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(e,t,n)}catch(e){continue}if(s.eq(r))return n}throw new Error("Unable to find valid recovery factor")};var g_=CE((function(e,t){var r=t;r.version="6.5.4",r.utils=DE,r.rand=function(){throw new Error("unsupported")},r.curve=XE,r.curves=$E,r.ec=p_,r.eddsa=null})),b_=g_.ec;new eE("properties/5.7.0");function m_(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}const y_=new eE("signing-key/5.7.0");let v_=null;function w_(){return v_||(v_=new b_("secp256k1")),v_}class S_{constructor(e){m_(this,"curve","secp256k1"),m_(this,"privateKey",uE(e)),32!==function(e){if("string"!==typeof e)e=uE(e);else if(!cE(e)||e.length%2)return null;return(e.length-2)/2}(this.privateKey)&&y_.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=w_().keyFromPrivate(oE(this.privateKey));m_(this,"publicKey","0x"+t.getPublic(!1,"hex")),m_(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),m_(this,"_isSigningKey",!0)}_addPoint(e){const t=w_().keyFromPublic(oE(this.publicKey)),r=w_().keyFromPublic(oE(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const t=w_().keyFromPrivate(oE(this.privateKey)),r=oE(e);32!==r.length&&y_.throwArgumentError("bad digest length","digest",e);const i=t.sign(r,{canonical:!0});return fE({recoveryParam:i.recoveryParam,r:dE("0x"+i.r.toString(16),32),s:dE("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const t=w_().keyFromPrivate(oE(this.privateKey)),r=w_().keyFromPublic(oE(E_(e)));return dE("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!(!e||!e._isSigningKey)}}function E_(e,t){const r=oE(e);if(32===r.length){const e=new S_(r);return t?"0x"+w_().keyFromPrivate(r).getPublic(!0,"hex"):e.publicKey}return 33===r.length?t?uE(r):"0x"+w_().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+w_().keyFromPublic(r).getPublic(!0,"hex"):uE(r):y_.throwArgumentError("invalid public or private key","key","[REDACTED]")}new eE("transactions/5.7.0");var __;!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(__||(__={}));function M_(e,t){return function(e){return NE(hE(bE(hE(E_(e),1)),12))}(function(e,t){const r=fE(t),i={r:oE(r.r),s:oE(r.s)};return"0x"+w_().recoverPubKey(oE(e),i,r.recoveryParam).encode("hex",!1)}(oE(e),t))}var I_=r(8725),x_=r.n(I_),A_=r(5473),P_=r(153);class k_{constructor(e){this.client=e}}class O_{constructor(e){this.opts=e}}const N_="https://rpc.walletconnect.com/v1",R_={wc_authRequest:{req:{ttl:ga.ONE_DAY,prompt:!0,tag:3e3},res:{ttl:ga.ONE_DAY,prompt:!1,tag:3001}}},T_={min:ga.FIVE_MINUTES,max:ga.SEVEN_DAYS},C_="authClient",L_="".concat("wc","@",1,":").concat("auth",":"),z_="".concat(L_,":PUB_KEY");function U_(e){return null===e||void 0===e?void 0:e.split(":")}function D_(e){const t=e&&U_(e);if(t)return t.pop()}async function q_(e,t,r,i,n){switch(r.t){case"eip191":return function(e,t,r){return M_(EE(t),r).toLowerCase()===e.toLowerCase()}(e,t,r.s);case"eip1271":return await async function(e,t,r,i,n){try{const s="0x1626ba7e",o="0000000000000000000000000000000000000000000000000000000000000040",a="0000000000000000000000000000000000000000000000000000000000000041",c=r.substring(2),l=s+EE(t).substring(2)+o+a+c,u=await x_()("".concat(N_,"/?chainId=").concat(i,"&projectId=").concat(n),{method:"POST",body:JSON.stringify({id:j_(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:l},"latest"]})}),{result:h}=await u.json();return!!h&&h.slice(0,s.length).toLowerCase()===s.toLowerCase()}catch(ya){return console.error("isValidEip1271Signature: ",ya),!1}}(e,t,r.s,i,n);default:throw new Error("verifySignature failed: Attempted to verify CacaoSignature with unknown type: ".concat(r.t))}}function j_(){return Date.now()+Math.floor(1e3*Math.random())}function B_(e){return e.getAll().filter((e=>"requester"in e))}function F_(e,t){return B_(e).find((e=>e.id===t))}function K_(e){const t=ym(e.aud),r=new RegExp("".concat(e.domain)).test(e.aud),i=!!e.nonce,n=!e.type||"eip4361"===e.type,s=e.expiry;if(s&&!function(e,t){return mm(e,!1)&&e<=t.max&&e>=t.min}(s,T_)){const{message:e}=dm("MISSING_OR_INVALID","request() expiry: ".concat(s,". Expiry must be a number (in seconds) between ").concat(T_.min," and ").concat(T_.max));throw new Error(e)}return!!(t&&r&&i&&n)}var V_=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var s=e.charAt(n),o=s.charCodeAt(0);if(255!==r[o])throw new TypeError(s+" is ambiguous");r[o]=n}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var i=0,n=0;e[t]===c;)i++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var h=0,d=s-1;(0!==u||h<n)&&-1!==d;d--,h++)u+=a*o[d]>>>0,o[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");n=h,t++}if(" "!==e[t]){for(var f=s-n;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(i+(s-f)),g=i;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,i=0,n=0,s=t.length;n!==s&&0===t[n];)n++,r++;for(var o=(s-n)*u+1>>>0,l=new Uint8Array(o);n!==s;){for(var h=t[n],d=0,f=o-1;(0!==h||d<i)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");i=d,n++}for(var p=o-i;p!==o&&0===l[p];)p++;for(var g=c.repeat(r);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw new Error("Non-".concat(t," character"))}}},H_=V_;const W_=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class G_{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}class J_{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Z_(this,e)}}class Y_{constructor(e){this.decoders=e}or(e){return Z_(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}const Z_=(e,t)=>new Y_(Ce(Ce({},e.decoders||{[e.prefix]:e}),t.decoders||{[t.prefix]:t}));class X_{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new G_(e,t,r),this.decoder=new J_(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const $_=e=>{let{name:t,prefix:r,encode:i,decode:n}=e;return new X_(t,r,i,n)},Q_=e=>{let{prefix:t,name:r,alphabet:i}=e;const{encode:n,decode:s}=H_(i,r);return $_({prefix:t,name:r,encode:n,decode:e=>W_(s(e))})},eM=e=>{let{name:t,prefix:r,bitsPerChar:i,alphabet:n}=e;return $_({prefix:r,name:t,encode:e=>((e,t,r)=>{const i="="===t[t.length-1],n=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>r;)o-=r,s+=t[n&a>>o];if(o&&(s+=t[n&a<<r-o]),i)for(;s.length*r&7;)s+="=";return s})(e,n,i),decode:e=>((e,t,r,i)=>{const n={};for(let u=0;u<t.length;++u)n[t[u]]=u;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const t=n[e[u]];if(void 0===t)throw new SyntaxError("Non-".concat(i," character"));c=c<<r|t,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,n,i,t)})},tM=$_({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var rM=Object.freeze({__proto__:null,identity:tM});const iM=eM({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var nM=Object.freeze({__proto__:null,base2:iM});const sM=eM({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var oM=Object.freeze({__proto__:null,base8:sM});const aM=Q_({prefix:"9",name:"base10",alphabet:"0123456789"});var cM=Object.freeze({__proto__:null,base10:aM});const lM=eM({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),uM=eM({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var hM=Object.freeze({__proto__:null,base16:lM,base16upper:uM});const dM=eM({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),fM=eM({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),pM=eM({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),gM=eM({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),bM=eM({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),mM=eM({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),yM=eM({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),vM=eM({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),wM=eM({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var SM=Object.freeze({__proto__:null,base32:dM,base32upper:fM,base32pad:pM,base32padupper:gM,base32hex:bM,base32hexupper:mM,base32hexpad:yM,base32hexpadupper:vM,base32z:wM});const EM=Q_({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),_M=Q_({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var MM=Object.freeze({__proto__:null,base36:EM,base36upper:_M});const IM=Q_({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),xM=Q_({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var AM=Object.freeze({__proto__:null,base58btc:IM,base58flickr:xM});const PM=eM({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),kM=eM({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),OM=eM({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),NM=eM({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var RM=Object.freeze({__proto__:null,base64:PM,base64pad:kM,base64url:OM,base64urlpad:NM});const TM=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),CM=TM.reduce(((e,t,r)=>(e[r]=t,e)),[]),LM=TM.reduce(((e,t,r)=>(e[t.codePointAt(0)]=r,e)),[]);const zM=$_({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=CM[t]),"")},decode:function(e){const t=[];for(const r of e){const e=LM[r.codePointAt(0)];if(void 0===e)throw new Error("Non-base256emoji character: ".concat(r));t.push(e)}return new Uint8Array(t)}});var UM=Object.freeze({__proto__:null,base256emoji:zM}),DM=function e(t,r,i){r=r||[];for(var n=i=i||0;t>=BM;)r[i++]=255&t|qM,t/=128;for(;t&jM;)r[i++]=255&t|qM,t>>>=7;return r[i]=0|t,e.bytes=i-n+1,r},qM=128,jM=-128,BM=Math.pow(2,31);var FM=function e(t,r){var i,n=0,s=(r=r||0,0),o=r,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");i=t[o++],n+=s<28?(i&VM)<<s:(i&VM)*Math.pow(2,s),s+=7}while(i>=KM);return e.bytes=o-r,n},KM=128,VM=127;var HM=Math.pow(2,7),WM=Math.pow(2,14),GM=Math.pow(2,21),JM=Math.pow(2,28),YM=Math.pow(2,35),ZM=Math.pow(2,42),XM=Math.pow(2,49),$M=Math.pow(2,56),QM=Math.pow(2,63),eI={encode:DM,decode:FM,encodingLength:function(e){return e<HM?1:e<WM?2:e<GM?3:e<JM?4:e<YM?5:e<ZM?6:e<XM?7:e<$M?8:e<QM?9:10}},tI=eI;const rI=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return tI.encode(e,t,r),t},iI=e=>tI.encodingLength(e),nI=(e,t)=>{const r=t.byteLength,i=iI(e),n=i+iI(r),s=new Uint8Array(n+r);return rI(e,s,0),rI(r,s,i),s.set(t,n),new sI(e,r,t,s)};class sI{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}}const oI=e=>{let{name:t,code:r,encode:i}=e;return new aI(t,r,i)};class aI{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?nI(this.code,t):t.then((e=>nI(this.code,e)))}throw Error("Unknown type, must be binary type")}}const cI=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),lI=oI({name:"sha2-256",code:18,encode:cI("SHA-256")}),uI=oI({name:"sha2-512",code:19,encode:cI("SHA-512")});var hI=Object.freeze({__proto__:null,sha256:lI,sha512:uI});const dI=W_,fI={code:0,name:"identity",encode:dI,digest:e=>nI(0,dI(e))};var pI=Object.freeze({__proto__:null,identity:fI});new TextEncoder,new TextDecoder;const gI=Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce({},rM),nM),oM),cM),hM),SM),MM),AM),RM),UM);function bI(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}Ce(Ce({},hI),pI);const mI=bI("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),yI=bI("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),vI=Ce({utf8:mI,"utf-8":mI,hex:gI.base16,latin1:yI,ascii:yI,binary:yI},gI);function wI(e){const t=(0,P_.tW)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const r=vI[t];if(!r)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode("".concat(r.prefix).concat(e)):globalThis.Buffer.from(e,"utf8")}(e,"utf8"));return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const r=vI[t];if(!r)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}(t,"base16")}var SI=Object.defineProperty,EI=Object.defineProperties,_I=Object.getOwnPropertyDescriptors,MI=Object.getOwnPropertySymbols,II=Object.prototype.hasOwnProperty,xI=Object.prototype.propertyIsEnumerable,AI=(e,t,r)=>t in e?SI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,PI=(e,t)=>{for(var r in t||(t={}))II.call(t,r)&&AI(e,r,t[r]);if(MI)for(var r of MI(t))xI.call(t,r)&&AI(e,r,t[r]);return e},kI=(e,t)=>EI(e,_I(t));class OI extends k_{constructor(e){super(e),this.initialized=!1,this.name="authEngine",this.init=()=>{this.initialized||(this.registerRelayerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(R_)}),this.initialized=!0)},this.request=async(e,t)=>{if(this.isInitialized(),!K_(e))throw new Error("Invalid request");if(null!=t&&t.topic)return await this.requestOnKnownPairing(t.topic,e);const{chainId:r,statement:i,aud:n,domain:s,nonce:o,type:a,exp:c,nbf:l}=e,{topic:u,uri:h}=await this.client.core.pairing.create();this.client.logger.info({message:"Generated new pairing",pairing:{topic:u,uri:h}});const d=await this.client.core.crypto.generateKeyPair(),f=Cb(d);await this.client.authKeys.set(z_,{responseTopic:f,publicKey:d}),await this.client.pairingTopics.set(f,{topic:f,pairingTopic:u}),await this.client.core.relayer.subscribe(f),this.client.logger.info("sending request to new pairing topic: ".concat(u));const p=await this.sendRequest(u,"wc_authRequest",{payloadParams:{type:null!==a&&void 0!==a?a:"eip4361",chainId:r,statement:i,aud:n,domain:s,version:"1",nonce:o,iat:(new Date).toISOString(),exp:c,nbf:l},requester:{publicKey:d,metadata:this.client.metadata}},{},e.expiry);return this.client.logger.info("sent request to new pairing topic: ".concat(u)),{uri:h,id:p}},this.respond=async(e,t)=>{if(this.isInitialized(),!function(e,t){return!!F_(t,e.id)}(e,this.client.requests))throw new Error("Invalid response");const r=F_(this.client.requests,e.id);if(!r)throw new Error("Could not find pending auth request with id ".concat(e.id));const i=r.requester.publicKey,n=await this.client.core.crypto.generateKeyPair(),s=Cb(i),o={type:1,receiverPublicKey:i,senderPublicKey:n};if("error"in e)return void await this.sendError(r.id,s,e,o);const a={h:{t:"eip4361"},p:kI(PI({},r.cacaoPayload),{iss:t}),s:e.signature};await this.sendResult(r.id,s,a,o),await this.client.core.pairing.activate({topic:r.pairingTopic}),await this.client.requests.update(r.id,PI({},a))},this.getPendingRequests=()=>B_(this.client.requests),this.formatMessage=(e,t)=>{this.client.logger.debug("formatMessage, cacao is: ".concat(JSON.stringify(e)));const r="".concat(e.domain," wants you to sign in with your Ethereum account:"),i=D_(t),n=e.statement,s="URI: ".concat(e.aud),o="Version: ".concat(e.version),a="Chain ID: ".concat(function(e){const t=e&&U_(e);if(t)return t[3]}(t)),c="Nonce: ".concat(e.nonce),l="Issued At: ".concat(e.iat),u=e.exp?"Expiry: ".concat(e.exp):void 0,h=e.resources&&e.resources.length>0?"Resources:\n".concat(e.resources.map((e=>"- ".concat(e))).join("\n")):void 0;return[r,i,"",n,"",s,o,a,c,l,u,h].filter((e=>null!=e)).join("\n")},this.setExpiry=async(e,t)=>{this.client.core.pairing.pairings.keys.includes(e)&&await this.client.core.pairing.updateExpiry({topic:e,expiry:t}),this.client.core.expirer.set(e,t)},this.sendRequest=async(e,t,r,i,n)=>{const s=qm(t,r),o=await this.client.core.crypto.encode(e,s,i),a=R_[t].req;if(n&&(a.ttl=n),this.client.core.history.set(e,s),fp()){const e=wI(JSON.stringify(s));this.client.core.verify.register({attestationId:e})}return await this.client.core.relayer.publish(e,o,kI(PI({},a),{internal:{throwOnFailedPublish:!0}})),s.id},this.sendResult=async(e,t,r,i)=>{const n=jm(e,r),s=await this.client.core.crypto.encode(t,n,i),o=await this.client.core.history.get(t,e),a=R_[o.request.method].res;return await this.client.core.relayer.publish(t,s,kI(PI({},a),{internal:{throwOnFailedPublish:!0}})),await this.client.core.history.resolve(n),n.id},this.sendError=async(e,t,r,i)=>{const n=Bm(e,r.error),s=await this.client.core.crypto.encode(t,n,i),o=await this.client.core.history.get(t,e),a=R_[o.request.method].res;return await this.client.core.relayer.publish(t,s,a),await this.client.core.history.resolve(n),n.id},this.requestOnKnownPairing=async(e,t)=>{const r=this.client.core.pairing.pairings.getAll({active:!0}).find((t=>t.topic===e));if(!r)throw new Error("Could not find pairing for provided topic ".concat(e));const{publicKey:i}=this.client.authKeys.get(z_),{chainId:n,statement:s,aud:o,domain:a,nonce:c,type:l}=t,u=await this.sendRequest(r.topic,"wc_authRequest",{payloadParams:{type:null!==l&&void 0!==l?l:"eip4361",chainId:n,statement:s,aud:o,domain:a,version:"1",nonce:c,iat:(new Date).toISOString()},requester:{publicKey:i,metadata:this.client.metadata}},{},t.expiry);return this.client.logger.info("sent request to known pairing topic: ".concat(r.topic)),{id:u}},this.onPairingCreated=e=>{const t=this.getPendingRequests();if(t){const r=Object.values(t).find((t=>t.pairingTopic===e.topic));r&&this.handleAuthRequest(r)}},this.onRelayEventRequest=e=>{const{topic:t,payload:r}=e,i=r.method;return"wc_authRequest"===i?this.onAuthRequest(t,r):this.client.logger.info("Unsupported request method ".concat(i))},this.onRelayEventResponse=async e=>{const{topic:t,payload:r}=e,i=(await this.client.core.history.get(t,r.id)).request.method;return"wc_authRequest"===i?this.onAuthResponse(t,r):this.client.logger.info("Unsupported response method ".concat(i))},this.onAuthRequest=async(e,t)=>{const{requester:r,payloadParams:i}=t.params;this.client.logger.info({type:"onAuthRequest",topic:e,payload:t});const n=wI(JSON.stringify(t)),s=await this.getVerifyContext(n,this.client.metadata),o={requester:r,pairingTopic:e,id:t.id,cacaoPayload:i,verifyContext:s};await this.client.requests.set(t.id,o),this.handleAuthRequest(o)},this.handleAuthRequest=async e=>{const{id:t,pairingTopic:r,requester:i,cacaoPayload:n,verifyContext:s}=e;try{this.client.emit("auth_request",{id:t,topic:r,params:{requester:i,cacaoPayload:n},verifyContext:s})}catch(kc){await this.sendError(e.id,e.pairingTopic,kc),this.client.logger.error(kc)}},this.onAuthResponse=async(e,t)=>{const{id:r}=t;if(this.client.logger.info({type:"onAuthResponse",topic:e,response:t}),$m(t)){const{pairingTopic:i}=this.client.pairingTopics.get(e);await this.client.core.pairing.activate({topic:i});const{s:n,p:s}=t.result;await this.client.requests.set(r,PI({id:r,pairingTopic:i},t.result));const o=this.formatMessage(s,s.iss);this.client.logger.debug("reconstructed message:\n",JSON.stringify(o)),this.client.logger.debug("payload.iss:",s.iss),this.client.logger.debug("signature:",n);const a=D_(s.iss),c=function(e){const t=e&&U_(e);if(t)return t[2]+":"+t[3]}(s.iss);if(!a)throw new Error("Could not derive address from `payload.iss`");if(!c)throw new Error("Could not derive chainId from `payload.iss`");this.client.logger.debug("walletAddress extracted from `payload.iss`:",a),await q_(a,o,n,c,this.client.projectId)?this.client.emit("auth_response",{id:r,topic:e,params:t}):this.client.emit("auth_response",{id:r,topic:e,params:{message:"Invalid signature",code:-1}})}else Qm(t)&&this.client.emit("auth_response",{id:r,topic:e,params:t})},this.getVerifyContext=async(e,t)=>{const r={verified:{verifyUrl:t.verifyUrl||"",validation:"UNKNOWN",origin:t.url||""}};try{const i=await this.client.core.verify.resolve({attestationId:e,verifyUrl:t.verifyUrl});i&&(r.verified.origin=i.origin,r.verified.isScam=i.isScam,r.verified.validation=origin===new URL(t.url).origin?"VALID":"INVALID")}catch(ya){this.client.logger.error(ya)}return this.client.logger.info("Verify context: ".concat(JSON.stringify(r))),r}}isInitialized(){if(!this.initialized){const{message:e}=dm("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.client.core.relayer.on(py,(async e=>{const{topic:t,message:r}=e,{responseTopic:i,publicKey:n}=this.client.authKeys.keys.includes(z_)?this.client.authKeys.get(z_):{responseTopic:void 0,publicKey:void 0};if(i&&t!==i)return void this.client.logger.debug("[Auth] Ignoring message from unknown topic",t);const s=await this.client.core.crypto.decode(t,r,{receiverPublicKey:n});Zm(s)?(this.client.core.history.set(t,s),this.onRelayEventRequest({topic:t,payload:s})):Xm(s)&&(await this.client.core.history.resolve(s),this.onRelayEventResponse({topic:t,payload:s}))}))}registerPairingEvents(){this.client.core.pairing.events.on(Ly,(e=>this.onPairingCreated(e)))}}class NI extends O_{constructor(e){super(e),this.protocol="wc",this.version=1,this.name=C_,this.events=new fa.EventEmitter,this.emit=(e,t)=>this.events.emit(e,t),this.on=(e,t)=>this.events.on(e,t),this.once=(e,t)=>this.events.once(e,t),this.off=(e,t)=>this.events.off(e,t),this.removeListener=(e,t)=>this.events.removeListener(e,t),this.request=async(e,t)=>{try{return await this.engine.request(e,t)}catch(ya){throw this.logger.error(ya.message),ya}},this.respond=async(e,t)=>{try{return await this.engine.respond(e,t)}catch(ya){throw this.logger.error(ya.message),ya}},this.getPendingRequests=()=>{try{return this.engine.getPendingRequests()}catch(Sc){throw this.logger.error(Sc.message),Sc}},this.formatMessage=(e,t)=>{try{return this.engine.formatMessage(e,t)}catch(ya){throw this.logger.error(ya.message),ya}};const t=typeof e.logger<"u"&&"string"!=typeof e.logger?e.logger:sc()(_c({level:e.logger||"error"}));this.name=(null===e||void 0===e?void 0:e.name)||C_,this.metadata=e.metadata,this.projectId=e.projectId,this.core=e.core||new VS(e),this.logger=Ic(t,this.name),this.authKeys=new MS(this.core,this.logger,"authKeys",L_,(()=>z_)),this.pairingTopics=new MS(this.core,this.logger,"pairingTopics",L_),this.requests=new MS(this.core,this.logger,"requests",L_,(e=>e.id)),this.engine=new OI(this)}static async init(e){const t=new NI(e);return await t.initialize(),t}get context(){return Mc(this.logger)}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.authKeys.init(),await this.requests.init(),await this.pairingTopics.init(),await this.engine.init(),this.logger.info("AuthClient Initialization Success"),this.logger.info({authClient:this})}catch(e){throw this.logger.info("AuthClient Initialization Failure"),this.logger.error(e.message),e}}}const RI=NI;function TI(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return(n=e(...r))&&"function"===typeof n.then?n:Promise.resolve(n)}catch(s){return Promise.reject(s)}var n}function CI(e){if(function(e){const t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"===typeof e.toJSON)return CI(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const LI="base64:";function zI(e){return"string"===typeof e?e:LI+function(e){if(globalThis.Buffer)return Buffer.from(e).toString("base64");return globalThis.btoa(String.fromCodePoint(...e))}(e)}function UI(e){return"string"!==typeof e?e:e.startsWith(LI)?function(e){if(globalThis.Buffer)return Buffer.from(e,"base64");return Uint8Array.from(globalThis.atob(e),(e=>e.codePointAt(0)))}(e.slice(7)):e}function DI(e){var t;return e&&(null===(t=e.split("?")[0])||void 0===t?void 0:t.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function qI(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return DI(t.join(":"))}function jI(e){return(e=DI(e))?e+":":""}const BI=()=>{const e=new Map;return{name:"memory",getInstance:()=>e,hasItem:t=>e.has(t),getItem(t){var r;return null!==(r=e.get(t))&&void 0!==r?r:null},getItemRaw(t){var r;return null!==(r=e.get(t))&&void 0!==r?r:null},setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys:()=>[...e.keys()],clear(){e.clear()},dispose(){e.clear()}}};function FI(){const e={mounts:{"":(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).driver||BI()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},t=t=>{for(const r of e.mountpoints)if(t.startsWith(r))return{base:r,relativeKey:t.slice(r.length),driver:e.mounts[r]};return{base:"",relativeKey:t,driver:e.mounts[""]}},r=(t,r)=>e.mountpoints.filter((e=>e.startsWith(t)||r&&t.startsWith(e))).map((r=>({relativeBase:t.length>r.length?t.slice(r.length):void 0,mountpoint:r,driver:e.mounts[r]}))),i=(t,r)=>{if(e.watching){r=DI(r);for(const i of e.watchListeners)i(t,r)}},n=async()=>{if(e.watching){for(const t in e.unwatch)await e.unwatch[t]();e.unwatch={},e.watching=!1}},s=(e,r,i)=>{const n=new Map,s=e=>{let t=n.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},n.set(e.base,t)),t};for(const o of e){const e="string"===typeof o,i=DI(e?o:o.key),n=e?void 0:o.value,a=e||!o.options?r:Ce(Ce({},r),o.options),c=t(i);s(c).items.push({key:i,value:n,relativeKey:c.relativeKey,options:a})}return Promise.all([...n.values()].map((e=>i(e)))).then((e=>e.flat()))},o={hasItem(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=DI(e);const{relativeKey:i,driver:n}=t(e);return TI(n.hasItem,i,r)},getItem(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=DI(e);const{relativeKey:i,driver:n}=t(e);return TI(n.getItem,i,r).then((e=>Ia(e)))},getItems(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(e,t,(e=>e.driver.getItems?TI(e.driver.getItems,e.items.map((e=>({key:e.relativeKey,options:e.options}))),t).then((t=>t.map((t=>({key:qI(e.base,t.key),value:Ia(t.value)}))))):Promise.all(e.items.map((t=>TI(e.driver.getItem,t.relativeKey,t.options).then((e=>({key:t.key,value:Ia(e)}))))))))},getItemRaw(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=DI(e);const{relativeKey:i,driver:n}=t(e);return n.getItemRaw?TI(n.getItemRaw,i,r):TI(n.getItem,i,r).then((e=>UI(e)))},async setItem(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===r)return o.removeItem(e);e=DI(e);const{relativeKey:s,driver:a}=t(e);a.setItem&&(await TI(a.setItem,s,CI(r),n),a.watch||i("update",e))},async setItems(e,t){await s(e,t,(async e=>{if(e.driver.setItems)return TI(e.driver.setItems,e.items.map((e=>({key:e.relativeKey,value:CI(e.value),options:e.options}))),t);e.driver.setItem&&await Promise.all(e.items.map((t=>TI(e.driver.setItem,t.relativeKey,CI(t.value),t.options))))}))},async setItemRaw(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===r)return o.removeItem(e,n);e=DI(e);const{relativeKey:s,driver:a}=t(e);if(a.setItemRaw)await TI(a.setItemRaw,s,r,n);else{if(!a.setItem)return;await TI(a.setItem,s,zI(r),n)}a.watch||i("update",e)},async removeItem(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"===typeof r&&(r={removeMeta:r}),e=DI(e);const{relativeKey:n,driver:s}=t(e);s.removeItem&&(await TI(s.removeItem,n,r),(r.removeMeta||r.removeMata)&&await TI(s.removeItem,n+"$",r),s.watch||i("remove",e))},async getMeta(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"===typeof r&&(r={nativeOnly:r}),e=DI(e);const{relativeKey:i,driver:n}=t(e),s=Object.create(null);if(n.getMeta&&Object.assign(s,await TI(n.getMeta,i,r)),!r.nativeOnly){const e=await TI(n.getItem,i+"$",r).then((e=>Ia(e)));e&&"object"===typeof e&&("string"===typeof e.atime&&(e.atime=new Date(e.atime)),"string"===typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(s,e))}return s},setMeta(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.setItem(e+"$",t,r)},removeMeta(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.removeItem(e+"$",t)},async getKeys(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=jI(e);const i=r(e,!0);let n=[];const s=[];for(const r of i){const e=await TI(r.driver.getKeys,r.relativeBase,t);for(const t of e){const e=r.mountpoint+DI(t);n.some((t=>e.startsWith(t)))||s.push(e)}n=[r.mountpoint,...n.filter((e=>!e.startsWith(r.mountpoint)))]}return e?s.filter((t=>t.startsWith(e)&&"$"!==t[t.length-1])):s.filter((e=>"$"!==e[e.length-1]))},async clear(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=jI(e),await Promise.all(r(e,!1).map((async e=>{if(e.driver.clear)return TI(e.driver.clear,e.relativeBase,t);if(e.driver.removeItem){const r=await e.driver.getKeys(e.relativeBase||"",t);return Promise.all(r.map((r=>e.driver.removeItem(r,t))))}})))},async dispose(){await Promise.all(Object.values(e.mounts).map((e=>VI(e))))},watch:async t=>(await(async()=>{if(!e.watching){e.watching=!0;for(const t in e.mounts)e.unwatch[t]=await KI(e.mounts[t],i,t)}})(),e.watchListeners.push(t),async()=>{e.watchListeners=e.watchListeners.filter((e=>e!==t)),0===e.watchListeners.length&&await n()}),async unwatch(){e.watchListeners=[],await n()},mount(t,r){if((t=jI(t))&&e.mounts[t])throw new Error("already mounted at ".concat(t));return t&&(e.mountpoints.push(t),e.mountpoints.sort(((e,t)=>t.length-e.length))),e.mounts[t]=r,e.watching&&Promise.resolve(KI(r,i,t)).then((r=>{e.unwatch[t]=r})).catch(console.error),o},async unmount(t){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((t=jI(t))&&e.mounts[t]){var i,n;if(e.watching&&t in e.unwatch)null===(i=(n=e.unwatch)[t])||void 0===i||i.call(n),delete e.unwatch[t];r&&await VI(e.mounts[t]),e.mountpoints=e.mountpoints.filter((e=>e!==t)),delete e.mounts[t]}},getMount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e=DI(e)+":";const r=t(e);return{driver:r.driver,base:r.base}},getMounts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=DI(e);return r(e,t.parents).map((e=>({driver:e.driver,base:e.mountpoint})))},keys:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.getKeys(e,t)},get:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.getItem(e,t)},set:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.setItem(e,t,r)},has:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.hasItem(e,t)},del:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.removeItem(e,t)},remove:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.removeItem(e,t)}};return o}function KI(e,t,r){return e.watch?e.watch(((e,i)=>t(e,r+i))):()=>{}}async function VI(e){"function"===typeof e.dispose&&await TI(e.dispose)}var HI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.base&&e.base.length>0?"".concat(e.base,":"):"",r=e=>t+e;let i;return e.dbName&&e.storeName&&(i=qa(e.dbName,e.storeName)),{name:"idb-keyval",options:e,hasItem:async e=>!(typeof await Fa(r(e),i)>"u"),async getItem(e){var t;return null!==(t=await Fa(r(e),i))&&void 0!==t?t:null},setItem:(e,t)=>Ka(r(e),t,i),removeItem:e=>Va(r(e),i),getKeys:()=>Ga(i),clear:()=>Ha(i)}};class WI{constructor(){this.indexedDb=FI({driver:HI({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map((e=>[e.key,e.value]))}async getItem(e){const t=await this.indexedDb.getItem(e);if(null!==t)return t}async setItem(e,t){await this.indexedDb.setItem(e,Ya(t))}async removeItem(e){await this.indexedDb.removeItem(e)}}var GI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof r.g<"u"?r.g:typeof self<"u"?self:{},JI={exports:{}};function YI(e){var t;return[e[0],Ja(null!=(t=e[1])?t:"")]}!function(){let e;function t(){}e=t,e.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.setItem=function(e,t){this[e]=String(t)},e.prototype.removeItem=function(e){delete this[e]},e.prototype.clear=function(){const e=this;Object.keys(e).forEach((function(t){e[t]=void 0,delete e[t]}))},e.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},e.prototype.__defineGetter__("length",(function(){return Object.keys(this).length})),typeof GI<"u"&&GI.localStorage?JI.exports=GI.localStorage:typeof window<"u"&&window.localStorage?JI.exports=window.localStorage:JI.exports=new t}();class ZI{constructor(){this.localStorage=JI.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(YI)}async getItem(e){const t=this.localStorage.getItem(e);if(null!==t)return Ja(t)}async setItem(e,t){this.localStorage.setItem(e,Ya(t))}async removeItem(e){this.localStorage.removeItem(e)}}const XI=async(e,t)=>{t.length&&t.forEach((async t=>{await e.removeItem(t)}))};class $I{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};const e=new ZI;this.storage=e;try{(async(e,t,r)=>{const i="wc_storage_version",n=await t.getItem(i);if(n&&n>=1)return void r(t);const s=await e.getKeys();if(!s.length)return void r(t);const o=[];for(;s.length;){const r=s.shift();if(!r)continue;const i=r.toLowerCase();if(i.includes("wc@")||i.includes("walletconnect")||i.includes("wc_")||i.includes("wallet_connect")){const i=await e.getItem(r);await t.setItem(r,i),o.push(r)}}await t.setItem(i,1),r(t),XI(e,o)})(e,new WI,this.setInitialized)}catch(t){this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise((e=>{const t=setInterval((()=>{this.initialized&&(clearInterval(t),e())}),20)}))}}class QI extends ba{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}class ex extends ba{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}}class tx{constructor(e,t){this.logger=e,this.core=t}}class rx extends ba{constructor(e,t){super(),this.relayer=e,this.logger=t}}class ix extends ba{constructor(e){super()}}class nx{constructor(e,t,r,i){this.core=e,this.logger=t,this.name=r}}class sx extends ba{constructor(e,t){super(),this.relayer=e,this.logger=t}}class ox extends ba{constructor(e,t){super(),this.core=e,this.logger=t}}class ax{constructor(e,t,r){this.core=e,this.logger=t,this.store=r}}class cx{constructor(e,t){this.projectId=e,this.logger=t}}class lx{constructor(e,t,r){this.core=e,this.logger=t,this.telemetryEnabled=r}}pa();class ux{constructor(e){this.opts=e,this.protocol="wc",this.version=2}}fa.EventEmitter;class hx{constructor(e){this.client=e}}var dx=r(3045);const fx=".",px="base64url",gx="utf8",bx="utf8",mx="did",yx="key",vx="base58btc";function wx(e){return Ja(ip(rp(e,px),gx))}function Sx(e){return ip(rp(Ya(e),gx),px)}function Ex(e){const t="z"+ip(Ad([rp("K36",vx),e]),vx);return[mx,yx,t].join(":")}function _x(e){return ip(e,px)}function Mx(e){const t=e.split(fx);return{header:wx(t[0]),payload:wx(t[1]),signature:rp(t[2],px),data:rp(t.slice(0,2).join(fx),bx)}}function Ix(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,A_.randomBytes)(32);return dx.K(e)}async function xx(e,t,r,i){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(0,ga.fromMiliseconds)(Date.now());const s={alg:"EdDSA",typ:"JWT"},o={iss:Ex(i.publicKey),sub:e,aud:t,iat:n,exp:n+r},a=rp([Sx((c={header:s,payload:o}).header),Sx(c.payload)].join(fx),bx);var c;return function(e){return[Sx(e.header),Sx(e.payload),_x(e.signature)].join(fx)}({header:s,payload:o,signature:dx._S(i.secretKey,a)})}r(5513);var Ax=r(9370),Px=r(8953),kx=r(269),Ox=r(7887),Nx=r(3169);const Rx=":";function Tx(e){const[t,r]=e.split(Rx);return{namespace:t,reference:r}}function Cx(e,t){return e.includes(":")?[e]:t.chains||[]}var Lx=Object.defineProperty,zx=Object.getOwnPropertySymbols,Ux=Object.prototype.hasOwnProperty,Dx=Object.prototype.propertyIsEnumerable,qx=(e,t,r)=>t in e?Lx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,jx=(e,t)=>{for(var r in t||(t={}))Ux.call(t,r)&&qx(e,r,t[r]);if(zx)for(var r of zx(t))Dx.call(t,r)&&qx(e,r,t[r]);return e};const Bx="react-native",Fx="node",Kx="browser",Vx="unknown",Hx="js";function Wx(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Gx(){return!(0,Md.getDocument)()&&!!(0,Md.getNavigator)()&&"ReactNative"===navigator.product}function Jx(){return!Wx()&&!!(0,Md.getNavigator)()&&!!(0,Md.getDocument)()}function Yx(){return Gx()?Bx:Wx()?Fx:Jx()?Kx:Vx}function Zx(){return(0,Id.g)()||{name:"",description:"",url:"",icons:[""]}}function Xx(e,t,i){const n=function(){if(Yx()===Bx&&typeof r.g<"u"&&typeof(null==r.g?void 0:r.g.Platform)<"u"){const{OS:e,Version:t}=r.g.Platform;return[e,t].join("-")}const e=Sd();if(null===e)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[t,e.name,e.version].join("-"):[t,e.version].join("-")}(),s=function(){var e;const t=Yx();return t===Kx?[t,(null==(e=(0,Md.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),[Hx,i].join("-"),n,s].join("/")}function $x(e){let{protocol:t,version:r,relayUrl:i,sdkVersion:n,auth:s,projectId:o,useOnCloseEvent:a,bundleId:c}=e;const l=i.split("?"),u={auth:s,ua:Xx(t,r,n),projectId:o,useOnCloseEvent:a||void 0,origin:c||void 0},h=function(e,t){let r=Ax.parse(e);return r=jx(jx({},r),t),Ax.stringify(r)}(l[1]||"",u);return l[0]+"?"+h}function Qx(e,t){return e.filter((e=>t.includes(e))).length===e.length}function eA(e){return Object.fromEntries(e.entries())}function tA(e){return new Map(Object.entries(e))}function rA(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ga.FIVE_MINUTES,t=arguments.length>1?arguments[1]:void 0;const r=(0,ga.toMiliseconds)(e||ga.FIVE_MINUTES);let i,n,s;return{resolve:e=>{s&&i&&(clearTimeout(s),i(e))},reject:e=>{s&&n&&(clearTimeout(s),n(e))},done:()=>new Promise(((e,o)=>{s=setTimeout((()=>{o(new Error(t))}),r),i=e,n=o}))}}function iA(e,t,r){return new Promise((async(i,n)=>{const s=setTimeout((()=>n(new Error(r))),t);try{i(await e)}catch(Sc){n(Sc)}clearTimeout(s)}))}function nA(e,t){if("string"==typeof t&&t.startsWith("".concat(e,":")))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw new Error('Value must be "string" for expirer target type: topic');return"topic:".concat(t)}if("id"===e.toLowerCase()){if("number"!=typeof t)throw new Error('Value must be "number" for expirer target type: id');return"id:".concat(t)}throw new Error("Unknown expirer target type: ".concat(e))}function sA(e){const[t,r]=e.split(":"),i={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof r)i.topic=r;else{if("id"!==t||!Number.isInteger(Number(r)))throw new Error("Invalid target, expected id:number or topic:string, got ".concat(t,":").concat(r));i.id=Number(r)}return i}function oA(e,t){return(0,ga.fromMiliseconds)((t||Date.now())+(0,ga.toMiliseconds)(e))}function aA(e){return Date.now()>=(0,ga.toMiliseconds)(e)}function cA(e,t){return"".concat(e).concat(t?":".concat(t):"")}function lA(){return[...new Set([...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],...arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]])]}async function uA(e){let{id:t,topic:i,wcDeepLink:n}=e;var s;try{if(!n)return;const e="string"==typeof n?JSON.parse(n):n,o=null===e||void 0===e?void 0:e.href;if("string"!=typeof o)return;const a=function(e,t,r){const i="requestId=".concat(t,"&sessionTopic=").concat(r);e.endsWith("/")&&(e=e.slice(0,-1));let n="".concat(e);if(e.startsWith("https://t.me")){const t=e.includes("?")?"&startapp=":"?startapp=";n="".concat(n).concat(t).concat(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=Buffer.from(e).toString("base64");return t?r.replace(/[=]/g,""):r}(i,!0))}else n="".concat(n,"/wc?").concat(i);return n}(o,t,i),c=Yx();if(c===Kx){if(null==(s=(0,Md.getDocument)())||!s.hasFocus())return void console.warn("Document does not have focus, skipping deeplink.");a.startsWith("https://")||a.startsWith("http://")?window.open(a,"_blank","noreferrer noopener"):window.open(a,typeof window<"u"&&(window.TelegramWebviewProxy||window.Telegram||window.TelegramWebviewProxyProto)?"_blank":"_self","noreferrer noopener")}else c===Bx&&typeof(null==r.g?void 0:r.g.Linking)<"u"&&await r.g.Linking.openURL(a)}catch(o){console.error(o)}}function hA(e,t){if(!e.includes(t))return null;const r=e.split(/([&,?,=])/),i=r.indexOf(t);return r[i+2]}function dA(){return typeof crypto<"u"&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function fA(){return typeof process<"u"&&"true"==={NODE_ENV:"production",PUBLIC_URL:"/feri",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.IS_VITEST}function pA(e){return Buffer.from(e,"base64").toString("utf-8")}const gA="https://rpc.walletconnect.org/v1";async function bA(e,t,r,i,n,s){switch(r.t){case"eip191":return function(e,t,r){return M_(EE(t),r).toLowerCase()===e.toLowerCase()}(e,t,r.s);case"eip1271":return await async function(e,t,r,i,n,s){const o=Tx(i);if(!o.namespace||!o.reference)throw new Error("isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ".concat(i));try{const o="0x1626ba7e",a="0000000000000000000000000000000000000000000000000000000000000040",c="0000000000000000000000000000000000000000000000000000000000000041",l=r.substring(2),u=o+EE(t).substring(2)+a+c+l,h=await fetch("".concat(s||gA,"/?chainId=").concat(i,"&projectId=").concat(n),{method:"POST",body:JSON.stringify({id:mA(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:u},"latest"]})}),{result:d}=await h.json();return!!d&&d.slice(0,o.length).toLowerCase()===o.toLowerCase()}catch(Nc){return console.error("isValidEip1271Signature: ",Nc),!1}}(e,t,r.s,i,n,s);default:throw new Error("verifySignature failed: Attempted to verify CacaoSignature with unknown type: ".concat(r.t))}}function mA(){return Date.now()+Math.floor(1e3*Math.random())}var yA=Object.defineProperty,vA=Object.defineProperties,wA=Object.getOwnPropertyDescriptors,SA=Object.getOwnPropertySymbols,EA=Object.prototype.hasOwnProperty,_A=Object.prototype.propertyIsEnumerable,MA=(e,t,r)=>t in e?yA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,IA=(e,t)=>{for(var r in t||(t={}))EA.call(t,r)&&MA(e,r,t[r]);if(SA)for(var r of SA(t))_A.call(t,r)&&MA(e,r,t[r]);return e},xA=(e,t)=>vA(e,wA(t));const AA=e=>null===e||void 0===e?void 0:e.split(":"),PA=e=>{const t=e&&AA(e);if(t)return t[2]+":"+t[3]},kA=e=>{const t=e&&AA(e);if(t)return t.pop()};async function OA(e){const{cacao:t,projectId:r}=e,{s:i,p:n}=t,s=NA(n,n.iss),o=kA(n.iss);return await bA(o,s,i,PA(n.iss),r)}const NA=(e,t)=>{const r="".concat(e.domain," wants you to sign in with your Ethereum account:"),i=kA(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let n=e.statement||void 0;const s="URI: ".concat(e.aud||e.uri),o="Version: ".concat(e.version),a="Chain ID: ".concat((e=>{const t=e&&AA(e);if(t)return e.includes("did:pkh:")?t[3]:t[1]})(t)),c="Nonce: ".concat(e.nonce),l="Issued At: ".concat(e.iat),u=e.exp?"Expiration Time: ".concat(e.exp):void 0,h=e.nbf?"Not Before: ".concat(e.nbf):void 0,d=e.requestId?"Request ID: ".concat(e.requestId):void 0,f=e.resources?"Resources:".concat(e.resources.map((e=>"\n- ".concat(e))).join("")):void 0,p=FA(e.resources);if(p){n=qA(n,LA(p))}return[r,i,"",n,"",s,o,a,c,l,u,h,d,f].filter((e=>null!=e)).join("\n")};function RA(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(null==t||!t.length)throw new Error("No resources found in `att` property");t.forEach((t=>{const r=e.att[t];if(Array.isArray(r))throw new Error("Resource must be an object: ".concat(t));if("object"!=typeof r)throw new Error("Resource must be an object: ".concat(t));if(!Object.keys(r).length)throw new Error("Resource object is empty: ".concat(t));Object.keys(r).forEach((e=>{const t=r[e];if(!Array.isArray(t))throw new Error("Ability limits ".concat(e," must be an array of objects, found: ").concat(t));if(!t.length)throw new Error("Value of ".concat(e," is empty array, must be an array with objects"));t.forEach((t=>{if("object"!=typeof t)throw new Error("Ability limits (".concat(e,") must be an array of objects, found: ").concat(t))}))}))}))}function TA(e,t){var r;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=null===(r=t)||void 0===r?void 0:r.sort(((e,t)=>e.localeCompare(t)));const n=t.map((t=>({["".concat(e,"/").concat(t)]:[i]})));return Object.assign({},...n)}function CA(e){return RA(e),"urn:recap:".concat(function(e){return Buffer.from(JSON.stringify(e)).toString("base64")}(e).replace(/=/g,""))}function LA(e){const t=function(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}(e.replace("urn:recap:",""));return RA(t),t}function zA(e,t,r){const i=function(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return null!==r&&void 0!==r&&r.sort(((e,t)=>e.localeCompare(t))),{att:{[e]:TA(t,r,i)}}}(e,t,r);return CA(i)}function UA(e){return e&&e.includes("urn:recap:")}function DA(e,t){const r=function(e,t){RA(e),RA(t);const r=Object.keys(e.att).concat(Object.keys(t.att)).sort(((e,t)=>e.localeCompare(t))),i={att:{}};return r.forEach((r=>{var n,s;Object.keys((null==(n=e.att)?void 0:n[r])||{}).concat(Object.keys((null==(s=t.att)?void 0:s[r])||{})).sort(((e,t)=>e.localeCompare(t))).forEach((n=>{var s,o;i.att[r]=xA(IA({},i.att[r]),{[n]:(null==(s=e.att[r])?void 0:s[n])||(null==(o=t.att[r])?void 0:o[n])})}))})),i}(LA(e),LA(t));return CA(r)}function qA(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;RA(t);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(r))return e;const i=[];let n=0;Object.keys(t.att).forEach((e=>{const r=Object.keys(t.att[e]).map((e=>({ability:e.split("/")[0],action:e.split("/")[1]})));r.sort(((e,t)=>e.action.localeCompare(t.action)));const s={};r.forEach((e=>{s[e.ability]||(s[e.ability]=[]),s[e.ability].push(e.action)}));const o=Object.keys(s).map((t=>(n++,"(".concat(n,") '").concat(t,"': '").concat(s[t].join("', '"),"' for '").concat(e,"'."))));i.push(o.join(", ").replace(".,","."))}));const s=i.join(" "),o="".concat(r).concat(s);return"".concat(e?e+" ":"").concat(o)}function jA(e){var t;const r=LA(e);RA(r);const i=null==(t=r.att)?void 0:t.eip155;return i?Object.keys(i).map((e=>e.split("/")[1])):[]}function BA(e){const t=LA(e);RA(t);const r=[];return Object.values(t.att).forEach((e=>{Object.values(e).forEach((e=>{var t;null!=(t=null===e||void 0===e?void 0:e[0])&&t.chains&&r.push(e[0].chains)}))})),[...new Set(r.flat())]}function FA(e){if(!e)return;const t=null===e||void 0===e?void 0:e[e.length-1];return UA(t)?t:void 0}const KA="base10",VA="base16",HA="base64pad",WA="base64url",GA="utf8";function JA(){return ip((0,A_.randomBytes)(32),VA)}function YA(e){return ip((0,P_.tW)(rp(e,VA)),VA)}function ZA(e){return ip((0,P_.tW)(rp(e,GA)),VA)}function XA(e){return rp("".concat(e),KA)}function $A(e){return Number(ip(e,KA))}function QA(e){const{encoding:t=HA}=e;if(2===$A(e.type))return ip(Ad([e.type,e.sealed]),t);if(1===$A(e.type)){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return ip(Ad([e.type,e.senderPublicKey,e.iv,e.sealed]),t)}return ip(Ad([e.type,e.iv,e.sealed]),t)}function eP(e){const{encoded:t,encoding:r=HA}=e,i=rp(t,r),n=i.slice(0,1);if(1===$A(n)){const e=33,t=e+12,r=i.slice(1,e),s=i.slice(e,t);return{type:n,sealed:i.slice(t),iv:s,senderPublicKey:r}}if(2===$A(n)){return{type:n,sealed:i.slice(1),iv:(0,A_.randomBytes)(12)}}const s=i.slice(1,13);return{type:n,sealed:i.slice(13),iv:s}}function tP(e){const t=(null===e||void 0===e?void 0:e.type)||0;if(1===t){if(typeof(null===e||void 0===e?void 0:e.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(null===e||void 0===e?void 0:e.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:null===e||void 0===e?void 0:e.senderPublicKey,receiverPublicKey:null===e||void 0===e?void 0:e.receiverPublicKey}}function rP(e){return 1===e.type&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}function iP(e){return 2===e.type}function nP(e,t){const[r,i,n]=e.split("."),s=function(e){return Buffer.from(function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const r=t.length%4;return r>0&&(t+="=".repeat(4-r)),t}(e),"base64")}(n);if(64!==s.length)throw new Error("Invalid signature length");const o=s.slice(0,32).toString("hex"),a=s.slice(32,64).toString("hex"),c="".concat(r,".").concat(i),l=(new P_.aD).update(Buffer.from(c)).digest(),u=function(e){return new Nx.ec("p256").keyFromPublic({x:Buffer.from(e.x,"base64").toString("hex"),y:Buffer.from(e.y,"base64").toString("hex")},"hex")}(t),h=Buffer.from(l).toString("hex");if(!u.verify(h,{r:o,s:a}))throw new Error("Invalid signature");return Mx(e).payload}function sP(e){return(null===e||void 0===e?void 0:e.relay)||{protocol:"irn"}}function oP(e){const t=sp[e];if(typeof t>"u")throw new Error("Relay Protocol not supported: ".concat(e));return t}var aP=Object.defineProperty,cP=Object.defineProperties,lP=Object.getOwnPropertyDescriptors,uP=Object.getOwnPropertySymbols,hP=Object.prototype.hasOwnProperty,dP=Object.prototype.propertyIsEnumerable,fP=(e,t,r)=>t in e?aP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,pP=(e,t)=>{for(var r in t||(t={}))hP.call(t,r)&&fP(e,r,t[r]);if(uP)for(var r of uP(t))dP.call(t,r)&&fP(e,r,t[r]);return e};function gP(e){const t={},r="relay"+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-");return Object.keys(e).forEach((i=>{if(i.startsWith(r)){const n=i.replace(r,""),s=e[i];t[n]=s}})),t}function bP(e){if(!e.includes("wc:")){const t=pA(e);null!=t&&t.includes("wc:")&&(e=t)}const t=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),r=-1!==e.indexOf("?")?e.indexOf("?"):void 0,i=e.substring(0,t),n=e.substring(t+1,r).split("@"),s=typeof r<"u"?e.substring(r):"",o=Ax.parse(s),a="string"==typeof o.methods?o.methods.split(","):void 0;return{protocol:i,topic:mP(n[0]),version:parseInt(n[1],10),symKey:o.symKey,relay:gP(o),methods:a,expiryTimestamp:o.expiryTimestamp?parseInt(o.expiryTimestamp,10):void 0}}function mP(e){return e.startsWith("//")?e.substring(2):e}function yP(e){return"".concat(e.protocol,":").concat(e.topic,"@").concat(e.version,"?")+Ax.stringify(pP(((e,t)=>cP(e,lP(t)))(pP({symKey:e.symKey},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";const r={};return Object.keys(e).forEach((i=>{const n="relay"+t+i;e[i]&&(r[n]=e[i])})),r}(e.relay)),{expiryTimestamp:e.expiryTimestamp}),e.methods?{methods:e.methods.join(",")}:{}))}function vP(e,t,r){return"".concat(e,"?wc_ev=").concat(r,"&topic=").concat(t)}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function wP(e){const t=[];return e.forEach((e=>{const[r,i]=e.split(":");t.push("".concat(r,":").concat(i))})),t}function SP(e,t){t=t.map((e=>e.replace("did:pkh:","")));const r=function(e){const t={};return null!==e&&void 0!==e&&e.forEach((e=>{const[r,i]=e.split(":");t[r]||(t[r]={accounts:[],chains:[],events:[]}),t[r].accounts.push(e),t[r].chains.push("".concat(r,":").concat(i))})),t}(t);for(const[i,n]of Object.entries(r))n.methods?n.methods=lA(n.methods,e):n.methods=e,n.events=["chainChanged","accountsChanged"];return r}const EP={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},_P={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function MP(e,t){const{message:r,code:i}=_P[e];return{message:t?"".concat(r," ").concat(t):r,code:i}}function IP(e,t){const{message:r,code:i}=EP[e];return{message:t?"".concat(r," ").concat(t):r,code:i}}function xP(e,t){return!!Array.isArray(e)&&(!(typeof t<"u"&&e.length)||e.every(t))}function AP(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function PP(e){return typeof e>"u"}function kP(e,t){return!(!t||!PP(e))||"string"==typeof e&&!!e.trim().length}function OP(e,t){return!(!t||!PP(e))||"number"==typeof e&&!isNaN(e)}function NP(e){return!(!kP(e,!1)||!e.includes(":"))&&2===e.split(":").length}function RP(e){let t=!0;return xP(e)?e.length&&(t=e.every((e=>kP(e,!1)))):t=!1,t}function TP(e,t,r){let i=null;return Object.entries(e).forEach((e=>{let[n,s]=e;if(i)return;const o=function(e,t,r){let i=null;return xP(t)&&t.length?t.forEach((e=>{i||NP(e)||(i=IP("UNSUPPORTED_CHAINS","".concat(r,", chain ").concat(e,' should be a string and conform to "namespace:chainId" format')))})):NP(e)||(i=IP("UNSUPPORTED_CHAINS","".concat(r,', chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }'))),i}(n,Cx(n,s),"".concat(t," ").concat(r));o&&(i=o)})),i}function CP(e,t){let r=null;return xP(e)?e.forEach((e=>{r||function(e){if(kP(e,!1)&&e.includes(":")){const t=e.split(":");if(3===t.length){const e=t[0]+":"+t[1];return!!t[2]&&NP(e)}}return!1}(e)||(r=IP("UNSUPPORTED_ACCOUNTS","".concat(t,", account ").concat(e,' should be a string and conform to "namespace:chainId:address" format')))})):r=IP("UNSUPPORTED_ACCOUNTS","".concat(t,', accounts should be an array of strings conforming to "namespace:chainId:address" format')),r}function LP(e,t){let r=null;return Object.values(e).forEach((e=>{if(r)return;const i=function(e,t){let r=null;return RP(null===e||void 0===e?void 0:e.methods)?RP(null===e||void 0===e?void 0:e.events)||(r=IP("UNSUPPORTED_EVENTS","".concat(t,", events should be an array of strings or empty array for no events"))):r=IP("UNSUPPORTED_METHODS","".concat(t,", methods should be an array of strings or empty array for no methods")),r}(e,"".concat(t,", namespace"));i&&(r=i)})),r}function zP(e,t){let r=null;if(e&&AP(e)){const i=LP(e,t);i&&(r=i);const n=function(e,t){let r=null;return Object.values(e).forEach((e=>{if(r)return;const i=CP(null===e||void 0===e?void 0:e.accounts,"".concat(t," namespace"));i&&(r=i)})),r}(e,t);n&&(r=n)}else r=MP("MISSING_OR_INVALID","".concat(t,", namespaces should be an object with data"));return r}function UP(e){return kP(e.protocol,!0)}function DP(e){return typeof e<"u"&&null!==typeof e}function qP(e,t){return!(!NP(t)||!function(e){const t=[];return Object.values(e).forEach((e=>{t.push(...wP(e.accounts))})),t}(e).includes(t))}function jP(e,t,r){return!!kP(r,!1)&&function(e,t){const r=[];return Object.values(e).forEach((e=>{wP(e.accounts).includes(t)&&r.push(...e.methods)})),r}(e,t).includes(r)}function BP(e,t,r){return!!kP(r,!1)&&function(e,t){const r=[];return Object.values(e).forEach((e=>{wP(e.accounts).includes(t)&&r.push(...e.events)})),r}(e,t).includes(r)}function FP(e,t,r){let i=null;const n=function(e){const t={};return Object.keys(e).forEach((r=>{var i;r.includes(":")?t[r]=e[r]:null==(i=e[r].chains)||i.forEach((i=>{t[i]={methods:e[r].methods,events:e[r].events}}))})),t}(e),s=function(e){const t={};return Object.keys(e).forEach((r=>{if(r.includes(":"))t[r]=e[r];else{const i=wP(e[r].accounts);null===i||void 0===i||i.forEach((i=>{t[i]={accounts:e[r].accounts.filter((e=>e.includes("".concat(i,":")))),methods:e[r].methods,events:e[r].events}}))}})),t}(t),o=Object.keys(n),a=Object.keys(s),c=KP(Object.keys(e)),l=KP(Object.keys(t)),u=c.filter((e=>!l.includes(e)));return u.length&&(i=MP("NON_CONFORMING_NAMESPACES","".concat(r," namespaces keys don't satisfy requiredNamespaces.\n      Required: ").concat(u.toString(),"\n      Received: ").concat(Object.keys(t).toString()))),Qx(o,a)||(i=MP("NON_CONFORMING_NAMESPACES","".concat(r," namespaces chains don't satisfy required namespaces.\n      Required: ").concat(o.toString(),"\n      Approved: ").concat(a.toString()))),Object.keys(t).forEach((e=>{if(!e.includes(":")||i)return;const n=wP(t[e].accounts);n.includes(e)||(i=MP("NON_CONFORMING_NAMESPACES","".concat(r," namespaces accounts don't satisfy namespace accounts for ").concat(e,"\n        Required: ").concat(e,"\n        Approved: ").concat(n.toString())))})),o.forEach((e=>{i||(Qx(n[e].methods,s[e].methods)?Qx(n[e].events,s[e].events)||(i=MP("NON_CONFORMING_NAMESPACES","".concat(r," namespaces events don't satisfy namespace events for ").concat(e))):i=MP("NON_CONFORMING_NAMESPACES","".concat(r," namespaces methods don't satisfy namespace methods for ").concat(e)))})),i}function KP(e){return[...new Set(e.map((e=>e.includes(":")?e.split(":")[0]:e)))]}function VP(){const e=Yx();return new Promise((t=>{switch(e){case Kx:t(function(){var e;return Jx()&&(null===(e=navigator)||void 0===e?void 0:e.onLine)}());break;case Bx:t(async function(){if(Gx()&&typeof r.g<"u"&&null!=r.g&&r.g.NetInfo){const e=await(null==r.g?void 0:r.g.NetInfo.fetch());return null===e||void 0===e?void 0:e.isConnected}return!0}());break;default:t(!0)}}))}function HP(e){switch(Yx()){case Kx:!function(e){!Gx()&&Jx()&&(window.addEventListener("online",(()=>e(!0))),window.addEventListener("offline",(()=>e(!1))))}(e);break;case Bx:!function(e){var t;Gx()&&typeof r.g<"u"&&null!=r.g&&r.g.NetInfo&&(null===(t=r.g)||void 0===t||t.NetInfo.addEventListener((t=>e(null===t||void 0===t?void 0:t.isConnected))))}(e)}}const WP={};class GP{static get(e){return WP[e]}static set(e,t){WP[e]=t}static delete(e){delete WP[e]}}const JP=e=>e.split("?")[0],YP=typeof WebSocket<"u"?WebSocket:typeof r.g<"u"&&typeof r.g.WebSocket<"u"?r.g.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:r(1198);class ZP{constructor(e){if(this.url=e,this.events=new fa.EventEmitter,this.registering=!1,!Gm(e))throw new Error("Provided URL is not compatible with WebSocket connection: ".concat(e));this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;await this.register(e)}async close(){return new Promise(((e,t)=>{typeof this.socket>"u"?t(new Error("Connection already closed")):(this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close())}))}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Ya(e))}catch(t){this.onError(e.id,t)}}register(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;if(!Gm(e))throw new Error("Provided URL is not compatible with WebSocket connection: ".concat(e));if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise(((e,t)=>{this.events.once("register_error",(e=>{this.resetMaxListeners(),t(e)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return t(new Error("WebSocket connection is missing or invalid"));e(this.socket)}))}))}return this.url=e,this.registering=!0,new Promise(((t,i)=>{const n=new URLSearchParams(e).get("origin"),s=(0,zm.isReactNative)()?{headers:{origin:n}}:{rejectUnauthorized:!Jm(e)},o=new YP(e,[],s);typeof WebSocket<"u"||typeof r.g<"u"&&typeof r.g.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u"?o.onerror=e=>{const t=e;i(this.emitError(t.error))}:o.on("error",(e=>{i(this.emitError(e))})),o.onopen=()=>{this.onOpen(o),t(o)}}))}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?Ja(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const r=this.parseError(t),i=Bm(e,r.message||r.toString());this.events.emit("payload",i)}parseError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.url;return Lm(e,JP(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){const t=this.parseError(new Error((null===e||void 0===e?void 0:e.message)||"WebSocket connection failed for host: ".concat(JP(this.url))));return this.events.emit("register_error",t),t}}const XP="core",$P="".concat("wc","@2:").concat(XP,":"),QP="error",ek={database:":memory:"},tk="client_ed25519_seed",rk=ga.ONE_DAY,ik=ga.SIX_HOURS,nk="wss://relay.walletconnect.org",sk="relayer_message",ok="relayer_message_ack",ak="relayer_connect",ck="relayer_disconnect",lk="relayer_error",uk="relayer_connection_stalled",hk="relayer_publish",dk="payload",fk="connect",pk="disconnect",gk="error",bk="2.17.1",mk={link_mode:"link_mode",relay:"relay"},yk="WALLETCONNECT_LINK_MODE_APPS",vk="subscription_created",wk="subscription_deleted",Sk="subscription_sync",Ek="subscription_resubscribed",_k=1e3*ga.FIVE_SECONDS,Mk={wc_pairingDelete:{req:{ttl:ga.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ga.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ga.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ga.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ga.ONE_DAY,prompt:!1,tag:0},res:{ttl:ga.ONE_DAY,prompt:!1,tag:0}}},Ik="pairing_create",xk="pairing_expire",Ak="pairing_delete",Pk="pairing_ping",kk="history_created",Ok="history_updated",Nk="history_deleted",Rk="history_sync",Tk="expirer_created",Ck="expirer_deleted",Lk="expirer_expired",zk="expirer_sync",Uk="https://verify.walletconnect.org",Dk=Uk,qk="".concat(Dk,"/v3"),jk=["https://verify.walletconnect.com",Uk],Bk="pairing_started",Fk="pairing_uri_validation_success",Kk="pairing_uri_not_expired",Vk="store_new_pairing",Hk="subscribing_pairing_topic",Wk="subscribe_pairing_topic_success",Gk="existing_pairing",Jk="pairing_not_expired",Yk="emit_inactive_pairing",Zk="emit_session_proposal",Xk="no_internet_connection",$k="malformed_pairing_uri",Qk="active_pairing_already_exists",eO="subscribe_pairing_topic_failure",tO="pairing_expired",rO="proposal_listener_not_found",iO="session_approve_started",nO="session_namespaces_validation_success",sO="subscribing_session_topic",oO="subscribe_session_topic_success",aO="publishing_session_approve",cO="session_approve_publish_success",lO="store_session",uO="publishing_session_settle",hO="session_settle_publish_success",dO="no_internet_connection",fO="proposal_expired",pO="subscribe_session_topic_failure",gO="session_approve_publish_failure",bO="session_settle_publish_failure",mO="session_approve_namespace_validation_failure",yO="proposal_not_found",vO="authenticated_session_approve_started",wO="create_authenticated_session_topic",SO="cacaos_verified",EO="store_authenticated_session",_O="subscribing_authenticated_session_topic",MO="subscribe_authenticated_session_topic_success",IO="publishing_authenticated_session_approve",xO="no_internet_connection",AO="invalid_cacao",PO="subscribe_authenticated_session_topic_failure",kO="authenticated_session_approve_publish_failure",OO="authenticated_session_pending_request_not_found";var NO=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var s=e.charAt(n),o=s.charCodeAt(0);if(255!==r[o])throw new TypeError(s+" is ambiguous");r[o]=n}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var i=0,n=0;e[t]===c;)i++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var h=0,d=s-1;(0!==u||h<n)&&-1!==d;d--,h++)u+=a*o[d]>>>0,o[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");n=h,t++}if(" "!==e[t]){for(var f=s-n;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(i+(s-f)),g=i;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,i=0,n=0,s=t.length;n!==s&&0===t[n];)n++,r++;for(var o=(s-n)*u+1>>>0,l=new Uint8Array(o);n!==s;){for(var h=t[n],d=0,f=o-1;(0!==h||d<i)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");i=d,n++}for(var p=o-i;p!==o&&0===l[p];)p++;for(var g=c.repeat(r);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw new Error("Non-".concat(t," character"))}}},RO=NO;const TO=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class CO{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}class LO{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return UO(this,e)}}class zO{constructor(e){this.decoders=e}or(e){return UO(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}const UO=(e,t)=>new zO(Ce(Ce({},e.decoders||{[e.prefix]:e}),t.decoders||{[t.prefix]:t}));class DO{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new CO(e,t,r),this.decoder=new LO(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const qO=e=>{let{name:t,prefix:r,encode:i,decode:n}=e;return new DO(t,r,i,n)},jO=e=>{let{prefix:t,name:r,alphabet:i}=e;const{encode:n,decode:s}=RO(i,r);return qO({prefix:t,name:r,encode:n,decode:e=>TO(s(e))})},BO=e=>{let{name:t,prefix:r,bitsPerChar:i,alphabet:n}=e;return qO({prefix:r,name:t,encode:e=>((e,t,r)=>{const i="="===t[t.length-1],n=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>r;)o-=r,s+=t[n&a>>o];if(o&&(s+=t[n&a<<r-o]),i)for(;s.length*r&7;)s+="=";return s})(e,n,i),decode:e=>((e,t,r,i)=>{const n={};for(let u=0;u<t.length;++u)n[t[u]]=u;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const t=n[e[u]];if(void 0===t)throw new SyntaxError("Non-".concat(i," character"));c=c<<r|t,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,n,i,t)})},FO=qO({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var KO=Object.freeze({__proto__:null,identity:FO});const VO=BO({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var HO=Object.freeze({__proto__:null,base2:VO});const WO=BO({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var GO=Object.freeze({__proto__:null,base8:WO});const JO=jO({prefix:"9",name:"base10",alphabet:"0123456789"});var YO=Object.freeze({__proto__:null,base10:JO});const ZO=BO({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),XO=BO({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var $O=Object.freeze({__proto__:null,base16:ZO,base16upper:XO});const QO=BO({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),eN=BO({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),tN=BO({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),rN=BO({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),iN=BO({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),nN=BO({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),sN=BO({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),oN=BO({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),aN=BO({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var cN=Object.freeze({__proto__:null,base32:QO,base32upper:eN,base32pad:tN,base32padupper:rN,base32hex:iN,base32hexupper:nN,base32hexpad:sN,base32hexpadupper:oN,base32z:aN});const lN=jO({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),uN=jO({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var hN=Object.freeze({__proto__:null,base36:lN,base36upper:uN});const dN=jO({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),fN=jO({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var pN=Object.freeze({__proto__:null,base58btc:dN,base58flickr:fN});const gN=BO({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),bN=BO({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),mN=BO({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),yN=BO({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var vN=Object.freeze({__proto__:null,base64:gN,base64pad:bN,base64url:mN,base64urlpad:yN});const wN=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),SN=wN.reduce(((e,t,r)=>(e[r]=t,e)),[]),EN=wN.reduce(((e,t,r)=>(e[t.codePointAt(0)]=r,e)),[]);const _N=qO({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=SN[t]),"")},decode:function(e){const t=[];for(const r of e){const e=EN[r.codePointAt(0)];if(void 0===e)throw new Error("Non-base256emoji character: ".concat(r));t.push(e)}return new Uint8Array(t)}});var MN=Object.freeze({__proto__:null,base256emoji:_N}),IN=function e(t,r,i){r=r||[];for(var n=i=i||0;t>=PN;)r[i++]=255&t|xN,t/=128;for(;t&AN;)r[i++]=255&t|xN,t>>>=7;return r[i]=0|t,e.bytes=i-n+1,r},xN=128,AN=-128,PN=Math.pow(2,31);var kN=function e(t,r){var i,n=0,s=(r=r||0,0),o=r,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");i=t[o++],n+=s<28?(i&NN)<<s:(i&NN)*Math.pow(2,s),s+=7}while(i>=ON);return e.bytes=o-r,n},ON=128,NN=127;var RN=Math.pow(2,7),TN=Math.pow(2,14),CN=Math.pow(2,21),LN=Math.pow(2,28),zN=Math.pow(2,35),UN=Math.pow(2,42),DN=Math.pow(2,49),qN=Math.pow(2,56),jN=Math.pow(2,63),BN={encode:IN,decode:kN,encodingLength:function(e){return e<RN?1:e<TN?2:e<CN?3:e<LN?4:e<zN?5:e<UN?6:e<DN?7:e<qN?8:e<jN?9:10}},FN=BN;const KN=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return FN.encode(e,t,r),t},VN=e=>FN.encodingLength(e),HN=(e,t)=>{const r=t.byteLength,i=VN(e),n=i+VN(r),s=new Uint8Array(n+r);return KN(e,s,0),KN(r,s,i),s.set(t,n),new WN(e,r,t,s)};class WN{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}}const GN=e=>{let{name:t,code:r,encode:i}=e;return new JN(t,r,i)};class JN{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?HN(this.code,t):t.then((e=>HN(this.code,e)))}throw Error("Unknown type, must be binary type")}}const YN=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),ZN=GN({name:"sha2-256",code:18,encode:YN("SHA-256")}),XN=GN({name:"sha2-512",code:19,encode:YN("SHA-512")});var $N=Object.freeze({__proto__:null,sha256:ZN,sha512:XN});const QN=TO,eR={code:0,name:"identity",encode:QN,digest:e=>HN(0,QN(e))};var tR=Object.freeze({__proto__:null,identity:eR});new TextEncoder,new TextDecoder;const rR=Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce({},KO),HO),GO),YO),$O),cN),hN),pN),vN),MN);function iR(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}Ce(Ce({},$N),tR);const nR=iR("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),sR=iR("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),oR=Ce({utf8:nR,"utf-8":nR,hex:rR.base16,latin1:sR,ascii:sR,binary:sR},rR);class aR{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=$P,this.init=async()=>{if(!this.initialized){const e=await this.getKeyChain();typeof e<"u"&&(this.keychain=e),this.initialized=!0}},this.has=e=>(this.isInitialized(),this.keychain.has(e)),this.set=async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()},this.get=e=>{this.isInitialized();const t=this.keychain.get(e);if(typeof t>"u"){const{message:t}=MP("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw new Error(t)}return t},this.del=async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()},this.core=e,this.logger=Ic(t,this.name)}get context(){return Mc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,eA(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?tA(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=MP("NOT_INITIALIZED",this.name);throw new Error(e)}}}class cR{constructor(e,t,r){this.core=e,this.logger=t,this.name="crypto",this.randomSessionIdentifier=JA(),this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=e=>(this.isInitialized(),this.keychain.has(e)),this.getClientId=async()=>{this.isInitialized();return Ex(Ix(await this.getClientSeed()).publicKey)},this.generateKeyPair=()=>{this.isInitialized();const e=function(){const e=Ox.TZ();return{privateKey:ip(e.secretKey,VA),publicKey:ip(e.publicKey,VA)}}();return this.setPrivateKey(e.publicKey,e.privateKey)},this.signJWT=async e=>{this.isInitialized();const t=Ix(await this.getClientSeed()),r=this.randomSessionIdentifier,i=rk;return await xx(r,e,i,t)},this.generateSharedKey=(e,t,r)=>{this.isInitialized();const i=function(e,t){const r=Ox.Tc(rp(e,VA),rp(t,VA),!0);return ip(new kx.i(P_.aD,r).expand(32),VA)}(this.getPrivateKey(e),t);return this.setSymKey(i,r)},this.setSymKey=async(e,t)=>{this.isInitialized();const r=t||YA(e);return await this.keychain.set(r,e),r},this.deleteKeyPair=async e=>{this.isInitialized(),await this.keychain.del(e)},this.deleteSymKey=async e=>{this.isInitialized(),await this.keychain.del(e)},this.encode=async(e,t,r)=>{this.isInitialized();const i=tP(r),n=Ya(t);if(iP(i))return function(e,t){const r=XA(2),i=(0,A_.randomBytes)(12);return QA({type:r,sealed:rp(e,GA),iv:i,encoding:t})}(n,null===r||void 0===r?void 0:r.encoding);if(rP(i)){const t=i.senderPublicKey,r=i.receiverPublicKey;e=await this.generateSharedKey(t,r)}const s=this.getSymKey(e),{type:o,senderPublicKey:a}=i;return function(e){const t=XA(typeof e.type<"u"?e.type:0);if(1===$A(t)&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof e.senderPublicKey<"u"?rp(e.senderPublicKey,VA):void 0,i=typeof e.iv<"u"?rp(e.iv,VA):(0,A_.randomBytes)(12);return QA({type:t,sealed:new Px.g6(rp(e.symKey,VA)).seal(i,rp(e.message,GA)),iv:i,senderPublicKey:r,encoding:e.encoding})}({type:o,symKey:s,message:n,senderPublicKey:a,encoding:null===r||void 0===r?void 0:r.encoding})},this.decode=async(e,t,r)=>{this.isInitialized();const i=function(e,t){const r=eP({encoded:e,encoding:null===t||void 0===t?void 0:t.encoding});return tP({type:$A(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?ip(r.senderPublicKey,VA):void 0,receiverPublicKey:null===t||void 0===t?void 0:t.receiverPublicKey})}(t,r);if(iP(i)){const e=function(e,t){const{sealed:r}=eP({encoded:e,encoding:t});return ip(r,GA)}(t,null===r||void 0===r?void 0:r.encoding);return Ja(e)}if(rP(i)){const t=i.receiverPublicKey,r=i.senderPublicKey;e=await this.generateSharedKey(t,r)}try{const i=function(e){const t=new Px.g6(rp(e.symKey,VA)),{sealed:r,iv:i}=eP({encoded:e.encoded,encoding:null===e||void 0===e?void 0:e.encoding}),n=t.open(i,r);if(null===n)throw new Error("Failed to decrypt");return ip(n,GA)}({symKey:this.getSymKey(e),encoded:t,encoding:null===r||void 0===r?void 0:r.encoding});return Ja(i)}catch(ic){this.logger.error("Failed to decode message from topic: '".concat(e,"', clientId: '").concat(await this.getClientId(),"'")),this.logger.error(ic)}},this.getPayloadType=function(e){return $A(eP({encoded:e,encoding:arguments.length>1&&void 0!==arguments[1]?arguments[1]:HA}).type)},this.getPayloadSenderPublicKey=function(e){const t=eP({encoded:e,encoding:arguments.length>1&&void 0!==arguments[1]?arguments[1]:HA});return t.senderPublicKey?ip(t.senderPublicKey,VA):void 0},this.core=e,this.logger=Ic(t,this.name),this.keychain=r||new aR(this.core,this.logger)}get context(){return Mc(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(tk)}catch(t){e=JA(),await this.keychain.set(tk,e)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const r=oR[t];if(!r)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode("".concat(r.prefix).concat(e)):globalThis.Buffer.from(e,"utf8")}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=MP("NOT_INITIALIZED",this.name);throw new Error(e)}}}class lR extends tx{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=$P,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const e=await this.getRelayerMessages();typeof e<"u"&&(this.messages=e),this.logger.debug("Successfully Restored records for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(ya){this.logger.debug("Failed to Restore records for ".concat(this.name)),this.logger.error(ya)}finally{this.initialized=!0}}},this.set=async(e,t)=>{this.isInitialized();const r=ZA(t);let i=this.messages.get(e);return typeof i>"u"&&(i={}),typeof i[r]<"u"||(i[r]=t,this.messages.set(e,i),await this.persist()),r},this.get=e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t},this.has=(e,t)=>{this.isInitialized();return typeof this.get(e)[ZA(t)]<"u"},this.del=async e=>{this.isInitialized(),this.messages.delete(e),await this.persist()},this.logger=Ic(e,this.name),this.core=t}get context(){return Mc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,eA(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?tA(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=MP("NOT_INITIALIZED",this.name);throw new Error(e)}}}class uR extends rx{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new fa.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=(0,ga.toMiliseconds)(ga.ONE_MINUTE),this.failedPublishTimeout=(0,ga.toMiliseconds)(ga.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(e,t,r)=>{var i;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:r}});const n=(null===r||void 0===r?void 0:r.ttl)||ik,s=sP(r),o=(null===r||void 0===r?void 0:r.prompt)||!1,a=(null===r||void 0===r?void 0:r.tag)||0,c=(null===r||void 0===r?void 0:r.id)||Dm().toString(),l={topic:e,message:t,opts:{ttl:n,relay:s,prompt:o,tag:a,id:c,attestation:null===r||void 0===r?void 0:r.attestation}},u="Failed to publish payload, please try again. id:".concat(c," tag:").concat(a),h=Date.now();let d,f=1;try{for(;void 0===d;){if(Date.now()-h>this.publishTimeout)throw new Error(u);this.logger.trace({id:c,attempts:f},"publisher.publish - attempt ".concat(f)),d=await await iA(this.rpcPublish(e,t,n,s,o,a,c,null===r||void 0===r?void 0:r.attestation).catch((e=>this.logger.warn(e))),this.publishTimeout,u),f++,d||await new Promise((e=>setTimeout(e,this.failedPublishTimeout)))}this.relayer.events.emit(hk,l),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:c,topic:e,message:t,opts:r}})}catch(p){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(p),null!=(i=null===r||void 0===r?void 0:r.internal)&&i.throwOnFailedPublish)throw p;this.queue.set(c,l)}},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.relayer=e,this.logger=Ic(t,this.name),this.registerEventListeners()}get context(){return Mc(this.logger)}rpcPublish(e,t,r,i,n,s,o,a){var c,l,u,h;const d={method:oP(i.protocol).publish,params:{topic:e,message:t,ttl:r,prompt:n,tag:s,attestation:a},id:o};return PP(null==(c=d.params)?void 0:c.prompt)&&(null==(l=d.params)||delete l.prompt),PP(null==(u=d.params)?void 0:u.tag)&&(null==(h=d.params)||delete h.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:d}),this.relayer.request(d)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach((async e=>{const{topic:t,message:r,opts:i}=e;await this.publish(t,r,i)}))}registerEventListeners(){this.relayer.core.heartbeat.on(va,(()=>{if(this.needsTransportRestart)return this.needsTransportRestart=!1,void this.relayer.events.emit(uk);this.checkQueue()})),this.relayer.on(ok,(e=>{this.removeRequestFromQueue(e.id.toString())}))}}class hR{constructor(){this.map=new Map,this.set=(e,t)=>{const r=this.get(e);this.exists(e,t)||this.map.set(e,[...r,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u")return void this.map.delete(e);if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,t))return;const i=r.filter((e=>e!==t));i.length?this.map.set(e,i):this.map.delete(e)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var dR=Object.defineProperty,fR=Object.defineProperties,pR=Object.getOwnPropertyDescriptors,gR=Object.getOwnPropertySymbols,bR=Object.prototype.hasOwnProperty,mR=Object.prototype.propertyIsEnumerable,yR=(e,t,r)=>t in e?dR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,vR=(e,t)=>{for(var r in t||(t={}))bR.call(t,r)&&yR(e,r,t[r]);if(gR)for(var r of gR(t))mR.call(t,r)&&yR(e,r,t[r]);return e},wR=(e,t)=>fR(e,pR(t));class SR extends sx{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new hR,this.events=new fa.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=$P,this.subscribeTimeout=(0,ga.toMiliseconds)(ga.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.pendingBatchMessages=[],this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId(),await this.restore()),this.initialized=!0},this.subscribe=async(e,t)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{const r=sP(t),i={topic:e,relay:r,transportType:null===t||void 0===t?void 0:t.transportType};this.pending.set(e,i);const n=await this.rpcSubscribe(e,r,t);return"string"==typeof n&&(this.onSubscribe(n,i),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}})),n}catch(r){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(r),r}},this.unsubscribe=async(e,t)=>{await this.restartToComplete(),this.isInitialized(),typeof(null===t||void 0===t?void 0:t.id)<"u"?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)},this.isSubscribed=async e=>{if(this.topics.includes(e))return!0;const t="".concat(this.pendingSubscriptionWatchLabel,"_").concat(e);return await new Promise(((r,i)=>{const n=new ga.Watch;n.start(t);const s=setInterval((()=>{!this.pending.has(e)&&this.topics.includes(e)&&(clearInterval(s),n.stop(t),r(!0)),n.elapsed(t)>=_k&&(clearInterval(s),n.stop(t),i(new Error("Subscription resolution timeout")))}),this.pollingInterval)})).catch((()=>!1))},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=Ic(t,this.name),this.clientId=""}get context(){return Mc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let r=!1;try{r=this.getSubscription(e).topic===t}catch(i){}return r}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const r=this.topicMap.get(e);await Promise.all(r.map((async r=>await this.unsubscribeById(e,r,t))))}async unsubscribeById(e,t,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}});try{const i=sP(r);await this.rpcUnsubscribe(e,t,i);const n=IP("USER_DISCONNECTED","".concat(this.name,", ").concat(e));await this.onUnsubscribe(e,t,n),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}})}catch(Sc){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(Sc),Sc}}async rpcSubscribe(e,t,r){var i;(null===r||void 0===r?void 0:r.transportType)===mk.relay&&await this.restartToComplete();const n={method:oP(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});const s=null==(i=null===r||void 0===r?void 0:r.internal)?void 0:i.throwOnFailedPublish;try{const t=ZA(e+this.clientId);if((null===r||void 0===r?void 0:r.transportType)===mk.link_mode)return setTimeout((()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(n).catch((e=>this.logger.warn(e)))}),(0,ga.toMiliseconds)(ga.ONE_SECOND)),t;const i=await iA(this.relayer.request(n).catch((e=>this.logger.warn(e))),this.subscribeTimeout,"Subscribing to ".concat(e," failed, please try again"));if(!i&&s)throw new Error("Subscribing to ".concat(e," failed, please try again"));return i?t:null}catch(kc){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(uk),s)throw kc}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t={method:oP(e[0].relay.protocol).batchSubscribe,params:{topics:e.map((e=>e.topic))}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{return await await iA(this.relayer.request(t).catch((e=>this.logger.warn(e))),this.subscribeTimeout)}catch(r){this.relayer.events.emit(uk)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t={method:oP(e[0].relay.protocol).batchFetchMessages,params:{topics:e.map((e=>e.topic))}};let r;this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{r=await await iA(this.relayer.request(t).catch((e=>this.logger.warn(e))),this.subscribeTimeout)}catch(i){this.relayer.events.emit(uk)}return r}rpcUnsubscribe(e,t,r){const i={method:oP(r.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,t){this.setSubscription(e,wR(vR({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach((e=>{this.setSubscription(e.id,vR({},e)),this.pending.delete(e.topic)}))}async onUnsubscribe(e,t,r){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,vR({},t)),this.topicMap.set(t.topic,e),this.events.emit(vk,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:t}=MP("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw new Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(wk,wR(vR({},r),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Sk)}async reset(){if(this.cached.length){const e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let t=0;t<e;t++){const e=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchFetchMessages(e),await this.batchSubscribe(e)}}this.events.emit(Ek)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:e}=MP("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error("".concat(this.name,": ").concat(JSON.stringify(this.values))),new Error(e)}this.cached=e,this.logger.debug("Successfully Restored subscriptions for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug("Failed to Restore subscriptions for ".concat(this.name)),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;const t=await this.rpcBatchSubscribe(e);xP(t)&&this.onBatchSubscribe(t.map(((t,r)=>wR(vR({},e[r]),{id:t}))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace("Fetching batch messages for ".concat(e.length," subscriptions"));const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(this.pendingBatchMessages=this.pendingBatchMessages.concat(t.messages))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;const e=[];this.pending.forEach((t=>{e.push(t)})),await this.batchSubscribe(e),this.pendingBatchMessages.length&&(await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),this.pendingBatchMessages=[])}registerEventListeners(){this.relayer.core.heartbeat.on(va,(async()=>{await this.checkPending()})),this.events.on(vk,(async e=>{const t=vk;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})),this.events.on(wk,(async e=>{const t=wk;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}))}isInitialized(){if(!this.initialized){const{message:e}=MP("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){!this.relayer.connected&&!this.relayer.connecting&&await this.relayer.transportOpen(),this.restartInProgress&&await new Promise((e=>{const t=setInterval((()=>{this.restartInProgress||(clearInterval(t),e())}),this.pollingInterval)}))}}var ER=Object.defineProperty,_R=Object.getOwnPropertySymbols,MR=Object.prototype.hasOwnProperty,IR=Object.prototype.propertyIsEnumerable,xR=(e,t,r)=>t in e?ER(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,AR=(e,t)=>{for(var r in t||(t={}))MR.call(t,r)&&xR(e,r,t[r]);if(_R)for(var r of _R(t))IR.call(t,r)&&xR(e,r,t[r]);return e};class PR extends ix{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new fa.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=(0,ga.toMiliseconds)(ga.THIRTY_SECONDS+ga.ONE_SECOND),this.request=async e=>{var t,r;this.logger.debug("Publishing Request Payload");const i=e.id||Dm().toString();await this.toEstablishConnection();try{const n=this.provider.request(e);this.requestsInFlight.set(i,{promise:n,request:e}),this.logger.trace({id:i,method:e.method,topic:null==(t=e.params)?void 0:t.topic},"relayer.request - attempt to publish...");const s=await new Promise((async(e,t)=>{const r=()=>{t(new Error("relayer.request - publish interrupted, id: ".concat(i)))};this.provider.on(pk,r);const s=await n;this.provider.off(pk,r),e(s)}));return this.logger.trace({id:i,method:e.method,topic:null==(r=e.params)?void 0:r.topic},"relayer.request - published"),s}catch(ma){throw this.logger.debug("Failed to Publish Request: ".concat(i)),ma}finally{this.requestsInFlight.delete(i)}},this.resetPingTimeout=()=>{if(Wx())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout((()=>{var e,t,r;null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)||r.terminate()}),this.heartBeatTimeout)}catch(e){this.logger.warn(e)}},this.onPayloadHandler=e=>{this.onProviderPayload(e),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.trace("relayer connected"),this.startPingTimeout(),this.events.emit(ak)},this.onDisconnectHandler=()=>{this.logger.trace("relayer disconnected"),this.onProviderDisconnect()},this.onProviderErrorHandler=e=>{this.logger.error(e),this.events.emit(lk,e),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(dk,this.onPayloadHandler),this.provider.on(fk,this.onConnectHandler),this.provider.on(pk,this.onDisconnectHandler),this.provider.on(gk,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&"string"!=typeof e.logger?Ic(e.logger,this.name):sc()(_c({level:e.logger||"error"})),this.messages=new lR(this.logger,e.core),this.subscriber=new SR(this,this.logger),this.publisher=new uR(this,this.logger),this.relayUrl=(null===e||void 0===e?void 0:e.relayUrl)||nk,this.projectId=e.projectId,this.bundleId=function(){var e;try{return Gx()&&typeof r.g<"u"&&typeof(null==r.g?void 0:r.g.Application)<"u"?null==(e=r.g.Application)?void 0:e.applicationId:void 0}catch(t){return}}(),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.cached.length>0)try{await this.transportOpen()}catch(e){this.logger.warn(e)}}get context(){return Mc(this.logger)}get connected(){var e,t,r;return 1===(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)}get connecting(){var e,t,r;return 0===(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)}async publish(e,t,r){this.isInitialized(),await this.publisher.publish(e,t,r),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:mk.relay})}async subscribe(e,t){var r,i,n;this.isInitialized(),"relay"===(null===t||void 0===t?void 0:t.transportType)&&await this.toEstablishConnection();const s=typeof(null==(r=null===t||void 0===t?void 0:t.internal)?void 0:r.throwOnFailedPublish)>"u"||(null==(i=null===t||void 0===t?void 0:t.internal)?void 0:i.throwOnFailedPublish);let o,a=(null==(n=this.subscriber.topicMap.get(e))?void 0:n[0])||"";const c=t=>{t.topic===e&&(this.subscriber.off(vk,c),o())};return await Promise.all([new Promise((e=>{o=e,this.subscriber.on(vk,c)})),new Promise((async(r,i)=>{a=await this.subscriber.subscribe(e,AR({internal:{throwOnFailedPublish:s}},t)).catch((e=>{s&&i(e)}))||a,r()}))]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map((e=>e.promise)))}catch(e){this.logger.warn(e)}this.hasExperiencedNetworkDisruption||this.connected?await iA(this.provider.disconnect(),2e3,"provider.disconnect()").catch((()=>this.onProviderDisconnect())):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),await this.createProvider(),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise((async(e,t)=>{const r=()=>{this.provider.off(pk,r),t(new Error("Connection interrupted while trying to subscribe"))};this.provider.on(pk,r),await iA(this.provider.connect(),(0,ga.toMiliseconds)(ga.ONE_MINUTE),"Socket stalled when trying to connect to ".concat(this.relayUrl)).catch((e=>{t(e)})).finally((()=>{clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0})),this.subscriber.start().catch((e=>{this.logger.error(e),this.onDisconnectHandler()})),this.hasExperiencedNetworkDisruption=!1,e()}))}catch(t){this.logger.error(t);const e=t;if(this.hasExperiencedNetworkDisruption=!0,!this.isConnectionStalled(e.message))throw t}finally{this.connectionAttemptInProgress=!1}}async restartTransport(e){this.connectionAttemptInProgress||(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await VP())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(0===(null===e||void 0===e?void 0:e.length))return void this.logger.trace("Batch message events is empty. Ignoring...");const t=e.sort(((e,t)=>e.publishedAt-t.publishedAt));this.logger.trace("Batch of ".concat(t.length," message events sorted"));for(const r of t)try{await this.onMessageEvent(r)}catch(Sc){this.logger.warn(Sc)}this.logger.trace("Batch of ".concat(t.length," message events processed"))}async onLinkMessageEvent(e,t){const{topic:r}=e;if(!t.sessionExists){const e={topic:r,expiry:oA(ga.FIVE_MINUTES),relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,e)}this.events.emit(sk,e),await this.recordMessageEvent(e)}startPingTimeout(){var e,t,r,i,n;if(Wx())try{null!=(t=null==(e=this.provider)?void 0:e.connection)&&t.socket&&(null==(n=null==(i=null==(r=this.provider)?void 0:r.connection)?void 0:i.socket)||n.once("ping",(()=>{this.resetPingTimeout()}))),this.resetPingTimeout()}catch(ma){this.logger.warn(ma)}}isConnectionStalled(e){return this.staleConnectionErrors.some((t=>e.includes(t)))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new ey(new ZP($x({sdkVersion:bk,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:t,message:r}=e;await this.messages.set(t,r)}async shouldIgnoreMessageEvent(e){const{topic:t,message:r}=e;if(!r||0===r.length)return this.logger.debug("Ignoring invalid/empty message: ".concat(r)),!0;if(!await this.subscriber.isSubscribed(t))return this.logger.debug("Ignoring message for non-subscribed topic ".concat(t)),!0;const i=this.messages.has(t,r);return i&&this.logger.debug("Ignoring duplicate message: ".concat(r)),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),Zm(e)){if(!e.method.endsWith("_subscription"))return;const t=e.params,{topic:r,message:i,publishedAt:n,attestation:s}=t.data,o={topic:r,message:i,publishedAt:n,transportType:mk.relay,attestation:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(AR({type:"event",event:t.id},o)),this.events.emit(t.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else Xm(e)&&this.events.emit(ok,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(sk,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const t=jm(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(dk,this.onPayloadHandler),this.provider.off(fk,this.onConnectHandler),this.provider.off(pk,this.onDisconnectHandler),this.provider.off(gk,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await VP();HP((async t=>{e!==t&&(e=t,t?await this.restartTransport().catch((e=>this.logger.error(e))):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}))}async onProviderDisconnect(){await this.subscriber.stop(),this.requestsInFlight.clear(),clearTimeout(this.pingTimeout),this.events.emit(ck),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&(this.reconnectTimeout||(this.reconnectTimeout=setTimeout((async()=>{await this.transportOpen().catch((e=>this.logger.error(e)))}),(0,ga.toMiliseconds)(.1))))}isInitialized(){if(!this.initialized){const{message:e}=MP("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&(this.connectionAttemptInProgress&&await new Promise((e=>{const t=setInterval((()=>{this.connected&&(clearInterval(t),e())}),this.connectionStatusPollingInterval)})),await this.transportOpen())}}var kR=Object.defineProperty,OR=Object.getOwnPropertySymbols,NR=Object.prototype.hasOwnProperty,RR=Object.prototype.propertyIsEnumerable,TR=(e,t,r)=>t in e?kR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,CR=(e,t)=>{for(var r in t||(t={}))NR.call(t,r)&&TR(e,r,t[r]);if(OR)for(var r of OR(t))RR.call(t,r)&&TR(e,r,t[r]);return e};class LR extends nx{constructor(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:$P,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;super(e,t,r,i),this.core=e,this.logger=t,this.name=r,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=$P,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((e=>{this.getKey&&null!==e&&!PP(e)?this.map.set(this.getKey(e),e):function(e){var t;return null==(t=null===e||void 0===e?void 0:e.proposer)?void 0:t.publicKey}(e)?this.map.set(e.id,e):function(e){return null===e||void 0===e?void 0:e.topic}(e)&&this.map.set(e.topic,e)})),this.cached=[],this.initialized=!0)},this.set=async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())},this.get=e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e)),this.getAll=e=>(this.isInitialized(),e?this.values.filter((t=>Object.keys(e).every((r=>sy()(t[r],e[r]))))):this.values),this.update=async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});const r=CR(CR({},this.getData(e)),t);this.map.set(e,r),await this.persist()},this.delete=async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),this.addToRecentlyDeleted(e),await this.persist())},this.logger=Ic(t,this.name),this.storagePrefix=i,this.getKey=n}get context(){return Mc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:t}=MP("MISSING_OR_INVALID","Record was recently deleted - ".concat(this.name,": ").concat(e));throw this.logger.error(t),new Error(t)}const{message:t}=MP("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw this.logger.error(t),new Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:e}=MP("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug("Successfully Restored value for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug("Failed to Restore value for ".concat(this.name)),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=MP("NOT_INITIALIZED",this.name);throw new Error(e)}}}class zR{constructor(e,t){this.core=e,this.logger=t,this.name="pairing",this.version="0.3",this.events=new(pa()),this.initialized=!1,this.storagePrefix=$P,this.ignoredPayloadTypes=[1],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=e=>{let{methods:t}=e;this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...t])]},this.create=async e=>{this.isInitialized();const t=JA(),r=await this.core.crypto.setSymKey(t),i=oA(ga.FIVE_MINUTES),n={protocol:"irn"},s={topic:r,expiry:i,relay:n,active:!1,methods:null===e||void 0===e?void 0:e.methods},o=yP({protocol:this.core.protocol,version:this.core.version,topic:r,symKey:t,relay:n,expiryTimestamp:i,methods:null===e||void 0===e?void 0:e.methods});return this.events.emit(Ik,s),this.core.expirer.set(r,i),await this.pairings.set(r,s),await this.core.relayer.subscribe(r,{transportType:null===e||void 0===e?void 0:e.transportType}),{topic:r,uri:o}},this.pair=async e=>{this.isInitialized();const t=this.core.eventClient.createEvent({properties:{topic:null===e||void 0===e?void 0:e.uri,trace:[Bk]}});this.isValidPair(e,t);const{topic:r,symKey:i,relay:n,expiryTimestamp:s,methods:o}=bP(e.uri);let a;if(t.props.properties.topic=r,t.addTrace(Fk),t.addTrace(Kk),this.pairings.keys.includes(r)){if(a=this.pairings.get(r),t.addTrace(Gk),a.active)throw t.setError(Qk),new Error("Pairing already exists: ".concat(r,". Please try again with a new connection URI."));t.addTrace(Jk)}const c=s||oA(ga.FIVE_MINUTES),l={topic:r,relay:n,expiry:c,active:!1,methods:o};this.core.expirer.set(r,c),await this.pairings.set(r,l),t.addTrace(Vk),e.activatePairing&&await this.activate({topic:r}),this.events.emit(Ik,l),t.addTrace(Yk),this.core.crypto.keychain.has(r)||await this.core.crypto.setSymKey(i,r),t.addTrace(Hk);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch(u){t.setError(Xk)}try{await this.core.relayer.subscribe(r,{relay:n})}catch(dc){throw t.setError(eO),dc}return t.addTrace(Wk),l},this.activate=async e=>{let{topic:t}=e;this.isInitialized();const r=oA(ga.THIRTY_DAYS);this.core.expirer.set(t,r),await this.pairings.update(t,{active:!0,expiry:r})},this.ping=async e=>{this.isInitialized(),await this.isValidPing(e);const{topic:t}=e;if(this.pairings.keys.includes(t)){const e=await this.sendRequest(t,"wc_pairingPing",{}),{done:r,resolve:i,reject:n}=rA();this.events.once(cA("pairing_ping",e),(e=>{let{error:t}=e;t?n(t):i()})),await r()}},this.updateExpiry=async e=>{let{topic:t,expiry:r}=e;this.isInitialized(),await this.pairings.update(t,{expiry:r})},this.updateMetadata=async e=>{let{topic:t,metadata:r}=e;this.isInitialized(),await this.pairings.update(t,{peerMetadata:r})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async e=>{this.isInitialized(),await this.isValidDisconnect(e);const{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",IP("USER_DISCONNECTED")),await this.deletePairing(t))},this.formatUriFromPairing=e=>{this.isInitialized();const{topic:t,relay:r,expiry:i,methods:n}=e,s=this.core.crypto.keychain.get(t);return yP({protocol:this.core.protocol,version:this.core.version,topic:t,symKey:s,relay:r,expiryTimestamp:i,methods:n})},this.sendRequest=async(e,t,r)=>{const i=qm(t,r),n=await this.core.crypto.encode(e,i),s=Mk[t].req;return this.core.history.set(e,i),this.core.relayer.publish(e,n,s),i.id},this.sendResult=async(e,t,r)=>{const i=jm(e,r),n=await this.core.crypto.encode(t,i),s=await this.core.history.get(t,e),o=Mk[s.request.method].res;await this.core.relayer.publish(t,n,o),await this.core.history.resolve(i)},this.sendError=async(e,t,r)=>{const i=Bm(e,r),n=await this.core.crypto.encode(t,i),s=await this.core.history.get(t,e),o=Mk[s.request.method]?Mk[s.request.method].res:Mk.unregistered_method.res;await this.core.relayer.publish(t,n,o),await this.core.history.resolve(i)},this.deletePairing=async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,IP("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])},this.cleanup=async()=>{const e=this.pairings.getAll().filter((e=>aA(e.expiry)));await Promise.all(e.map((e=>this.deletePairing(e.topic))))},this.onRelayEventRequest=e=>{const{topic:t,payload:r}=e;switch(r.method){case"wc_pairingPing":return this.onPairingPingRequest(t,r);case"wc_pairingDelete":return this.onPairingDeleteRequest(t,r);default:return this.onUnknownRpcMethodRequest(t,r)}},this.onRelayEventResponse=async e=>{const{topic:t,payload:r}=e,i=(await this.core.history.get(t,r.id)).request.method;return"wc_pairingPing"===i?this.onPairingPingResponse(t,r):this.onUnknownRpcMethodResponse(i)},this.onPairingPingRequest=async(e,t)=>{const{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult(r,e,!0),this.events.emit(Pk,{id:r,topic:e})}catch(ma){await this.sendError(r,e,ma),this.logger.error(ma)}},this.onPairingPingResponse=(e,t)=>{const{id:r}=t;setTimeout((()=>{$m(t)?this.events.emit(cA("pairing_ping",r),{}):Qm(t)&&this.events.emit(cA("pairing_ping",r),{error:t.error})}),500)},this.onPairingDeleteRequest=async(e,t)=>{const{id:r}=t;try{this.isValidDisconnect({topic:e}),await this.deletePairing(e),this.events.emit(Ak,{id:r,topic:e})}catch(ma){await this.sendError(r,e,ma),this.logger.error(ma)}},this.onUnknownRpcMethodRequest=async(e,t)=>{const{id:r,method:i}=t;try{if(this.registeredMethods.includes(i))return;const t=IP("WC_METHOD_UNSUPPORTED",i);await this.sendError(r,e,t),this.logger.error(t)}catch(kc){await this.sendError(r,e,kc),this.logger.error(kc)}},this.onUnknownRpcMethodResponse=e=>{this.registeredMethods.includes(e)||this.logger.error(IP("WC_METHOD_UNSUPPORTED",e))},this.isValidPair=(e,t)=>{var r;if(!DP(e)){const{message:r}=MP("MISSING_OR_INVALID","pair() params: ".concat(e));throw t.setError($k),new Error(r)}if(!function(e){function t(e){try{return typeof new URL(e)<"u"}catch(t){return!1}}try{if(kP(e,!1))return!!t(e)||t(pA(e))}catch(r){}return!1}(e.uri)){const{message:r}=MP("MISSING_OR_INVALID","pair() uri: ".concat(e.uri));throw t.setError($k),new Error(r)}const i=bP(null===e||void 0===e?void 0:e.uri);if(null==(r=null===i||void 0===i?void 0:i.relay)||!r.protocol){const{message:e}=MP("MISSING_OR_INVALID","pair() uri#relay-protocol");throw t.setError($k),new Error(e)}if(null==i||!i.symKey){const{message:e}=MP("MISSING_OR_INVALID","pair() uri#symKey");throw t.setError($k),new Error(e)}if(null!=i&&i.expiryTimestamp&&(0,ga.toMiliseconds)(null===i||void 0===i?void 0:i.expiryTimestamp)<Date.now()){t.setError(tO);const{message:e}=MP("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(e)}},this.isValidPing=async e=>{if(!DP(e)){const{message:t}=MP("MISSING_OR_INVALID","ping() params: ".concat(e));throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)},this.isValidDisconnect=async e=>{if(!DP(e)){const{message:t}=MP("MISSING_OR_INVALID","disconnect() params: ".concat(e));throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)},this.isValidPairingTopic=async e=>{if(!kP(e,!1)){const{message:t}=MP("MISSING_OR_INVALID","pairing topic should be a string: ".concat(e));throw new Error(t)}if(!this.pairings.keys.includes(e)){const{message:t}=MP("NO_MATCHING_KEY","pairing topic doesn't exist: ".concat(e));throw new Error(t)}if(aA(this.pairings.get(e).expiry)){await this.deletePairing(e);const{message:t}=MP("EXPIRED","pairing topic: ".concat(e));throw new Error(t)}},this.core=e,this.logger=Ic(t,this.name),this.pairings=new LR(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Mc(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=MP("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(sk,(async e=>{const{topic:t,message:r,transportType:i}=e;if(!this.pairings.keys.includes(t)||i===mk.link_mode||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))return;const n=await this.core.crypto.decode(t,r);try{Zm(n)?(this.core.history.set(t,n),this.onRelayEventRequest({topic:t,payload:n})):Xm(n)&&(await this.core.history.resolve(n),await this.onRelayEventResponse({topic:t,payload:n}),this.core.history.delete(t,n.id))}catch(ma){this.logger.error(ma)}}))}registerExpirerEvents(){this.core.expirer.on(Lk,(async e=>{const{topic:t}=sA(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(xk,{topic:t}))}))}}class UR extends ex{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new fa.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=$P,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((e=>this.records.set(e.id,e))),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(e,t,r)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:r}),this.records.has(t.id))return;const i={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:r,expiry:oA(ga.THIRTY_DAYS)};this.records.set(i.id,i),this.persist(),this.events.emit(kk,i)},this.resolve=async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;const t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=Qm(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.persist(),this.events.emit(Ok,t))},this.get=async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t)),this.delete=(e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach((r=>{if(r.topic===e){if(typeof t<"u"&&r.id!==t)return;this.records.delete(r.id),this.events.emit(Nk,r)}})),this.persist()},this.exists=async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e),this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.logger=Ic(t,this.name)}get context(){return Mc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach((t=>{if(typeof t.response<"u")return;const r={topic:t.topic,request:qm(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(r)})),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:t}=MP("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw new Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Rk)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:e}=MP("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug("Successfully Restored records for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug("Failed to Restore records for ".concat(this.name)),this.logger.error(e)}}registerEventListeners(){this.events.on(kk,(e=>{const t=kk;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,record:e})})),this.events.on(Ok,(e=>{const t=Ok;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,record:e})})),this.events.on(Nk,(e=>{const t=Nk;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,record:e})})),this.core.heartbeat.on(va,(()=>{this.cleanup()}))}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach((t=>{(0,ga.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info("Deleting expired history log: ".concat(t.id)),this.records.delete(t.id),this.events.emit(Nk,t,!1),e=!0)})),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=MP("NOT_INITIALIZED",this.name);throw new Error(e)}}}class DR extends ox{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new fa.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=$P,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((e=>this.expirations.set(e.target,e))),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=e=>{try{const t=this.formatTarget(e);return typeof this.getExpiration(t)<"u"}catch(t){return!1}},this.set=(e,t)=>{this.isInitialized();const r=this.formatTarget(e),i={target:r,expiry:t};this.expirations.set(r,i),this.checkExpiry(r,i),this.events.emit(Tk,{target:r,expiration:i})},this.get=e=>{this.isInitialized();const t=this.formatTarget(e);return this.getExpiration(t)},this.del=e=>{if(this.isInitialized(),this.has(e)){const t=this.formatTarget(e),r=this.getExpiration(t);this.expirations.delete(t),this.events.emit(Ck,{target:t,expiration:r})}},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.logger=Ic(t,this.name)}get context(){return Mc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return function(e){return nA("topic",e)}(e);if("number"==typeof e)return function(e){return nA("id",e)}(e);const{message:t}=MP("UNKNOWN_TYPE","Target type: ".concat(typeof e));throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(zk)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:e}=MP("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug("Successfully Restored expirations for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug("Failed to Restore expirations for ".concat(this.name)),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:t}=MP("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw this.logger.warn(t),new Error(t)}return t}checkExpiry(e,t){const{expiry:r}=t;(0,ga.toMiliseconds)(r)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(Lk,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach(((e,t)=>this.checkExpiry(t,e)))}registerEventListeners(){this.core.heartbeat.on(va,(()=>this.checkExpirations())),this.events.on(Tk,(e=>{const t=Tk;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),this.persist()})),this.events.on(Lk,(e=>{const t=Lk;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),this.persist()})),this.events.on(Ck,(e=>{const t=Ck;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),this.persist()}))}isInitialized(){if(!this.initialized){const{message:e}=MP("NOT_INITIALIZED",this.name);throw new Error(e)}}}class qR extends ax{constructor(e,t,r){super(e,t,r),this.core=e,this.logger=t,this.store=r,this.name="verify-api",this.verifyUrlV3=qk,this.storagePrefix=$P,this.version=2,this.init=async()=>{var e;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,ga.toMiliseconds)(null==(e=this.publicKey)?void 0:e.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))},this.register=async e=>{if(!Jx()||this.isDevEnv)return;const t=window.location.origin,{id:r,decryptedId:i}=e,n="".concat(this.verifyUrlV3,"/attestation?projectId=").concat(this.core.projectId,"&origin=").concat(t,"&id=").concat(r,"&decryptedId=").concat(i);try{const e=(0,Md.getDocument)(),t=this.startAbortTimer(5*ga.ONE_SECOND),i=await new Promise(((i,s)=>{const o=()=>{window.removeEventListener("message",c),e.body.removeChild(a),s("attestation aborted")};this.abortController.signal.addEventListener("abort",o);const a=e.createElement("iframe");a.src=n,a.style.display="none",a.addEventListener("error",o,{signal:this.abortController.signal});const c=n=>{if(n.data&&"string"==typeof n.data)try{const s=JSON.parse(n.data);if("verify_attestation"===s.type){if(Mx(s.attestation).payload.id!==r)return;clearInterval(t),e.body.removeChild(a),this.abortController.signal.removeEventListener("abort",o),window.removeEventListener("message",c),i(null===s.attestation?"":s.attestation)}}catch(s){this.logger.warn(s)}};e.body.appendChild(a),window.addEventListener("message",c,{signal:this.abortController.signal})}));return this.logger.debug("jwt attestation",i),i}catch(Qa){this.logger.warn(Qa)}return""},this.resolve=async e=>{if(this.isDevEnv)return"";const{attestationId:t,hash:r,encryptedId:i}=e;if(""===t)return void this.logger.debug("resolve: attestationId is empty, skipping");if(t){if(Mx(t).payload.id!==i)return;const e=await this.isValidJwtAttestation(t);if(e)return e.isVerified?e:void this.logger.warn("resolve: jwt attestation: origin url not verified")}if(!r)return;const n=this.getVerifyUrl(null===e||void 0===e?void 0:e.verifyUrl);return this.fetchAttestation(r,n)},this.fetchAttestation=async(e,t)=>{this.logger.debug("resolving attestation: ".concat(e," from url: ").concat(t));const r=this.startAbortTimer(5*ga.ONE_SECOND),i=await fetch("".concat(t,"/attestation/").concat(e,"?v2Supported=true"),{signal:this.abortController.signal});return clearTimeout(r),200===i.status?await i.json():void 0},this.getVerifyUrl=e=>{let t=e||Dk;return jk.includes(t)||(this.logger.info("verify url: ".concat(t,", not included in trusted list, assigning default: ").concat(Dk)),t=Dk),t},this.fetchPublicKey=async()=>{try{this.logger.debug("fetching public key from: ".concat(this.verifyUrlV3));const e=this.startAbortTimer(ga.FIVE_SECONDS),t=await fetch("".concat(this.verifyUrlV3,"/public-key"),{signal:this.abortController.signal});return clearTimeout(e),await t.json()}catch(Sc){this.logger.warn(Sc)}},this.persistPublicKey=async e=>{this.logger.debug("persisting public key to local storage",e),await this.store.setItem(this.storeKey,e),this.publicKey=e},this.removePublicKey=async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0},this.isValidJwtAttestation=async e=>{const t=await this.getPublicKey();try{if(t)return this.validateAttestation(e,t)}catch(kc){this.logger.error(kc),this.logger.warn("error validating attestation")}const r=await this.fetchAndPersistPublicKey();try{if(r)return this.validateAttestation(e,r)}catch(kc){this.logger.error(kc),this.logger.warn("error validating attestation")}},this.getPublicKey=async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey(),this.fetchAndPersistPublicKey=async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise((async e=>{const t=await this.fetchPublicKey();t&&(await this.persistPublicKey(t),e(t))}));const e=await this.fetchPromise;return this.fetchPromise=void 0,e},this.validateAttestation=(e,t)=>{const r=nP(e,t.publicKey),i={hasExpired:(0,ga.toMiliseconds)(r.exp)<Date.now(),payload:r};if(i.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:i.payload.origin,isScam:i.payload.isScam,isVerified:i.payload.isVerified}},this.logger=Ic(t,this.name),this.abortController=new AbortController,this.isDevEnv=fA(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Mc(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout((()=>this.abortController.abort()),(0,ga.toMiliseconds)(e))}}class jR extends cx{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.context="echo",this.registerDeviceToken=async e=>{const{clientId:t,token:r,notificationType:i,enableEncrypted:n=!1}=e,s="".concat("https://echo.walletconnect.com","/").concat(this.projectId,"/clients");await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,type:i,token:r,always_raw:n})})},this.logger=Ic(t,this.context)}}var BR=Object.defineProperty,FR=Object.getOwnPropertySymbols,KR=Object.prototype.hasOwnProperty,VR=Object.prototype.propertyIsEnumerable,HR=(e,t,r)=>t in e?BR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,WR=(e,t)=>{for(var r in t||(t={}))KR.call(t,r)&&HR(e,r,t[r]);if(FR)for(var r of FR(t))VR.call(t,r)&&HR(e,r,t[r]);return e};class GR extends lx{constructor(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,t,r),this.core=e,this.logger=t,this.context="event-client",this.storagePrefix=$P,this.storageVersion=.1,this.events=new Map,this.shouldPersist=!1,this.init=async()=>{if(!fA())try{const e={eventId:dA(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Xx(this.core.relayer.protocol,this.core.relayer.version,bk)}}};await this.sendEvent([e])}catch(Sc){this.logger.warn(Sc)}},this.createEvent=e=>{const{event:t="ERROR",type:r="",properties:{topic:i,trace:n}}=e,s=dA(),o=this.core.projectId||"",a=Date.now(),c=WR({eventId:s,timestamp:a,props:{event:t,type:r,properties:{topic:i,trace:n}},bundleId:o,domain:this.getAppDomain()},this.setMethods(s));return this.telemetryEnabled&&(this.events.set(s,c),this.shouldPersist=!0),c},this.getEvent=e=>{const{eventId:t,topic:r}=e;if(t)return this.events.get(t);const i=Array.from(this.events.values()).find((e=>e.props.properties.topic===r));return i?WR(WR({},i),this.setMethods(i.eventId)):void 0},this.deleteEvent=e=>{const{eventId:t}=e;this.events.delete(t),this.shouldPersist=!0},this.setEventListeners=()=>{this.core.heartbeat.on(va,(async()=>{this.shouldPersist&&await this.persist(),this.events.forEach((e=>{(0,ga.fromMiliseconds)(Date.now())-(0,ga.fromMiliseconds)(e.timestamp)>86400&&(this.events.delete(e.eventId),this.shouldPersist=!0)}))}))},this.setMethods=e=>({addTrace:t=>this.addTrace(e,t),setError:t=>this.setError(e,t)}),this.addTrace=(e,t)=>{const r=this.events.get(e);r&&(r.props.properties.trace.push(t),this.events.set(e,r),this.shouldPersist=!0)},this.setError=(e,t)=>{const r=this.events.get(e);r&&(r.props.type=t,r.timestamp=Date.now(),this.events.set(e,r),this.shouldPersist=!0)},this.persist=async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1},this.restore=async()=>{try{const e=await this.core.storage.getItem(this.storageKey)||[];if(!e.length)return;e.forEach((e=>{this.events.set(e.eventId,WR(WR({},e),this.setMethods(e.eventId)))}))}catch(Sc){this.logger.warn(Sc)}},this.submit=async()=>{if(!this.telemetryEnabled||0===this.events.size)return;const e=[];for(const[r,i]of this.events)i.props.type&&e.push(i);if(0!==e.length)try{if((await this.sendEvent(e)).ok)for(const t of e)this.events.delete(t.eventId),this.shouldPersist=!0}catch(t){this.logger.warn(t)}},this.sendEvent=async e=>{const t=this.getAppDomain()?"":"&sp=desktop";return await fetch("".concat("https://pulse.walletconnect.org/batch","?projectId=").concat(this.core.projectId,"&st=events_sdk&sv=js-").concat(bk).concat(t),{method:"POST",body:JSON.stringify(e)})},this.getAppDomain=()=>Zx().url,this.logger=Ic(t,this.context),this.telemetryEnabled=r,r?this.restore().then((async()=>{await this.submit(),this.setEventListeners()})):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var JR=Object.defineProperty,YR=Object.getOwnPropertySymbols,ZR=Object.prototype.hasOwnProperty,XR=Object.prototype.propertyIsEnumerable,$R=(e,t,r)=>t in e?JR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,QR=(e,t)=>{for(var r in t||(t={}))ZR.call(t,r)&&$R(e,r,t[r]);if(YR)for(var r of YR(t))XR.call(t,r)&&$R(e,r,t[r]);return e};class eT extends QI{constructor(e){var t;super(e),this.protocol="wc",this.version=2,this.name=XP,this.events=new fa.EventEmitter,this.initialized=!1,this.on=(e,t)=>this.events.on(e,t),this.once=(e,t)=>this.events.once(e,t),this.off=(e,t)=>this.events.off(e,t),this.removeListener=(e,t)=>this.events.removeListener(e,t),this.dispatchEnvelope=e=>{let{topic:t,message:r,sessionExists:i}=e;if(!t||!r)return;const n={topic:t,message:r,publishedAt:Date.now(),transportType:mk.link_mode};this.relayer.onLinkMessageEvent(n,{sessionExists:i})},this.projectId=null===e||void 0===e?void 0:e.projectId,this.relayUrl=(null===e||void 0===e?void 0:e.relayUrl)||nk,this.customStoragePrefix=null!=e&&e.customStoragePrefix?":".concat(e.customStoragePrefix):"";const r=_c({level:"string"==typeof(null===e||void 0===e?void 0:e.logger)&&e.logger?e.logger:QP}),{logger:i,chunkLoggerController:n}=xc({opts:r,maxSizeInBytes:null===e||void 0===e?void 0:e.maxLogBlobSizeInBytes,loggerOverride:null===e||void 0===e?void 0:e.logger});this.logChunkController=n,null!=(t=this.logChunkController)&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var e,t;null!=(e=this.logChunkController)&&e.downloadLogsBlobInBrowser&&(null==(t=this.logChunkController)||t.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Ic(i,this.name),this.heartbeat=new wa,this.crypto=new cR(this,this.logger,null===e||void 0===e?void 0:e.keychain),this.history=new UR(this,this.logger),this.expirer=new DR(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new $I(QR(QR({},ek),null===e||void 0===e?void 0:e.storageOptions)),this.relayer=new PR({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new zR(this,this.logger),this.verify=new qR(this,this.logger,this.storage),this.echoClient=new jR(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new GR(this,this.logger,null===e||void 0===e?void 0:e.telemetryEnabled)}static async init(e){const t=new eT(e);await t.initialize();const r=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",r),t}get context(){return Mc(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return null==(e=this.logChunkController)?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(yk,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.eventClient.init(),this.linkModeSupportedApps=await this.storage.getItem(yk)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn("Core Initialization Failure at epoch ".concat(Date.now()),e),this.logger.error(e.message),e}}}const tT=eT,rT="client",iT="".concat("wc","@").concat(2,":").concat(rT,":"),nT=rT,sT="error",oT="WALLETCONNECT_DEEPLINK_CHOICE",aT=ga.SEVEN_DAYS,cT={wc_sessionPropose:{req:{ttl:ga.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ga.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ga.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ga.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ga.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ga.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ga.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ga.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ga.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ga.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ga.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ga.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ga.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ga.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ga.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ga.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ga.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ga.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ga.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ga.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ga.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ga.FIVE_MINUTES,prompt:!1,tag:1119}}},lT={min:ga.FIVE_MINUTES,max:ga.SEVEN_DAYS},uT="IDLE",hT="ACTIVE",dT=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],fT="".concat("wc","@",1.5,":").concat("auth",":"),pT="".concat(fT,":PUB_KEY");var gT=Object.defineProperty,bT=Object.defineProperties,mT=Object.getOwnPropertyDescriptors,yT=Object.getOwnPropertySymbols,vT=Object.prototype.hasOwnProperty,wT=Object.prototype.propertyIsEnumerable,ST=(e,t,r)=>t in e?gT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ET=(e,t)=>{for(var r in t||(t={}))vT.call(t,r)&&ST(e,r,t[r]);if(yT)for(var r of yT(t))wT.call(t,r)&&ST(e,r,t[r]);return e},_T=(e,t)=>bT(e,mT(t));class MT extends hx{constructor(e){var t;super(e),t=this,this.name="engine",this.events=new(pa()),this.initialized=!1,this.requestQueue={state:uT,queue:[]},this.sessionRequestQueue={state:uT,queue:[]},this.requestQueueDelay=ga.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.relayMessageCache=[],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(cT)}),this.initialized=!0,setTimeout((()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()}),(0,ga.toMiliseconds)(this.requestQueueDelay)))},this.connect=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const t=_T(ET({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t);const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:n,sessionProperties:s,relays:o}=t;let a,c=r,l=!1;try{c&&(l=this.client.core.pairing.pairings.get(c).active)}catch(y){throw this.client.logger.error("connect() -> pairing.get(".concat(c,") failed")),y}if(!c||!l){const{topic:e,uri:t}=await this.client.core.pairing.create();c=e,a=t}if(!c){const{message:e}=MP("NO_MATCHING_KEY","connect() pairing topic: ".concat(c));throw new Error(e)}const u=await this.client.core.crypto.generateKeyPair(),h=cT.wc_sessionPropose.req.ttl||ga.FIVE_MINUTES,d=oA(h),f=ET({requiredNamespaces:i,optionalNamespaces:n,relays:null!==o&&void 0!==o?o:[{protocol:"irn"}],proposer:{publicKey:u,metadata:this.client.metadata},expiryTimestamp:d,pairingTopic:c},s&&{sessionProperties:s}),{reject:p,resolve:g,done:b}=rA(h,"Proposal expired");this.events.once(cA("session_connect"),(async e=>{let{error:t,session:r}=e;if(t)p(t);else if(r){r.self.publicKey=u;const e=_T(ET({},r),{pairingTopic:f.pairingTopic,requiredNamespaces:f.requiredNamespaces,optionalNamespaces:f.optionalNamespaces,transportType:mk.relay});await this.client.session.set(r.topic,e),await this.setExpiry(r.topic,r.expiry),c&&await this.client.core.pairing.updateMetadata({topic:c,metadata:r.peer.metadata}),this.cleanupDuplicatePairings(e),g(e)}}));const m=await this.sendRequest({topic:c,method:"wc_sessionPropose",params:f,throwOnFailedPublish:!0});return await this.setProposal(m,ET({id:m},f)),{uri:a,approval:b}},this.pair=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(e)}catch(t){throw this.client.logger.error("pair() failed"),t}},this.approve=async e=>{var t,r,i;const n=this.client.core.eventClient.createEvent({properties:{topic:null==(t=null===e||void 0===e?void 0:e.id)?void 0:t.toString(),trace:[iO]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(E){throw n.setError(dO),E}try{await this.isValidProposalId(null===e||void 0===e?void 0:e.id)}catch(E){throw this.client.logger.error("approve() -> proposal.get(".concat(null===e||void 0===e?void 0:e.id,") failed")),n.setError(yO),E}try{await this.isValidApprove(e)}catch(E){throw this.client.logger.error("approve() -> isValidApprove() failed"),n.setError(mO),E}const{id:s,relayProtocol:o,namespaces:a,sessionProperties:c,sessionConfig:l}=e,u=this.client.proposal.get(s);this.client.core.eventClient.deleteEvent({eventId:n.eventId});const{pairingTopic:h,proposer:d,requiredNamespaces:f,optionalNamespaces:p}=u;let g=null==(r=this.client.core.eventClient)?void 0:r.getEvent({topic:h});g||(g=null==(i=this.client.core.eventClient)?void 0:i.createEvent({type:iO,properties:{topic:h,trace:[iO,nO]}}));const b=await this.client.core.crypto.generateKeyPair(),m=d.publicKey,y=await this.client.core.crypto.generateSharedKey(b,m),v=ET(ET({relay:{protocol:null!==o&&void 0!==o?o:"irn"},namespaces:a,controller:{publicKey:b,metadata:this.client.metadata},expiry:oA(aT)},c&&{sessionProperties:c}),l&&{sessionConfig:l}),w=mk.relay;g.addTrace(sO);try{await this.client.core.relayer.subscribe(y,{transportType:w})}catch(E){throw g.setError(pO),E}g.addTrace(oO);const S=_T(ET({},v),{topic:y,requiredNamespaces:f,optionalNamespaces:p,pairingTopic:h,acknowledged:!1,self:v.controller,peer:{publicKey:d.publicKey,metadata:d.metadata},controller:b,transportType:mk.relay});await this.client.session.set(y,S),g.addTrace(lO);try{g.addTrace(uO),await this.sendRequest({topic:y,method:"wc_sessionSettle",params:v,throwOnFailedPublish:!0}).catch((e=>{var t;throw null!==(t=g)&&void 0!==t&&t.setError(bO),e})),g.addTrace(hO),g.addTrace(aO),await this.sendResult({id:s,topic:h,result:{relay:{protocol:null!==o&&void 0!==o?o:"irn"},responderPublicKey:b},throwOnFailedPublish:!0}).catch((e=>{var t;throw null!==(t=g)&&void 0!==t&&t.setError(gO),e})),g.addTrace(cO)}catch(E){throw this.client.logger.error(E),this.client.session.delete(y,IP("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(y),E}return this.client.core.eventClient.deleteEvent({eventId:g.eventId}),await this.client.core.pairing.updateMetadata({topic:h,metadata:d.metadata}),await this.client.proposal.delete(s,IP("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:h}),await this.setExpiry(y,oA(aT)),{topic:y,acknowledged:()=>Promise.resolve(this.client.session.get(y))}},this.reject=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(e)}catch(n){throw this.client.logger.error("reject() -> isValidReject() failed"),n}const{id:t,reason:r}=e;let i;try{i=this.client.proposal.get(t).pairingTopic}catch(n){throw this.client.logger.error("reject() -> proposal.get(".concat(t,") failed")),n}i&&(await this.sendError({id:t,topic:i,error:r,rpcOpts:cT.wc_sessionPropose.reject}),await this.client.proposal.delete(t,IP("USER_DISCONNECTED")))},this.update=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(e)}catch(mc){throw this.client.logger.error("update() -> isValidUpdate() failed"),mc}const{topic:t,namespaces:r}=e,{done:i,resolve:n,reject:s}=rA(),o=Um(),a=Dm().toString(),c=this.client.session.get(t).namespaces;return this.events.once(cA("session_update",o),(e=>{let{error:t}=e;t?s(t):n()})),await this.client.session.update(t,{namespaces:r}),await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:r},throwOnFailedPublish:!0,clientRpcId:o,relayRpcId:a}).catch((e=>{this.client.logger.error(e),this.client.session.update(t,{namespaces:c}),s(e)})),{acknowledged:i}},this.extend=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(e)}catch(kc){throw this.client.logger.error("extend() -> isValidExtend() failed"),kc}const{topic:t}=e,r=Um(),{done:i,resolve:n,reject:s}=rA();return this.events.once(cA("session_extend",r),(e=>{let{error:t}=e;t?s(t):n()})),await this.setExpiry(t,oA(aT)),this.sendRequest({topic:t,method:"wc_sessionExtend",params:{},clientRpcId:r,throwOnFailedPublish:!0}).catch((e=>{s(e)})),{acknowledged:i}},this.request=async e=>{this.isInitialized();try{await this.isValidRequest(e)}catch(d){throw this.client.logger.error("request() -> isValidRequest() failed"),d}const{chainId:t,request:r,topic:i,expiry:n=cT.wc_sessionRequest.req.ttl}=e,s=this.client.session.get(i);(null===s||void 0===s?void 0:s.transportType)===mk.relay&&await this.confirmOnlineStateOrThrow();const o=Um(),a=Dm().toString(),{done:c,resolve:l,reject:u}=rA(n,"Request expired. Please try again.");this.events.once(cA("session_request",o),(e=>{let{error:t,result:r}=e;t?u(t):l(r)}));const h=this.getAppLinkIfEnabled(s.peer.metadata,s.transportType);return h?(await this.sendRequest({clientRpcId:o,relayRpcId:a,topic:i,method:"wc_sessionRequest",params:{request:_T(ET({},r),{expiryTimestamp:oA(n)}),chainId:t},expiry:n,throwOnFailedPublish:!0,appLink:h}).catch((e=>u(e))),this.client.events.emit("session_request_sent",{topic:i,request:r,chainId:t,id:o}),await c()):await Promise.all([new Promise((async e=>{await this.sendRequest({clientRpcId:o,relayRpcId:a,topic:i,method:"wc_sessionRequest",params:{request:_T(ET({},r),{expiryTimestamp:oA(n)}),chainId:t},expiry:n,throwOnFailedPublish:!0}).catch((e=>u(e))),this.client.events.emit("session_request_sent",{topic:i,request:r,chainId:t,id:o}),e()})),new Promise((async e=>{var t;if(null==(t=s.sessionConfig)||!t.disableDeepLink){const e=await async function(e,t){let r="";try{if(Jx()&&(r=localStorage.getItem(t),r))return r;r=await e.getItem(t)}catch(n){console.error(n)}return r}(this.client.core.storage,oT);await uA({id:o,topic:i,wcDeepLink:e})}e()})),c()]).then((e=>e[2]))},this.respond=async e=>{this.isInitialized(),await this.isValidRespond(e);const{topic:t,response:r}=e,{id:i}=r,n=this.client.session.get(t);n.transportType===mk.relay&&await this.confirmOnlineStateOrThrow();const s=this.getAppLinkIfEnabled(n.peer.metadata,n.transportType);$m(r)?await this.sendResult({id:i,topic:t,result:r.result,throwOnFailedPublish:!0,appLink:s}):Qm(r)&&await this.sendError({id:i,topic:t,error:r.error,appLink:s}),this.cleanupAfterResponse(e)},this.ping=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(e)}catch(ya){throw this.client.logger.error("ping() -> isValidPing() failed"),ya}const{topic:t}=e;if(this.client.session.keys.includes(t)){const e=Um(),r=Dm().toString(),{done:i,resolve:n,reject:s}=rA();this.events.once(cA("session_ping",e),(e=>{let{error:t}=e;t?s(t):n()})),await Promise.all([this.sendRequest({topic:t,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:e,relayRpcId:r}),i()])}else this.client.core.pairing.pairings.keys.includes(t)&&await this.client.core.pairing.ping({topic:t})},this.emit=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(e);const{topic:t,event:r,chainId:i}=e,n=Dm().toString();await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:r,chainId:i},throwOnFailedPublish:!0,relayRpcId:n})},this.disconnect=async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(e);const{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:"wc_sessionDelete",params:IP("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:t,emitEvent:!1});else{if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:e}=MP("MISMATCHED_TOPIC","Session or pairing topic not found: ".concat(t));throw new Error(e)}await this.client.core.pairing.disconnect({topic:t})}},this.find=e=>(this.isInitialized(),this.client.session.getAll().filter((t=>function(e,t){const{requiredNamespaces:r}=t,i=Object.keys(e.namespaces),n=Object.keys(r);let s=!0;return!!Qx(n,i)&&(i.forEach((t=>{const{accounts:i,methods:n,events:o}=e.namespaces[t],a=wP(i),c=r[t];(!Qx(Cx(t,c),a)||!Qx(c.methods,n)||!Qx(c.events,o))&&(s=!1)})),s)}(t,e)))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async(e,t)=>{var r;this.isInitialized(),this.isValidAuthenticate(e);const i=t&&this.client.core.linkModeSupportedApps.includes(t)&&(null==(r=this.client.metadata.redirect)?void 0:r.linkMode),n=i?mk.link_mode:mk.relay;n===mk.relay&&await this.confirmOnlineStateOrThrow();const{chains:s,statement:o="",uri:a,domain:c,nonce:l,type:u,exp:h,nbf:d,methods:f=[],expiry:p}=e,g=[...e.resources||[]],{topic:b,uri:m}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:n});this.client.logger.info({message:"Generated new pairing",pairing:{topic:b,uri:m}});const y=await this.client.core.crypto.generateKeyPair(),v=YA(y);if(await Promise.all([this.client.auth.authKeys.set(pT,{responseTopic:v,publicKey:y}),this.client.auth.pairingTopics.set(v,{topic:v,pairingTopic:b})]),await this.client.core.relayer.subscribe(v,{transportType:n}),this.client.logger.info("sending request to new pairing topic: ".concat(b)),f.length>0){const{namespace:e}=Tx(s[0]);let t=zA(e,"request",f);FA(g)&&(t=DA(t,g.pop())),g.push(t)}const w=p&&p>cT.wc_sessionAuthenticate.req.ttl?p:cT.wc_sessionAuthenticate.req.ttl,S={authPayload:{type:null!==u&&void 0!==u?u:"caip122",chains:s,statement:o,aud:a,domain:c,version:"1",nonce:l,iat:(new Date).toISOString(),exp:h,nbf:d,resources:g},requester:{publicKey:y,metadata:this.client.metadata},expiryTimestamp:oA(w)},E={requiredNamespaces:{},optionalNamespaces:{eip155:{chains:s,methods:[...new Set(["personal_sign",...f])],events:["chainChanged","accountsChanged"]}},relays:[{protocol:"irn"}],pairingTopic:b,proposer:{publicKey:y,metadata:this.client.metadata},expiryTimestamp:oA(cT.wc_sessionPropose.req.ttl)},{done:_,resolve:M,reject:I}=rA(w,"Request expired"),x=async e=>{let{error:t,session:r}=e;if(this.events.off(cA("session_request",P),A),t)I(t);else if(r){r.self.publicKey=y,await this.client.session.set(r.topic,r),await this.setExpiry(r.topic,r.expiry),b&&await this.client.core.pairing.updateMetadata({topic:b,metadata:r.peer.metadata});const e=this.client.session.get(r.topic);await this.deleteProposal(k),M({session:e})}},A=async e=>{var r,i,s;if(await this.deletePendingAuthRequest(P,{message:"fulfilled",code:0}),e.error){const t=IP("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return e.error.code===t.code?void 0:(this.events.off(cA("session_connect"),x),I(e.error.message))}await this.deleteProposal(k),this.events.off(cA("session_connect"),x);const{cacaos:o,responder:a}=e.result,c=[],l=[];for(const t of o){await OA({cacao:t,projectId:this.client.core.projectId})||(this.client.logger.error(t,"Signature verification failed"),I(IP("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:e}=t,r=FA(e.resources),i=[PA(e.iss)],n=kA(e.iss);if(r){const e=jA(r),t=BA(r);c.push(...e),i.push(...t)}for(const t of i)l.push("".concat(t,":").concat(n))}const u=await this.client.core.crypto.generateSharedKey(y,a.publicKey);let h;c.length>0&&(h={topic:u,acknowledged:!0,self:{publicKey:y,metadata:this.client.metadata},peer:a,controller:a.publicKey,expiry:oA(aT),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:b,namespaces:SP([...new Set(c)],[...new Set(l)]),transportType:n},await this.client.core.relayer.subscribe(u,{transportType:n}),await this.client.session.set(u,h),b&&await this.client.core.pairing.updateMetadata({topic:b,metadata:a.metadata}),h=this.client.session.get(u)),null!=(r=this.client.metadata.redirect)&&r.linkMode&&null!=(i=a.metadata.redirect)&&i.linkMode&&null!=(s=a.metadata.redirect)&&s.universal&&t&&(this.client.core.addLinkModeSupportedApp(a.metadata.redirect.universal),this.client.session.update(u,{transportType:mk.link_mode})),M({auths:o,session:h})},P=Um(),k=Um();let O;this.events.once(cA("session_connect"),x),this.events.once(cA("session_request",P),A);try{if(i){const e=qm("wc_sessionAuthenticate",S,P);this.client.core.history.set(b,e);const r=await this.client.core.crypto.encode("",e,{type:2,encoding:WA});O=vP(t,b,r)}else await Promise.all([this.sendRequest({topic:b,method:"wc_sessionAuthenticate",params:S,expiry:e.expiry,throwOnFailedPublish:!0,clientRpcId:P}),this.sendRequest({topic:b,method:"wc_sessionPropose",params:E,expiry:cT.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:k})])}catch(N){throw this.events.off(cA("session_connect"),x),this.events.off(cA("session_request",P),A),N}return await this.setProposal(k,ET({id:k},E)),await this.setAuthRequest(P,{request:_T(ET({},S),{verifyContext:{}}),pairingTopic:b,transportType:n}),{uri:null!==O&&void 0!==O?O:m,response:_}},this.approveSessionAuthenticate=async e=>{const{id:t,auths:r}=e,i=this.client.core.eventClient.createEvent({properties:{topic:t.toString(),trace:[vO]}});try{this.isInitialized()}catch(p){throw i.setError(xO),p}const n=this.getPendingAuthRequest(t);if(!n)throw i.setError(OO),new Error("Could not find pending auth request with id ".concat(t));const s=n.transportType||mk.relay;s===mk.relay&&await this.confirmOnlineStateOrThrow();const o=n.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=YA(o),l={type:1,receiverPublicKey:o,senderPublicKey:a},u=[],h=[];for(const g of r){if(!await OA({cacao:g,projectId:this.client.core.projectId})){i.setError(AO);const e=IP("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:t,topic:c,error:e,encodeOpts:l}),new Error(e.message)}i.addTrace(SO);const{p:e}=g,r=FA(e.resources),n=[PA(e.iss)],s=kA(e.iss);if(r){const e=jA(r),t=BA(r);u.push(...e),n.push(...t)}for(const t of n)h.push("".concat(t,":").concat(s))}const d=await this.client.core.crypto.generateSharedKey(a,o);let f;if(i.addTrace(wO),(null===u||void 0===u?void 0:u.length)>0){f={topic:d,acknowledged:!0,self:{publicKey:a,metadata:this.client.metadata},peer:{publicKey:o,metadata:n.requester.metadata},controller:o,expiry:oA(aT),authentication:r,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:n.pairingTopic,namespaces:SP([...new Set(u)],[...new Set(h)]),transportType:s},i.addTrace(_O);try{await this.client.core.relayer.subscribe(d,{transportType:s})}catch(p){throw i.setError(PO),p}i.addTrace(MO),await this.client.session.set(d,f),i.addTrace(EO),await this.client.core.pairing.updateMetadata({topic:n.pairingTopic,metadata:n.requester.metadata})}i.addTrace(IO);try{await this.sendResult({topic:c,id:t,result:{cacaos:r,responder:{publicKey:a,metadata:this.client.metadata}},encodeOpts:l,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(n.requester.metadata,s)})}catch(p){throw i.setError(kO),p}return await this.client.auth.requests.delete(t,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:n.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:f}},this.rejectSessionAuthenticate=async e=>{this.isInitialized();const{id:t,reason:r}=e,i=this.getPendingAuthRequest(t);if(!i)throw new Error("Could not find pending auth request with id ".concat(t));i.transportType===mk.relay&&await this.confirmOnlineStateOrThrow();const n=i.requester.publicKey,s=await this.client.core.crypto.generateKeyPair(),o=YA(n),a={type:1,receiverPublicKey:n,senderPublicKey:s};await this.sendError({id:t,topic:o,error:r,encodeOpts:a,rpcOpts:cT.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(t,{message:"rejected",code:0}),await this.client.proposal.delete(t,IP("USER_DISCONNECTED"))},this.formatAuthMessage=e=>{this.isInitialized();const{request:t,iss:r}=e;return NA(t,r)},this.processRelayMessageCache=()=>{setTimeout((async()=>{if(0!==this.relayMessageCache.length)for(;this.relayMessageCache.length>0;)try{const e=this.relayMessageCache.shift();e&&await this.onRelayMessage(e)}catch(e){this.client.logger.error(e)}}),50)},this.cleanupDuplicatePairings=async e=>{if(e.pairingTopic)try{const t=this.client.core.pairing.pairings.get(e.pairingTopic),r=this.client.core.pairing.pairings.getAll().filter((r=>{var i,n;return(null==(i=r.peerMetadata)?void 0:i.url)&&(null==(n=r.peerMetadata)?void 0:n.url)===e.peer.metadata.url&&r.topic&&r.topic!==t.topic}));if(0===r.length)return;this.client.logger.info("Cleaning up ".concat(r.length," duplicate pairing(s)")),await Promise.all(r.map((e=>this.client.core.pairing.disconnect({topic:e.topic})))),this.client.logger.info("Duplicate pairings clean up finished")}catch(t){this.client.logger.error(t)}},this.deleteSession=async e=>{var t;const{topic:r,expirerHasDeleted:i=!1,emitEvent:n=!0,id:s=0}=e,{self:o}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),await this.client.session.delete(r,IP("USER_DISCONNECTED")),this.addToRecentlyDeleted(r,"session"),this.client.core.crypto.keychain.has(o.publicKey)&&await this.client.core.crypto.deleteKeyPair(o.publicKey),this.client.core.crypto.keychain.has(r)&&await this.client.core.crypto.deleteSymKey(r),i||this.client.core.expirer.del(r),this.client.core.storage.removeItem(oT).catch((e=>this.client.logger.warn(e))),this.getPendingSessionRequests().forEach((e=>{e.topic===r&&this.deletePendingSessionRequest(e.id,IP("USER_DISCONNECTED"))})),r===(null==(t=this.sessionRequestQueue.queue[0])?void 0:t.topic)&&(this.sessionRequestQueue.state=uT),n&&this.client.events.emit("session_delete",{id:s,topic:r})},this.deleteProposal=async(e,t)=>{if(t)try{const t=this.client.proposal.get(e),r=this.client.core.eventClient.getEvent({topic:t.pairingTopic});null===r||void 0===r||r.setError(fO)}catch(r){}await Promise.all([this.client.proposal.delete(e,IP("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"proposal")},this.deletePendingSessionRequest=async function(e,r){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];await Promise.all([t.client.pendingRequest.delete(e,r),i?Promise.resolve():t.client.core.expirer.del(e)]),t.addToRecentlyDeleted(e,"request"),t.sessionRequestQueue.queue=t.sessionRequestQueue.queue.filter((t=>t.id!==e)),i&&(t.sessionRequestQueue.state=uT,t.client.events.emit("session_request_expire",{id:e}))},this.deletePendingAuthRequest=async function(e,r){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];await Promise.all([t.client.auth.requests.delete(e,r),i?Promise.resolve():t.client.core.expirer.del(e)])},this.setExpiry=async(e,t)=>{this.client.session.keys.includes(e)&&(this.client.core.expirer.set(e,t),await this.client.session.update(e,{expiry:t}))},this.setProposal=async(e,t)=>{this.client.core.expirer.set(e,oA(cT.wc_sessionPropose.req.ttl)),await this.client.proposal.set(e,t)},this.setAuthRequest=async(e,t)=>{const{request:r,pairingTopic:i,transportType:n=mk.relay}=t;this.client.core.expirer.set(e,r.expiryTimestamp),await this.client.auth.requests.set(e,{authPayload:r.authPayload,requester:r.requester,expiryTimestamp:r.expiryTimestamp,id:e,pairingTopic:i,verifyContext:r.verifyContext,transportType:n})},this.setPendingSessionRequest=async e=>{const{id:t,topic:r,params:i,verifyContext:n}=e,s=i.request.expiryTimestamp||oA(cT.wc_sessionRequest.req.ttl);this.client.core.expirer.set(t,s),await this.client.pendingRequest.set(t,{id:t,topic:r,params:i,verifyContext:n})},this.sendRequest=async e=>{const{topic:t,method:i,params:n,expiry:s,relayRpcId:o,clientRpcId:a,throwOnFailedPublish:c,appLink:l}=e,u=qm(i,n,a);let h;const d=!!l;try{const e=d?WA:HA;h=await this.client.core.crypto.encode(t,u,{encoding:e})}catch(g){throw await this.cleanup(),this.client.logger.error("sendRequest() -> core.crypto.encode() for topic ".concat(t," failed")),g}let f;if(dT.includes(i)){const e=ZA(JSON.stringify(u)),t=ZA(h);f=await this.client.core.verify.register({id:t,decryptedId:e})}const p=cT[i].req;if(p.attestation=f,s&&(p.ttl=s),o&&(p.id=o),this.client.core.history.set(t,u),d){const e=vP(l,t,h);await r.g.Linking.openURL(e,this.client.name)}else{const e=cT[i].req;s&&(e.ttl=s),o&&(e.id=o),c?(e.internal=_T(ET({},e.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(t,h,e)):this.client.core.relayer.publish(t,h,e).catch((e=>this.client.logger.error(e)))}return u.id},this.sendResult=async e=>{const{id:t,topic:i,result:n,throwOnFailedPublish:s,encodeOpts:o,appLink:a}=e,c=jm(t,n);let l;const u=a&&typeof(null==r.g?void 0:r.g.Linking)<"u";try{const e=u?WA:HA;l=await this.client.core.crypto.encode(i,c,_T(ET({},o||{}),{encoding:e}))}catch($a){throw await this.cleanup(),this.client.logger.error("sendResult() -> core.crypto.encode() for topic ".concat(i," failed")),$a}let h;try{h=await this.client.core.history.get(i,t)}catch($a){throw this.client.logger.error("sendResult() -> history.get(".concat(i,", ").concat(t,") failed")),$a}if(u){const e=vP(a,i,l);await r.g.Linking.openURL(e,this.client.name)}else{const e=cT[h.request.method].res;s?(e.internal=_T(ET({},e.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,l,e)):this.client.core.relayer.publish(i,l,e).catch((e=>this.client.logger.error(e)))}await this.client.core.history.resolve(c)},this.sendError=async e=>{const{id:t,topic:i,error:n,encodeOpts:s,rpcOpts:o,appLink:a}=e,c=Bm(t,n);let l;const u=a&&typeof(null==r.g?void 0:r.g.Linking)<"u";try{const e=u?WA:HA;l=await this.client.core.crypto.encode(i,c,_T(ET({},s||{}),{encoding:e}))}catch($a){throw await this.cleanup(),this.client.logger.error("sendError() -> core.crypto.encode() for topic ".concat(i," failed")),$a}let h;try{h=await this.client.core.history.get(i,t)}catch($a){throw this.client.logger.error("sendError() -> history.get(".concat(i,", ").concat(t,") failed")),$a}if(u){const e=vP(a,i,l);await r.g.Linking.openURL(e,this.client.name)}else{const e=o||cT[h.request.method].res;this.client.core.relayer.publish(i,l,e)}await this.client.core.history.resolve(c)},this.cleanup=async()=>{const e=[],t=[];this.client.session.getAll().forEach((t=>{let r=!1;aA(t.expiry)&&(r=!0),this.client.core.crypto.keychain.has(t.topic)||(r=!0),r&&e.push(t.topic)})),this.client.proposal.getAll().forEach((e=>{aA(e.expiryTimestamp)&&t.push(e.id)})),await Promise.all([...e.map((e=>this.deleteSession({topic:e}))),...t.map((e=>this.deleteProposal(e)))])},this.onRelayEventRequest=async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state!==hT){for(this.client.logger.info("Request queue starting with ".concat(this.requestQueue.queue.length," requests"));this.requestQueue.queue.length>0;){this.requestQueue.state=hT;const t=this.requestQueue.queue.shift();if(t)try{await this.processRequest(t)}catch(e){this.client.logger.warn(e)}}this.requestQueue.state=uT}else this.client.logger.info("Request queue already active, skipping...")},this.processRequest=async e=>{const{topic:t,payload:r,attestation:i,transportType:n,encryptedId:s}=e,o=r.method;if(!this.shouldIgnorePairingRequest({topic:t,requestMethod:o}))switch(o){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:t,payload:r,attestation:i,encryptedId:s});case"wc_sessionSettle":return await this.onSessionSettleRequest(t,r);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(t,r);case"wc_sessionExtend":return await this.onSessionExtendRequest(t,r);case"wc_sessionPing":return await this.onSessionPingRequest(t,r);case"wc_sessionDelete":return await this.onSessionDeleteRequest(t,r);case"wc_sessionRequest":return await this.onSessionRequest({topic:t,payload:r,attestation:i,encryptedId:s,transportType:n});case"wc_sessionEvent":return await this.onSessionEventRequest(t,r);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:t,payload:r,attestation:i,encryptedId:s,transportType:n});default:return this.client.logger.info("Unsupported request method ".concat(o))}},this.onRelayEventResponse=async e=>{const{topic:t,payload:r,transportType:i}=e,n=(await this.client.core.history.get(t,r.id)).request.method;switch(n){case"wc_sessionPropose":return this.onSessionProposeResponse(t,r,i);case"wc_sessionSettle":return this.onSessionSettleResponse(t,r);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,r);case"wc_sessionExtend":return this.onSessionExtendResponse(t,r);case"wc_sessionPing":return this.onSessionPingResponse(t,r);case"wc_sessionRequest":return this.onSessionRequestResponse(t,r);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(t,r);default:return this.client.logger.info("Unsupported response method ".concat(n))}},this.onRelayEventUnknownPayload=e=>{const{topic:t}=e,{message:r}=MP("MISSING_OR_INVALID","Decoded payload on topic ".concat(t," is not identifiable as a JSON-RPC request or a response."));throw new Error(r)},this.shouldIgnorePairingRequest=e=>{const{topic:t,requestMethod:r}=e,i=this.expectedPairingMethodMap.get(t);return!(!i||i.includes(r))&&!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)},this.onSessionProposeRequest=async e=>{const{topic:t,payload:r,attestation:i,encryptedId:n}=e,{params:s,id:o}=r;try{const e=this.client.core.eventClient.getEvent({topic:t});this.isValidConnect(ET({},r.params));const a=s.expiryTimestamp||oA(cT.wc_sessionPropose.req.ttl),c=ET({id:o,pairingTopic:t,expiryTimestamp:a},s);await this.setProposal(o,c);const l=await this.getVerifyContext({attestationId:i,hash:ZA(JSON.stringify(r)),encryptedId:n,metadata:c.proposer.metadata});0===this.client.events.listenerCount("session_proposal")&&(console.warn("No listener for session_proposal event"),null!==e&&void 0!==e&&e.setError(rO)),null!==e&&void 0!==e&&e.addTrace(Zk),this.client.events.emit("session_proposal",{id:o,params:c,verifyContext:l})}catch(Qa){await this.sendError({id:o,topic:t,error:Qa,rpcOpts:cT.wc_sessionPropose.autoReject}),this.client.logger.error(Qa)}},this.onSessionProposeResponse=async(e,t,r)=>{const{id:i}=t;if($m(t)){const{result:n}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:n});const s=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:s});const o=s.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:o});const a=n.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:a});const c=await this.client.core.crypto.generateSharedKey(o,a);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:c});const l=await this.client.core.relayer.subscribe(c,{transportType:r});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:l}),await this.client.core.pairing.activate({topic:e})}else if(Qm(t)){await this.client.proposal.delete(i,IP("USER_DISCONNECTED"));const e=cA("session_connect");if(0===this.events.listenerCount(e))throw new Error("emitting ".concat(e," without any listeners, 954"));this.events.emit(cA("session_connect"),{error:t.error})}},this.onSessionSettleRequest=async(e,t)=>{const{id:r,params:i}=t;try{this.isValidSessionSettleRequest(i);const{relay:r,controller:n,expiry:s,namespaces:o,sessionProperties:a,sessionConfig:c}=t.params,l=_T(ET(ET({topic:e,relay:r,expiry:s,namespaces:o,acknowledged:!0,pairingTopic:"",requiredNamespaces:{},optionalNamespaces:{},controller:n.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:n.publicKey,metadata:n.metadata}},a&&{sessionProperties:a}),c&&{sessionConfig:c}),{transportType:mk.relay}),u=cA("session_connect");if(0===this.events.listenerCount(u))throw new Error("emitting ".concat(u," without any listeners 997"));this.events.emit(cA("session_connect"),{session:l}),await this.sendResult({id:t.id,topic:e,result:!0,throwOnFailedPublish:!0})}catch(n){await this.sendError({id:r,topic:e,error:n}),this.client.logger.error(n)}},this.onSessionSettleResponse=async(e,t)=>{const{id:r}=t;$m(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit(cA("session_approve",r),{})):Qm(t)&&(await this.client.session.delete(e,IP("USER_DISCONNECTED")),this.events.emit(cA("session_approve",r),{error:t.error}))},this.onSessionUpdateRequest=async(e,t)=>{const{params:r,id:i}=t;try{const t="".concat(e,"_session_update"),n=GP.get(t);if(n&&this.isRequestOutOfSync(n,i))return this.client.logger.info("Discarding out of sync request - ".concat(i)),void this.sendError({id:i,topic:e,error:IP("INVALID_UPDATE_REQUEST")});this.isValidUpdate(ET({topic:e},r));try{GP.set(t,i),await this.client.session.update(e,{namespaces:r.namespaces}),await this.sendResult({id:i,topic:e,result:!0,throwOnFailedPublish:!0})}catch(kc){throw GP.delete(t),kc}this.client.events.emit("session_update",{id:i,topic:e,params:r})}catch(n){await this.sendError({id:i,topic:e,error:n}),this.client.logger.error(n)}},this.isRequestOutOfSync=(e,t)=>parseInt(t.toString().slice(0,-3))<=parseInt(e.toString().slice(0,-3)),this.onSessionUpdateResponse=(e,t)=>{const{id:r}=t,i=cA("session_update",r);if(0===this.events.listenerCount(i))throw new Error("emitting ".concat(i," without any listeners"));$m(t)?this.events.emit(cA("session_update",r),{}):Qm(t)&&this.events.emit(cA("session_update",r),{error:t.error})},this.onSessionExtendRequest=async(e,t)=>{const{id:r}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,oA(aT)),await this.sendResult({id:r,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:r,topic:e})}catch(Sc){await this.sendError({id:r,topic:e,error:Sc}),this.client.logger.error(Sc)}},this.onSessionExtendResponse=(e,t)=>{const{id:r}=t,i=cA("session_extend",r);if(0===this.events.listenerCount(i))throw new Error("emitting ".concat(i," without any listeners"));$m(t)?this.events.emit(cA("session_extend",r),{}):Qm(t)&&this.events.emit(cA("session_extend",r),{error:t.error})},this.onSessionPingRequest=async(e,t)=>{const{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:r,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:r,topic:e})}catch(Sc){await this.sendError({id:r,topic:e,error:Sc}),this.client.logger.error(Sc)}},this.onSessionPingResponse=(e,t)=>{const{id:r}=t,i=cA("session_ping",r);if(0===this.events.listenerCount(i))throw new Error("emitting ".concat(i," without any listeners"));setTimeout((()=>{$m(t)?this.events.emit(cA("session_ping",r),{}):Qm(t)&&this.events.emit(cA("session_ping",r),{error:t.error})}),500)},this.onSessionDeleteRequest=async(e,t)=>{const{id:r}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),Promise.all([new Promise((t=>{this.client.core.relayer.once(hk,(async()=>{t(await this.deleteSession({topic:e,id:r}))}))})),this.sendResult({id:r,topic:e,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:e,error:IP("USER_DISCONNECTED")})]).catch((e=>this.client.logger.error(e)))}catch(Sc){this.client.logger.error(Sc)}},this.onSessionRequest=async e=>{var t,r,i;const{topic:n,payload:s,attestation:o,encryptedId:a,transportType:c}=e,{id:l,params:u}=s;try{await this.isValidRequest(ET({topic:n},u));const e=this.client.session.get(n),s={id:l,topic:n,params:u,verifyContext:await this.getVerifyContext({attestationId:o,hash:ZA(JSON.stringify(qm("wc_sessionRequest",u,l))),encryptedId:a,metadata:e.peer.metadata,transportType:c})};await this.setPendingSessionRequest(s),c===mk.link_mode&&null!=(t=e.peer.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(null==(r=e.peer.metadata.redirect)?void 0:r.universal),null!=(i=this.client.signConfig)&&i.disableRequestQueue?this.emitSessionRequest(s):(this.addSessionRequestToSessionRequestQueue(s),this.processSessionRequestQueue())}catch($a){await this.sendError({id:l,topic:n,error:$a}),this.client.logger.error($a)}},this.onSessionRequestResponse=(e,t)=>{const{id:r}=t,i=cA("session_request",r);if(0===this.events.listenerCount(i))throw new Error("emitting ".concat(i," without any listeners"));$m(t)?this.events.emit(cA("session_request",r),{result:t.result}):Qm(t)&&this.events.emit(cA("session_request",r),{error:t.error})},this.onSessionEventRequest=async(e,t)=>{const{id:r,params:i}=t;try{const t="".concat(e,"_session_event_").concat(i.event.name),n=GP.get(t);if(n&&this.isRequestOutOfSync(n,r))return void this.client.logger.info("Discarding out of sync request - ".concat(r));this.isValidEmit(ET({topic:e},i)),this.client.events.emit("session_event",{id:r,topic:e,params:i}),GP.set(t,r)}catch(n){await this.sendError({id:r,topic:e,error:n}),this.client.logger.error(n)}},this.onSessionAuthenticateResponse=(e,t)=>{const{id:r}=t;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:e,payload:t}),$m(t)?this.events.emit(cA("session_request",r),{result:t.result}):Qm(t)&&this.events.emit(cA("session_request",r),{error:t.error})},this.onSessionAuthenticateRequest=async e=>{var t;const{topic:r,payload:i,attestation:n,encryptedId:s,transportType:o}=e;try{const{requester:e,authPayload:a,expiryTimestamp:c}=i.params,l=await this.getVerifyContext({attestationId:n,hash:ZA(JSON.stringify(i)),encryptedId:s,metadata:e.metadata,transportType:o}),u={requester:e,pairingTopic:r,id:i.id,authPayload:a,verifyContext:l,expiryTimestamp:c};await this.setAuthRequest(i.id,{request:u,pairingTopic:r,transportType:o}),o===mk.link_mode&&null!=(t=e.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(e.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:r,params:i.params,id:i.id,verifyContext:l})}catch(Qa){this.client.logger.error(Qa);const t=i.params.requester.publicKey,n=await this.client.core.crypto.generateKeyPair(),s=this.getAppLinkIfEnabled(i.params.requester.metadata,o),a={type:1,receiverPublicKey:t,senderPublicKey:n};await this.sendError({id:i.id,topic:r,error:Qa,encodeOpts:a,rpcOpts:cT.wc_sessionAuthenticate.autoReject,appLink:s})}},this.addSessionRequestToSessionRequestQueue=e=>{this.sessionRequestQueue.queue.push(e)},this.cleanupAfterResponse=e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout((()=>{this.sessionRequestQueue.state=uT,this.processSessionRequestQueue()}),(0,ga.toMiliseconds)(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=e=>{let{topic:t,error:r}=e;const i=this.client.core.history.pending;i.length>0&&i.filter((e=>e.topic===t&&"wc_sessionRequest"===e.request.method)).forEach((e=>{const t=cA("session_request",e.request.id);if(0===this.events.listenerCount(t))throw new Error("emitting ".concat(t," without any listeners"));this.events.emit(cA("session_request",e.request.id),{error:r})}))},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===hT)return void this.client.logger.info("session request queue is already active.");const e=this.sessionRequestQueue.queue[0];if(e)try{this.sessionRequestQueue.state=hT,this.emitSessionRequest(e)}catch(t){this.client.logger.error(t)}else this.client.logger.info("session request queue is empty.")},this.emitSessionRequest=e=>{this.client.events.emit("session_request",e)},this.onPairingCreated=e=>{if(e.methods&&this.expectedPairingMethodMap.set(e.topic,e.methods),e.active)return;const t=this.client.proposal.getAll().find((t=>t.pairingTopic===e.topic));t&&this.onSessionProposeRequest({topic:e.topic,payload:qm("wc_sessionPropose",{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties},t.id)})},this.isValidConnect=async e=>{if(!DP(e)){const{message:t}=MP("MISSING_OR_INVALID","connect() params: ".concat(JSON.stringify(e)));throw new Error(t)}const{pairingTopic:t,requiredNamespaces:r,optionalNamespaces:i,sessionProperties:n,relays:s}=e;if(PP(t)||await this.isValidPairingTopic(t),!function(e,t){let r=!1;return t&&!e?r=!0:e&&xP(e)&&e.length&&e.forEach((e=>{r=UP(e)})),r}(s,!0)){const{message:e}=MP("MISSING_OR_INVALID","connect() relays: ".concat(s));throw new Error(e)}!PP(r)&&0!==AP(r)&&this.validateNamespaces(r,"requiredNamespaces"),!PP(i)&&0!==AP(i)&&this.validateNamespaces(i,"optionalNamespaces"),PP(n)||this.validateSessionProps(n,"sessionProperties")},this.validateNamespaces=(e,t)=>{const r=function(e,t,r){let i=null;if(e&&AP(e)){const n=LP(e,t);n&&(i=n);const s=TP(e,t,r);s&&(i=s)}else i=MP("MISSING_OR_INVALID","".concat(t,", ").concat(r," should be an object with data"));return i}(e,"connect()",t);if(r)throw new Error(r.message)},this.isValidApprove=async e=>{if(!DP(e))throw new Error(MP("MISSING_OR_INVALID","approve() params: ".concat(e)).message);const{id:t,namespaces:r,relayProtocol:i,sessionProperties:n}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);const s=this.client.proposal.get(t),o=zP(r,"approve()");if(o)throw new Error(o.message);const a=FP(s.requiredNamespaces,r,"approve()");if(a)throw new Error(a.message);if(!kP(i,!0)){const{message:e}=MP("MISSING_OR_INVALID","approve() relayProtocol: ".concat(i));throw new Error(e)}PP(n)||this.validateSessionProps(n,"sessionProperties")},this.isValidReject=async e=>{if(!DP(e)){const{message:t}=MP("MISSING_OR_INVALID","reject() params: ".concat(e));throw new Error(t)}const{id:t,reason:r}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!function(e){return!(!e||"object"!=typeof e||!e.code||!OP(e.code,!1)||!e.message||!kP(e.message,!1))}(r)){const{message:e}=MP("MISSING_OR_INVALID","reject() reason: ".concat(JSON.stringify(r)));throw new Error(e)}},this.isValidSessionSettleRequest=e=>{if(!DP(e)){const{message:t}=MP("MISSING_OR_INVALID","onSessionSettleRequest() params: ".concat(e));throw new Error(t)}const{relay:t,controller:r,namespaces:i,expiry:n}=e;if(!UP(t)){const{message:e}=MP("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(e)}const s=function(e,t){let r=null;return kP(null===e||void 0===e?void 0:e.publicKey,!1)||(r=MP("MISSING_OR_INVALID","".concat(t," controller public key should be a string"))),r}(r,"onSessionSettleRequest()");if(s)throw new Error(s.message);const o=zP(i,"onSessionSettleRequest()");if(o)throw new Error(o.message);if(aA(n)){const{message:e}=MP("EXPIRED","onSessionSettleRequest()");throw new Error(e)}},this.isValidUpdate=async e=>{if(!DP(e)){const{message:t}=MP("MISSING_OR_INVALID","update() params: ".concat(e));throw new Error(t)}const{topic:t,namespaces:r}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const i=this.client.session.get(t),n=zP(r,"update()");if(n)throw new Error(n.message);const s=FP(i.requiredNamespaces,r,"update()");if(s)throw new Error(s.message)},this.isValidExtend=async e=>{if(!DP(e)){const{message:t}=MP("MISSING_OR_INVALID","extend() params: ".concat(e));throw new Error(t)}const{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t)},this.isValidRequest=async e=>{if(!DP(e)){const{message:t}=MP("MISSING_OR_INVALID","request() params: ".concat(e));throw new Error(t)}const{topic:t,request:r,chainId:i,expiry:n}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const{namespaces:s}=this.client.session.get(t);if(!qP(s,i)){const{message:e}=MP("MISSING_OR_INVALID","request() chainId: ".concat(i));throw new Error(e)}if(!function(e){return!(PP(e)||!kP(e.method,!1))}(r)){const{message:e}=MP("MISSING_OR_INVALID","request() ".concat(JSON.stringify(r)));throw new Error(e)}if(!jP(s,i,r.method)){const{message:e}=MP("MISSING_OR_INVALID","request() method: ".concat(r.method));throw new Error(e)}if(n&&!function(e,t){return OP(e,!1)&&e<=t.max&&e>=t.min}(n,lT)){const{message:e}=MP("MISSING_OR_INVALID","request() expiry: ".concat(n,". Expiry must be a number (in seconds) between ").concat(lT.min," and ").concat(lT.max));throw new Error(e)}},this.isValidRespond=async e=>{var t;if(!DP(e)){const{message:t}=MP("MISSING_OR_INVALID","respond() params: ".concat(e));throw new Error(t)}const{topic:r,response:i}=e;try{await this.isValidSessionTopic(r)}catch(n){throw null!=(t=null===e||void 0===e?void 0:e.response)&&t.id&&this.cleanupAfterResponse(e),n}if(!function(e){return!(PP(e)||PP(e.result)&&PP(e.error)||!OP(e.id,!1)||!kP(e.jsonrpc,!1))}(i)){const{message:e}=MP("MISSING_OR_INVALID","respond() response: ".concat(JSON.stringify(i)));throw new Error(e)}},this.isValidPing=async e=>{if(!DP(e)){const{message:t}=MP("MISSING_OR_INVALID","ping() params: ".concat(e));throw new Error(t)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)},this.isValidEmit=async e=>{if(!DP(e)){const{message:t}=MP("MISSING_OR_INVALID","emit() params: ".concat(e));throw new Error(t)}const{topic:t,event:r,chainId:i}=e;await this.isValidSessionTopic(t);const{namespaces:n}=this.client.session.get(t);if(!qP(n,i)){const{message:e}=MP("MISSING_OR_INVALID","emit() chainId: ".concat(i));throw new Error(e)}if(!function(e){return!(PP(e)||!kP(e.name,!1))}(r)){const{message:e}=MP("MISSING_OR_INVALID","emit() event: ".concat(JSON.stringify(r)));throw new Error(e)}if(!BP(n,i,r.name)){const{message:e}=MP("MISSING_OR_INVALID","emit() event: ".concat(JSON.stringify(r)));throw new Error(e)}},this.isValidDisconnect=async e=>{if(!DP(e)){const{message:t}=MP("MISSING_OR_INVALID","disconnect() params: ".concat(e));throw new Error(t)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)},this.isValidAuthenticate=e=>{const{chains:t,uri:r,domain:i,nonce:n}=e;if(!Array.isArray(t)||0===t.length)throw new Error("chains is required and must be a non-empty array");if(!kP(r,!1))throw new Error("uri is required parameter");if(!kP(i,!1))throw new Error("domain is required parameter");if(!kP(n,!1))throw new Error("nonce is required parameter");if([...new Set(t.map((e=>Tx(e).namespace)))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:s}=Tx(t[0]);if("eip155"!==s)throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=async e=>{const{attestationId:t,hash:r,encryptedId:i,metadata:n,transportType:s}=e,o={verified:{verifyUrl:n.verifyUrl||Dk,validation:"UNKNOWN",origin:n.url||""}};try{if(s===mk.link_mode){const e=this.getAppLinkIfEnabled(n,s);return o.verified.validation=e&&new URL(e).origin===new URL(n.url).origin?"VALID":"INVALID",o}const e=await this.client.core.verify.resolve({attestationId:t,hash:r,encryptedId:i,verifyUrl:n.verifyUrl});e&&(o.verified.origin=e.origin,o.verified.isScam=e.isScam,o.verified.validation=e.origin===new URL(n.url).origin?"VALID":"INVALID")}catch(Qa){this.client.logger.warn(Qa)}return this.client.logger.debug("Verify context: ".concat(JSON.stringify(o))),o},this.validateSessionProps=(e,t)=>{Object.values(e).forEach((e=>{if(!kP(e,!1)){const{message:r}=MP("MISSING_OR_INVALID","".concat(t," must be in Record<string, string> format. Received: ").concat(JSON.stringify(e)));throw new Error(r)}}))},this.getPendingAuthRequest=e=>{const t=this.client.auth.requests.get(e);return"object"==typeof t?t:void 0},this.addToRecentlyDeleted=(e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let e=0;const t=this.recentlyDeletedLimit/2;for(const r of this.recentlyDeletedMap.keys()){if(e++>=t)break;this.recentlyDeletedMap.delete(r)}}},this.checkRecentlyDeleted=e=>{const t=this.recentlyDeletedMap.get(e);if(t){const{message:r}=MP("MISSING_OR_INVALID","Record was recently deleted - ".concat(t,": ").concat(e));throw new Error(r)}},this.isLinkModeEnabled=(e,t)=>{var i,n,s,o,a,c,l,u,h;return!(!e||t!==mk.link_mode)&&(!0===(null==(n=null==(i=this.client.metadata)?void 0:i.redirect)?void 0:n.linkMode)&&void 0!==(null==(o=null==(s=this.client.metadata)?void 0:s.redirect)?void 0:o.universal)&&""!==(null==(c=null==(a=this.client.metadata)?void 0:a.redirect)?void 0:c.universal)&&void 0!==(null==(l=null===e||void 0===e?void 0:e.redirect)?void 0:l.universal)&&""!==(null==(u=null===e||void 0===e?void 0:e.redirect)?void 0:u.universal)&&!0===(null==(h=null===e||void 0===e?void 0:e.redirect)?void 0:h.linkMode)&&this.client.core.linkModeSupportedApps.includes(e.redirect.universal)&&typeof(null==r.g?void 0:r.g.Linking)<"u")},this.getAppLinkIfEnabled=(e,t)=>{var r;return this.isLinkModeEnabled(e,t)?null==(r=null===e||void 0===e?void 0:e.redirect)?void 0:r.universal:void 0},this.handleLinkModeMessage=e=>{let{url:t}=e;if(!t||!t.includes("wc_ev")||!t.includes("topic"))return;const r=hA(t,"topic")||"",i=decodeURIComponent(hA(t,"wc_ev")||""),n=this.client.session.keys.includes(r);n&&this.client.session.update(r,{transportType:mk.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:n})},this.registerLinkModeListeners=async()=>{var e;if(fA()||Gx()&&null!=(e=this.client.metadata.redirect)&&e.linkMode){const e=null==r.g?void 0:r.g.Linking;if(typeof e<"u"){e.addEventListener("url",this.handleLinkModeMessage,this.client.name);const t=await e.getInitialURL();t&&setTimeout((()=>{this.handleLinkModeMessage({url:t})}),50)}}}}isInitialized(){if(!this.initialized){const{message:e}=MP("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(sk,(e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):this.onRelayMessage(e)}))}async onRelayMessage(e){const{topic:t,message:r,attestation:i,transportType:n}=e,{publicKey:s}=this.client.auth.authKeys.keys.includes(pT)?this.client.auth.authKeys.get(pT):{responseTopic:void 0,publicKey:void 0},o=await this.client.core.crypto.decode(t,r,{receiverPublicKey:s,encoding:n===mk.link_mode?WA:HA});try{Zm(o)?(this.client.core.history.set(t,o),this.onRelayEventRequest({topic:t,payload:o,attestation:i,transportType:n,encryptedId:ZA(r)})):Xm(o)?(await this.client.core.history.resolve(o),await this.onRelayEventResponse({topic:t,payload:o,transportType:n}),this.client.core.history.delete(t,o.id)):this.onRelayEventUnknownPayload({topic:t,payload:o,transportType:n})}catch(kc){this.client.logger.error(kc)}}registerExpirerEvents(){this.client.core.expirer.on(Lk,(async e=>{const{topic:t,id:r}=sA(e.target);return r&&this.client.pendingRequest.keys.includes(r)?await this.deletePendingSessionRequest(r,MP("EXPIRED"),!0):r&&this.client.auth.requests.keys.includes(r)?await this.deletePendingAuthRequest(r,MP("EXPIRED"),!0):void(t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r})))}))}registerPairingEvents(){this.client.core.pairing.events.on(Ik,(e=>this.onPairingCreated(e))),this.client.core.pairing.events.on(Ak,(e=>{this.addToRecentlyDeleted(e.topic,"pairing")}))}isValidPairingTopic(e){if(!kP(e,!1)){const{message:t}=MP("MISSING_OR_INVALID","pairing topic should be a string: ".concat(e));throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=MP("NO_MATCHING_KEY","pairing topic doesn't exist: ".concat(e));throw new Error(t)}if(aA(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=MP("EXPIRED","pairing topic: ".concat(e));throw new Error(t)}}async isValidSessionTopic(e){if(!kP(e,!1)){const{message:t}=MP("MISSING_OR_INVALID","session topic should be a string: ".concat(e));throw new Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:t}=MP("NO_MATCHING_KEY","session topic doesn't exist: ".concat(e));throw new Error(t)}if(aA(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:t}=MP("EXPIRED","session topic: ".concat(e));throw new Error(t)}if(!this.client.core.crypto.keychain.has(e)){const{message:t}=MP("MISSING_OR_INVALID","session topic does not exist in keychain: ".concat(e));throw await this.deleteSession({topic:e}),new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else{if(!this.client.core.pairing.pairings.keys.includes(e)){if(kP(e,!1)){const{message:t}=MP("NO_MATCHING_KEY","session or pairing topic doesn't exist: ".concat(e));throw new Error(t)}{const{message:t}=MP("MISSING_OR_INVALID","session or pairing topic should be a string: ".concat(e));throw new Error(t)}}this.isValidPairingTopic(e)}}async isValidProposalId(e){if(!function(e){return"number"==typeof e}(e)){const{message:t}=MP("MISSING_OR_INVALID","proposal id should be a number: ".concat(e));throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=MP("NO_MATCHING_KEY","proposal id doesn't exist: ".concat(e));throw new Error(t)}if(aA(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:t}=MP("EXPIRED","proposal id: ".concat(e));throw new Error(t)}}}class IT extends LR{constructor(e,t){super(e,t,"proposal",iT),this.core=e,this.logger=t}}class xT extends LR{constructor(e,t){super(e,t,"session",iT),this.core=e,this.logger=t}}class AT extends LR{constructor(e,t){super(e,t,"request",iT,(e=>e.id)),this.core=e,this.logger=t}}class PT extends LR{constructor(e,t){super(e,t,"authKeys",fT,(()=>pT)),this.core=e,this.logger=t}}class kT extends LR{constructor(e,t){super(e,t,"pairingTopics",fT),this.core=e,this.logger=t}}class OT extends LR{constructor(e,t){super(e,t,"requests",fT,(e=>e.id)),this.core=e,this.logger=t}}class NT{constructor(e,t){this.core=e,this.logger=t,this.authKeys=new PT(this.core,this.logger),this.pairingTopics=new kT(this.core,this.logger),this.requests=new OT(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}class RT extends ux{constructor(e){super(e),this.protocol="wc",this.version=2,this.name=nT,this.events=new fa.EventEmitter,this.on=(e,t)=>this.events.on(e,t),this.once=(e,t)=>this.events.once(e,t),this.off=(e,t)=>this.events.off(e,t),this.removeListener=(e,t)=>this.events.removeListener(e,t),this.removeAllListeners=e=>this.events.removeAllListeners(e),this.connect=async e=>{try{return await this.engine.connect(e)}catch(ya){throw this.logger.error(ya.message),ya}},this.pair=async e=>{try{return await this.engine.pair(e)}catch(ya){throw this.logger.error(ya.message),ya}},this.approve=async e=>{try{return await this.engine.approve(e)}catch(ya){throw this.logger.error(ya.message),ya}},this.reject=async e=>{try{return await this.engine.reject(e)}catch(ya){throw this.logger.error(ya.message),ya}},this.update=async e=>{try{return await this.engine.update(e)}catch(ya){throw this.logger.error(ya.message),ya}},this.extend=async e=>{try{return await this.engine.extend(e)}catch(ya){throw this.logger.error(ya.message),ya}},this.request=async e=>{try{return await this.engine.request(e)}catch(ya){throw this.logger.error(ya.message),ya}},this.respond=async e=>{try{return await this.engine.respond(e)}catch(ya){throw this.logger.error(ya.message),ya}},this.ping=async e=>{try{return await this.engine.ping(e)}catch(ya){throw this.logger.error(ya.message),ya}},this.emit=async e=>{try{return await this.engine.emit(e)}catch(ya){throw this.logger.error(ya.message),ya}},this.disconnect=async e=>{try{return await this.engine.disconnect(e)}catch(ya){throw this.logger.error(ya.message),ya}},this.find=e=>{try{return this.engine.find(e)}catch(ya){throw this.logger.error(ya.message),ya}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}},this.authenticate=async(e,t)=>{try{return await this.engine.authenticate(e,t)}catch(Sc){throw this.logger.error(Sc.message),Sc}},this.formatAuthMessage=e=>{try{return this.engine.formatAuthMessage(e)}catch(ya){throw this.logger.error(ya.message),ya}},this.approveSessionAuthenticate=async e=>{try{return await this.engine.approveSessionAuthenticate(e)}catch(ya){throw this.logger.error(ya.message),ya}},this.rejectSessionAuthenticate=async e=>{try{return await this.engine.rejectSessionAuthenticate(e)}catch(ya){throw this.logger.error(ya.message),ya}},this.name=(null===e||void 0===e?void 0:e.name)||nT,this.metadata=(null===e||void 0===e?void 0:e.metadata)||Zx(),this.signConfig=null===e||void 0===e?void 0:e.signConfig;const t=typeof(null===e||void 0===e?void 0:e.logger)<"u"&&"string"!=typeof(null===e||void 0===e?void 0:e.logger)?e.logger:sc()(_c({level:(null===e||void 0===e?void 0:e.logger)||sT}));this.core=(null===e||void 0===e?void 0:e.core)||new tT(e),this.logger=Ic(t,this.name),this.session=new xT(this.core,this.logger),this.proposal=new IT(this.core,this.logger),this.pendingRequest=new AT(this.core,this.logger),this.engine=new MT(this),this.auth=new NT(this.core,this.logger)}static async init(e){const t=new RT(e);return await t.initialize(),t}get context(){return Mc(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),this.engine.processRelayMessageCache()}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}const TT=xT,CT=RT;function LT(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return(n=e(...r))&&"function"===typeof n.then?n:Promise.resolve(n)}catch(s){return Promise.reject(s)}var n}function zT(e){if(function(e){const t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"===typeof e.toJSON)return zT(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const UT="base64:";function DT(e){return"string"===typeof e?e:UT+function(e){if(globalThis.Buffer)return Buffer.from(e).toString("base64");return globalThis.btoa(String.fromCodePoint(...e))}(e)}function qT(e){return"string"!==typeof e?e:e.startsWith(UT)?function(e){if(globalThis.Buffer)return Buffer.from(e,"base64");return Uint8Array.from(globalThis.atob(e),(e=>e.codePointAt(0)))}(e.slice(7)):e}function jT(e){var t;return e&&(null===(t=e.split("?")[0])||void 0===t?void 0:t.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function BT(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return jT(t.join(":"))}function FT(e){return(e=jT(e))?e+":":""}const KT=()=>{const e=new Map;return{name:"memory",getInstance:()=>e,hasItem:t=>e.has(t),getItem(t){var r;return null!==(r=e.get(t))&&void 0!==r?r:null},getItemRaw(t){var r;return null!==(r=e.get(t))&&void 0!==r?r:null},setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys:()=>[...e.keys()],clear(){e.clear()},dispose(){e.clear()}}};function VT(){const e={mounts:{"":(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).driver||KT()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},t=t=>{for(const r of e.mountpoints)if(t.startsWith(r))return{base:r,relativeKey:t.slice(r.length),driver:e.mounts[r]};return{base:"",relativeKey:t,driver:e.mounts[""]}},r=(t,r)=>e.mountpoints.filter((e=>e.startsWith(t)||r&&t.startsWith(e))).map((r=>({relativeBase:t.length>r.length?t.slice(r.length):void 0,mountpoint:r,driver:e.mounts[r]}))),i=(t,r)=>{if(e.watching){r=jT(r);for(const i of e.watchListeners)i(t,r)}},n=async()=>{if(e.watching){for(const t in e.unwatch)await e.unwatch[t]();e.unwatch={},e.watching=!1}},s=(e,r,i)=>{const n=new Map,s=e=>{let t=n.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},n.set(e.base,t)),t};for(const o of e){const e="string"===typeof o,i=jT(e?o:o.key),n=e?void 0:o.value,a=e||!o.options?r:Ce(Ce({},r),o.options),c=t(i);s(c).items.push({key:i,value:n,relativeKey:c.relativeKey,options:a})}return Promise.all([...n.values()].map((e=>i(e)))).then((e=>e.flat()))},o={hasItem(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=jT(e);const{relativeKey:i,driver:n}=t(e);return LT(n.hasItem,i,r)},getItem(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=jT(e);const{relativeKey:i,driver:n}=t(e);return LT(n.getItem,i,r).then((e=>Ia(e)))},getItems(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(e,t,(e=>e.driver.getItems?LT(e.driver.getItems,e.items.map((e=>({key:e.relativeKey,options:e.options}))),t).then((t=>t.map((t=>({key:BT(e.base,t.key),value:Ia(t.value)}))))):Promise.all(e.items.map((t=>LT(e.driver.getItem,t.relativeKey,t.options).then((e=>({key:t.key,value:Ia(e)}))))))))},getItemRaw(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=jT(e);const{relativeKey:i,driver:n}=t(e);return n.getItemRaw?LT(n.getItemRaw,i,r):LT(n.getItem,i,r).then((e=>qT(e)))},async setItem(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===r)return o.removeItem(e);e=jT(e);const{relativeKey:s,driver:a}=t(e);a.setItem&&(await LT(a.setItem,s,zT(r),n),a.watch||i("update",e))},async setItems(e,t){await s(e,t,(async e=>{if(e.driver.setItems)return LT(e.driver.setItems,e.items.map((e=>({key:e.relativeKey,value:zT(e.value),options:e.options}))),t);e.driver.setItem&&await Promise.all(e.items.map((t=>LT(e.driver.setItem,t.relativeKey,zT(t.value),t.options))))}))},async setItemRaw(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===r)return o.removeItem(e,n);e=jT(e);const{relativeKey:s,driver:a}=t(e);if(a.setItemRaw)await LT(a.setItemRaw,s,r,n);else{if(!a.setItem)return;await LT(a.setItem,s,DT(r),n)}a.watch||i("update",e)},async removeItem(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"===typeof r&&(r={removeMeta:r}),e=jT(e);const{relativeKey:n,driver:s}=t(e);s.removeItem&&(await LT(s.removeItem,n,r),(r.removeMeta||r.removeMata)&&await LT(s.removeItem,n+"$",r),s.watch||i("remove",e))},async getMeta(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"===typeof r&&(r={nativeOnly:r}),e=jT(e);const{relativeKey:i,driver:n}=t(e),s=Object.create(null);if(n.getMeta&&Object.assign(s,await LT(n.getMeta,i,r)),!r.nativeOnly){const e=await LT(n.getItem,i+"$",r).then((e=>Ia(e)));e&&"object"===typeof e&&("string"===typeof e.atime&&(e.atime=new Date(e.atime)),"string"===typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(s,e))}return s},setMeta(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.setItem(e+"$",t,r)},removeMeta(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.removeItem(e+"$",t)},async getKeys(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=FT(e);const i=r(e,!0);let n=[];const s=[];for(const r of i){const e=await LT(r.driver.getKeys,r.relativeBase,t);for(const t of e){const e=r.mountpoint+jT(t);n.some((t=>e.startsWith(t)))||s.push(e)}n=[r.mountpoint,...n.filter((e=>!e.startsWith(r.mountpoint)))]}return e?s.filter((t=>t.startsWith(e)&&"$"!==t[t.length-1])):s.filter((e=>"$"!==e[e.length-1]))},async clear(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=FT(e),await Promise.all(r(e,!1).map((async e=>{if(e.driver.clear)return LT(e.driver.clear,e.relativeBase,t);if(e.driver.removeItem){const r=await e.driver.getKeys(e.relativeBase||"",t);return Promise.all(r.map((r=>e.driver.removeItem(r,t))))}})))},async dispose(){await Promise.all(Object.values(e.mounts).map((e=>WT(e))))},watch:async t=>(await(async()=>{if(!e.watching){e.watching=!0;for(const t in e.mounts)e.unwatch[t]=await HT(e.mounts[t],i,t)}})(),e.watchListeners.push(t),async()=>{e.watchListeners=e.watchListeners.filter((e=>e!==t)),0===e.watchListeners.length&&await n()}),async unwatch(){e.watchListeners=[],await n()},mount(t,r){if((t=FT(t))&&e.mounts[t])throw new Error("already mounted at ".concat(t));return t&&(e.mountpoints.push(t),e.mountpoints.sort(((e,t)=>t.length-e.length))),e.mounts[t]=r,e.watching&&Promise.resolve(HT(r,i,t)).then((r=>{e.unwatch[t]=r})).catch(console.error),o},async unmount(t){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((t=FT(t))&&e.mounts[t]){var i,n;if(e.watching&&t in e.unwatch)null===(i=(n=e.unwatch)[t])||void 0===i||i.call(n),delete e.unwatch[t];r&&await WT(e.mounts[t]),e.mountpoints=e.mountpoints.filter((e=>e!==t)),delete e.mounts[t]}},getMount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e=jT(e)+":";const r=t(e);return{driver:r.driver,base:r.base}},getMounts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=jT(e);return r(e,t.parents).map((e=>({driver:e.driver,base:e.mountpoint})))},keys:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.getKeys(e,t)},get:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.getItem(e,t)},set:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.setItem(e,t,r)},has:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.hasItem(e,t)},del:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.removeItem(e,t)},remove:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.removeItem(e,t)}};return o}function HT(e,t,r){return e.watch?e.watch(((e,i)=>t(e,r+i))):()=>{}}async function WT(e){"function"===typeof e.dispose&&await LT(e.dispose)}var GT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.base&&e.base.length>0?"".concat(e.base,":"):"",r=e=>t+e;let i;return e.dbName&&e.storeName&&(i=qa(e.dbName,e.storeName)),{name:"idb-keyval",options:e,hasItem:async e=>!(typeof await Fa(r(e),i)>"u"),async getItem(e){var t;return null!==(t=await Fa(r(e),i))&&void 0!==t?t:null},setItem:(e,t)=>Ka(r(e),t,i),removeItem:e=>Va(r(e),i),getKeys:()=>Ga(i),clear:()=>Ha(i)}};class JT{constructor(){this.indexedDb=VT({driver:GT({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map((e=>[e.key,e.value]))}async getItem(e){const t=await this.indexedDb.getItem(e);if(null!==t)return t}async setItem(e,t){await this.indexedDb.setItem(e,Ya(t))}async removeItem(e){await this.indexedDb.removeItem(e)}}var YT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof r.g<"u"?r.g:typeof self<"u"?self:{},ZT={exports:{}};function XT(e){var t;return[e[0],Ja(null!=(t=e[1])?t:"")]}!function(){let e;function t(){}e=t,e.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.setItem=function(e,t){this[e]=String(t)},e.prototype.removeItem=function(e){delete this[e]},e.prototype.clear=function(){const e=this;Object.keys(e).forEach((function(t){e[t]=void 0,delete e[t]}))},e.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},e.prototype.__defineGetter__("length",(function(){return Object.keys(this).length})),typeof YT<"u"&&YT.localStorage?ZT.exports=YT.localStorage:typeof window<"u"&&window.localStorage?ZT.exports=window.localStorage:ZT.exports=new t}();class $T{constructor(){this.localStorage=ZT.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(XT)}async getItem(e){const t=this.localStorage.getItem(e);if(null!==t)return Ja(t)}async setItem(e,t){this.localStorage.setItem(e,Ya(t))}async removeItem(e){this.localStorage.removeItem(e)}}const QT=async(e,t)=>{t.length&&t.forEach((async t=>{await e.removeItem(t)}))};class eC{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};const e=new $T;this.storage=e;try{(async(e,t,r)=>{const i="wc_storage_version",n=await t.getItem(i);if(n&&n>=1)return void r(t);const s=await e.getKeys();if(!s.length)return void r(t);const o=[];for(;s.length;){const r=s.shift();if(!r)continue;const i=r.toLowerCase();if(i.includes("wc@")||i.includes("walletconnect")||i.includes("wc_")||i.includes("wallet_connect")){const i=await e.getItem(r);await t.setItem(r,i),o.push(r)}}await t.setItem(i,1),r(t),QT(e,o)})(e,new JT,this.setInitialized)}catch(t){this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise((e=>{const t=setInterval((()=>{this.initialized&&(clearInterval(t),e())}),20)}))}}class tC extends ba{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}class rC extends ba{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}}class iC{constructor(e,t){this.logger=e,this.core=t}}class nC extends ba{constructor(e,t){super(),this.relayer=e,this.logger=t}}class sC extends ba{constructor(e){super()}}class oC{constructor(e,t,r,i){this.core=e,this.logger=t,this.name=r}}class aC extends ba{constructor(e,t){super(),this.relayer=e,this.logger=t}}class cC extends ba{constructor(e,t){super(),this.core=e,this.logger=t}}class lC{constructor(e,t,r){this.core=e,this.logger=t,this.store=r}}class uC{constructor(e,t){this.projectId=e,this.logger=t}}class hC{constructor(e,t,r){this.core=e,this.logger=t,this.telemetryEnabled=r}}pa();fa.EventEmitter;const dC=".",fC="base64url",pC="utf8",gC="utf8",bC="did",mC="key",yC="base58btc";function vC(e){return Ja(ip(rp(e,fC),pC))}function wC(e){return ip(rp(Ya(e),pC),fC)}function SC(e){const t="z"+ip(Ad([rp("K36",yC),e]),yC);return[bC,mC,t].join(":")}function EC(e){return ip(e,fC)}function _C(e){const t=e.split(dC);return{header:vC(t[0]),payload:vC(t[1]),signature:rp(t[2],fC),data:rp(t.slice(0,2).join(dC),gC)}}function MC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,A_.randomBytes)(32);return dx.K(e)}async function IC(e,t,r,i){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(0,ga.fromMiliseconds)(Date.now());const s={alg:"EdDSA",typ:"JWT"},o={iss:SC(i.publicKey),sub:e,aud:t,iat:n,exp:n+r},a=rp([wC((c={header:s,payload:o}).header),wC(c.payload)].join(dC),gC);var c;return function(e){return[wC(e.header),wC(e.payload),EC(e.signature)].join(dC)}({header:s,payload:o,signature:dx._S(i.secretKey,a)})}r(3156);var xC=r(950);var AC=Object.defineProperty,PC=Object.getOwnPropertySymbols,kC=Object.prototype.hasOwnProperty,OC=Object.prototype.propertyIsEnumerable,NC=(e,t,r)=>t in e?AC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,RC=(e,t)=>{for(var r in t||(t={}))kC.call(t,r)&&NC(e,r,t[r]);if(PC)for(var r of PC(t))OC.call(t,r)&&NC(e,r,t[r]);return e};const TC="react-native",CC="node",LC="browser",zC="unknown",UC="js";function DC(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function qC(){return!(0,Md.getDocument)()&&!!(0,Md.getNavigator)()&&"ReactNative"===navigator.product}function jC(){return!DC()&&!!(0,Md.getNavigator)()&&!!(0,Md.getDocument)()}function BC(){return qC()?TC:DC()?CC:jC()?LC:zC}function FC(e,t,i){const n=function(){if(BC()===TC&&typeof r.g<"u"&&typeof(null==r.g?void 0:r.g.Platform)<"u"){const{OS:e,Version:t}=r.g.Platform;return[e,t].join("-")}const e=Sd();if(null===e)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[t,e.name,e.version].join("-"):[t,e.version].join("-")}(),s=function(){var e;const t=BC();return t===LC?[t,(null==(e=(0,Md.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),[UC,i].join("-"),n,s].join("/")}function KC(e){let{protocol:t,version:r,relayUrl:i,sdkVersion:n,auth:s,projectId:o,useOnCloseEvent:a,bundleId:c}=e;const l=i.split("?"),u={auth:s,ua:FC(t,r,n),projectId:o,useOnCloseEvent:a||void 0,origin:c||void 0},h=function(e,t){let r=Ax.parse(e);return r=RC(RC({},r),t),Ax.stringify(r)}(l[1]||"",u);return l[0]+"?"+h}function VC(e){return Object.fromEntries(e.entries())}function HC(e){return new Map(Object.entries(e))}function WC(e,t,r){return new Promise((async(i,n)=>{const s=setTimeout((()=>n(new Error(r))),t);try{i(await e)}catch(Sc){n(Sc)}clearTimeout(s)}))}function GC(e,t){if("string"==typeof t&&t.startsWith("".concat(e,":")))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw new Error('Value must be "string" for expirer target type: topic');return"topic:".concat(t)}if("id"===e.toLowerCase()){if("number"!=typeof t)throw new Error('Value must be "number" for expirer target type: id');return"id:".concat(t)}throw new Error("Unknown expirer target type: ".concat(e))}function JC(e,t){return(0,ga.fromMiliseconds)((t||Date.now())+(0,ga.toMiliseconds)(e))}function YC(e){return Date.now()>=(0,ga.toMiliseconds)(e)}function ZC(e,t){return"".concat(e).concat(t?":".concat(t):"")}function XC(){return typeof crypto<"u"&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function $C(){return typeof process<"u"&&"true"==={NODE_ENV:"production",PUBLIC_URL:"/feri",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.IS_VITEST}function QC(e){return Buffer.from(e,"base64").toString("utf-8")}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const eL="base10",tL="base16",rL="base64pad",iL="utf8";function nL(){return ip((0,A_.randomBytes)(32),tL)}function sL(e){return ip((0,P_.tW)(rp(e,iL)),tL)}function oL(e){return rp("".concat(e),eL)}function aL(e){return Number(ip(e,eL))}function cL(e){const{encoding:t=rL}=e;if(2===aL(e.type))return ip(Ad([e.type,e.sealed]),t);if(1===aL(e.type)){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return ip(Ad([e.type,e.senderPublicKey,e.iv,e.sealed]),t)}return ip(Ad([e.type,e.iv,e.sealed]),t)}function lL(e){const{encoded:t,encoding:r=rL}=e,i=rp(t,r),n=i.slice(0,1);if(1===aL(n)){const e=33,t=e+12,r=i.slice(1,e),s=i.slice(e,t);return{type:n,sealed:i.slice(t),iv:s,senderPublicKey:r}}if(2===aL(n)){return{type:n,sealed:i.slice(1),iv:(0,A_.randomBytes)(12)}}const s=i.slice(1,13);return{type:n,sealed:i.slice(13),iv:s}}function uL(e){const t=(null===e||void 0===e?void 0:e.type)||0;if(1===t){if(typeof(null===e||void 0===e?void 0:e.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(null===e||void 0===e?void 0:e.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:null===e||void 0===e?void 0:e.senderPublicKey,receiverPublicKey:null===e||void 0===e?void 0:e.receiverPublicKey}}function hL(e){return 1===e.type&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}function dL(e){return 2===e.type}function fL(e,t){const[r,i,n]=e.split("."),s=function(e){return Buffer.from(function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const r=t.length%4;return r>0&&(t+="=".repeat(4-r)),t}(e),"base64")}(n);if(64!==s.length)throw new Error("Invalid signature length");const o=s.slice(0,32).toString("hex"),a=s.slice(32,64).toString("hex"),c="".concat(r,".").concat(i),l=(new P_.aD).update(Buffer.from(c)).digest(),u=function(e){return new xC.ec("p256").keyFromPublic({x:Buffer.from(e.x,"base64").toString("hex"),y:Buffer.from(e.y,"base64").toString("hex")},"hex")}(t),h=Buffer.from(l).toString("hex");if(!u.verify(h,{r:o,s:a}))throw new Error("Invalid signature");return _C(e).payload}function pL(e){return(null===e||void 0===e?void 0:e.relay)||{protocol:"irn"}}function gL(e){const t=sp[e];if(typeof t>"u")throw new Error("Relay Protocol not supported: ".concat(e));return t}var bL=Object.defineProperty,mL=Object.defineProperties,yL=Object.getOwnPropertyDescriptors,vL=Object.getOwnPropertySymbols,wL=Object.prototype.hasOwnProperty,SL=Object.prototype.propertyIsEnumerable,EL=(e,t,r)=>t in e?bL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,_L=(e,t)=>{for(var r in t||(t={}))wL.call(t,r)&&EL(e,r,t[r]);if(vL)for(var r of vL(t))SL.call(t,r)&&EL(e,r,t[r]);return e};function ML(e){const t={},r="relay"+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-");return Object.keys(e).forEach((i=>{if(i.startsWith(r)){const n=i.replace(r,""),s=e[i];t[n]=s}})),t}function IL(e){if(!e.includes("wc:")){const t=QC(e);null!=t&&t.includes("wc:")&&(e=t)}const t=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),r=-1!==e.indexOf("?")?e.indexOf("?"):void 0,i=e.substring(0,t),n=e.substring(t+1,r).split("@"),s=typeof r<"u"?e.substring(r):"",o=Ax.parse(s),a="string"==typeof o.methods?o.methods.split(","):void 0;return{protocol:i,topic:xL(n[0]),version:parseInt(n[1],10),symKey:o.symKey,relay:ML(o),methods:a,expiryTimestamp:o.expiryTimestamp?parseInt(o.expiryTimestamp,10):void 0}}function xL(e){return e.startsWith("//")?e.substring(2):e}function AL(e){return"".concat(e.protocol,":").concat(e.topic,"@").concat(e.version,"?")+Ax.stringify(_L(((e,t)=>mL(e,yL(t)))(_L({symKey:e.symKey},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";const r={};return Object.keys(e).forEach((i=>{const n="relay"+t+i;e[i]&&(r[n]=e[i])})),r}(e.relay)),{expiryTimestamp:e.expiryTimestamp}),e.methods?{methods:e.methods.join(",")}:{}))}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const PL={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},kL={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function OL(e,t){const{message:r,code:i}=kL[e];return{message:t?"".concat(r," ").concat(t):r,code:i}}function NL(e,t){const{message:r,code:i}=PL[e];return{message:t?"".concat(r," ").concat(t):r,code:i}}function RL(e,t){return!!Array.isArray(e)&&(!(typeof t<"u"&&e.length)||e.every(t))}function TL(e){return typeof e>"u"}function CL(e,t){return!(!t||!TL(e))||"string"==typeof e&&!!e.trim().length}function LL(e){return typeof e<"u"&&null!==typeof e}function zL(){const e=BC();return new Promise((t=>{switch(e){case LC:t(function(){var e;return jC()&&(null===(e=navigator)||void 0===e?void 0:e.onLine)}());break;case TC:t(async function(){if(qC()&&typeof r.g<"u"&&null!=r.g&&r.g.NetInfo){const e=await(null==r.g?void 0:r.g.NetInfo.fetch());return null===e||void 0===e?void 0:e.isConnected}return!0}());break;default:t(!0)}}))}function UL(e){switch(BC()){case LC:!function(e){!qC()&&jC()&&(window.addEventListener("online",(()=>e(!0))),window.addEventListener("offline",(()=>e(!1))))}(e);break;case TC:!function(e){var t;qC()&&typeof r.g<"u"&&null!=r.g&&r.g.NetInfo&&(null===(t=r.g)||void 0===t||t.NetInfo.addEventListener((t=>e(null===t||void 0===t?void 0:t.isConnected))))}(e)}}const DL=e=>e.split("?")[0],qL=typeof WebSocket<"u"?WebSocket:typeof r.g<"u"&&typeof r.g.WebSocket<"u"?r.g.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:r(1198);class jL{constructor(e){if(this.url=e,this.events=new fa.EventEmitter,this.registering=!1,!Gm(e))throw new Error("Provided URL is not compatible with WebSocket connection: ".concat(e));this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;await this.register(e)}async close(){return new Promise(((e,t)=>{typeof this.socket>"u"?t(new Error("Connection already closed")):(this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close())}))}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Ya(e))}catch(t){this.onError(e.id,t)}}register(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;if(!Gm(e))throw new Error("Provided URL is not compatible with WebSocket connection: ".concat(e));if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise(((e,t)=>{this.events.once("register_error",(e=>{this.resetMaxListeners(),t(e)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return t(new Error("WebSocket connection is missing or invalid"));e(this.socket)}))}))}return this.url=e,this.registering=!0,new Promise(((t,i)=>{const n=new URLSearchParams(e).get("origin"),s=(0,zm.isReactNative)()?{headers:{origin:n}}:{rejectUnauthorized:!Jm(e)},o=new qL(e,[],s);typeof WebSocket<"u"||typeof r.g<"u"&&typeof r.g.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u"?o.onerror=e=>{const t=e;i(this.emitError(t.error))}:o.on("error",(e=>{i(this.emitError(e))})),o.onopen=()=>{this.onOpen(o),t(o)}}))}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?Ja(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const r=this.parseError(t),i=Bm(e,r.message||r.toString());this.events.emit("payload",i)}parseError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.url;return Lm(e,DL(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){const t=this.parseError(new Error((null===e||void 0===e?void 0:e.message)||"WebSocket connection failed for host: ".concat(DL(this.url))));return this.events.emit("register_error",t),t}}const BL="core",FL="".concat("wc","@2:").concat(BL,":"),KL="error",VL={database:":memory:"},HL="client_ed25519_seed",WL=ga.ONE_DAY,GL=ga.SIX_HOURS,JL="wss://relay.walletconnect.org",YL="relayer_message",ZL="relayer_message_ack",XL="relayer_connect",$L="relayer_disconnect",QL="relayer_error",ez="relayer_connection_stalled",tz="relayer_publish",rz="payload",iz="connect",nz="disconnect",sz="error",oz="2.17.1",az="link_mode",cz="relay",lz="WALLETCONNECT_LINK_MODE_APPS",uz="subscription_created",hz="subscription_deleted",dz="subscription_sync",fz="subscription_resubscribed",pz=1e3*ga.FIVE_SECONDS,gz={wc_pairingDelete:{req:{ttl:ga.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ga.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ga.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ga.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ga.ONE_DAY,prompt:!1,tag:0},res:{ttl:ga.ONE_DAY,prompt:!1,tag:0}}},bz="pairing_create",mz="pairing_expire",yz="pairing_delete",vz="pairing_ping",wz="history_created",Sz="history_updated",Ez="history_deleted",_z="history_sync",Mz="expirer_created",Iz="expirer_deleted",xz="expirer_expired",Az="expirer_sync",Pz="https://verify.walletconnect.org",kz=Pz,Oz="".concat(kz,"/v3"),Nz=["https://verify.walletconnect.com",Pz],Rz="pairing_started",Tz="pairing_uri_validation_success",Cz="pairing_uri_not_expired",Lz="store_new_pairing",zz="subscribing_pairing_topic",Uz="subscribe_pairing_topic_success",Dz="existing_pairing",qz="pairing_not_expired",jz="emit_inactive_pairing",Bz="no_internet_connection",Fz="malformed_pairing_uri",Kz="active_pairing_already_exists",Vz="subscribe_pairing_topic_failure",Hz="pairing_expired";var Wz=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var s=e.charAt(n),o=s.charCodeAt(0);if(255!==r[o])throw new TypeError(s+" is ambiguous");r[o]=n}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var i=0,n=0;e[t]===c;)i++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var h=0,d=s-1;(0!==u||h<n)&&-1!==d;d--,h++)u+=a*o[d]>>>0,o[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");n=h,t++}if(" "!==e[t]){for(var f=s-n;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(i+(s-f)),g=i;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,i=0,n=0,s=t.length;n!==s&&0===t[n];)n++,r++;for(var o=(s-n)*u+1>>>0,l=new Uint8Array(o);n!==s;){for(var h=t[n],d=0,f=o-1;(0!==h||d<i)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");i=d,n++}for(var p=o-i;p!==o&&0===l[p];)p++;for(var g=c.repeat(r);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw new Error("Non-".concat(t," character"))}}},Gz=Wz;const Jz=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class Yz{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}class Zz{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return $z(this,e)}}class Xz{constructor(e){this.decoders=e}or(e){return $z(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}const $z=(e,t)=>new Xz(Ce(Ce({},e.decoders||{[e.prefix]:e}),t.decoders||{[t.prefix]:t}));class Qz{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new Yz(e,t,r),this.decoder=new Zz(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const eU=e=>{let{name:t,prefix:r,encode:i,decode:n}=e;return new Qz(t,r,i,n)},tU=e=>{let{prefix:t,name:r,alphabet:i}=e;const{encode:n,decode:s}=Gz(i,r);return eU({prefix:t,name:r,encode:n,decode:e=>Jz(s(e))})},rU=e=>{let{name:t,prefix:r,bitsPerChar:i,alphabet:n}=e;return eU({prefix:r,name:t,encode:e=>((e,t,r)=>{const i="="===t[t.length-1],n=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>r;)o-=r,s+=t[n&a>>o];if(o&&(s+=t[n&a<<r-o]),i)for(;s.length*r&7;)s+="=";return s})(e,n,i),decode:e=>((e,t,r,i)=>{const n={};for(let u=0;u<t.length;++u)n[t[u]]=u;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const t=n[e[u]];if(void 0===t)throw new SyntaxError("Non-".concat(i," character"));c=c<<r|t,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,n,i,t)})},iU=eU({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var nU=Object.freeze({__proto__:null,identity:iU});const sU=rU({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var oU=Object.freeze({__proto__:null,base2:sU});const aU=rU({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var cU=Object.freeze({__proto__:null,base8:aU});const lU=tU({prefix:"9",name:"base10",alphabet:"0123456789"});var uU=Object.freeze({__proto__:null,base10:lU});const hU=rU({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),dU=rU({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var fU=Object.freeze({__proto__:null,base16:hU,base16upper:dU});const pU=rU({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),gU=rU({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),bU=rU({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),mU=rU({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),yU=rU({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),vU=rU({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),wU=rU({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),SU=rU({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),EU=rU({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var _U=Object.freeze({__proto__:null,base32:pU,base32upper:gU,base32pad:bU,base32padupper:mU,base32hex:yU,base32hexupper:vU,base32hexpad:wU,base32hexpadupper:SU,base32z:EU});const MU=tU({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),IU=tU({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var xU=Object.freeze({__proto__:null,base36:MU,base36upper:IU});const AU=tU({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),PU=tU({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var kU=Object.freeze({__proto__:null,base58btc:AU,base58flickr:PU});const OU=rU({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),NU=rU({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),RU=rU({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),TU=rU({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var CU=Object.freeze({__proto__:null,base64:OU,base64pad:NU,base64url:RU,base64urlpad:TU});const LU=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),zU=LU.reduce(((e,t,r)=>(e[r]=t,e)),[]),UU=LU.reduce(((e,t,r)=>(e[t.codePointAt(0)]=r,e)),[]);const DU=eU({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=zU[t]),"")},decode:function(e){const t=[];for(const r of e){const e=UU[r.codePointAt(0)];if(void 0===e)throw new Error("Non-base256emoji character: ".concat(r));t.push(e)}return new Uint8Array(t)}});var qU=Object.freeze({__proto__:null,base256emoji:DU}),jU=function e(t,r,i){r=r||[];for(var n=i=i||0;t>=KU;)r[i++]=255&t|BU,t/=128;for(;t&FU;)r[i++]=255&t|BU,t>>>=7;return r[i]=0|t,e.bytes=i-n+1,r},BU=128,FU=-128,KU=Math.pow(2,31);var VU=function e(t,r){var i,n=0,s=(r=r||0,0),o=r,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");i=t[o++],n+=s<28?(i&WU)<<s:(i&WU)*Math.pow(2,s),s+=7}while(i>=HU);return e.bytes=o-r,n},HU=128,WU=127;var GU=Math.pow(2,7),JU=Math.pow(2,14),YU=Math.pow(2,21),ZU=Math.pow(2,28),XU=Math.pow(2,35),$U=Math.pow(2,42),QU=Math.pow(2,49),eD=Math.pow(2,56),tD=Math.pow(2,63),rD={encode:jU,decode:VU,encodingLength:function(e){return e<GU?1:e<JU?2:e<YU?3:e<ZU?4:e<XU?5:e<$U?6:e<QU?7:e<eD?8:e<tD?9:10}},iD=rD;const nD=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return iD.encode(e,t,r),t},sD=e=>iD.encodingLength(e),oD=(e,t)=>{const r=t.byteLength,i=sD(e),n=i+sD(r),s=new Uint8Array(n+r);return nD(e,s,0),nD(r,s,i),s.set(t,n),new aD(e,r,t,s)};class aD{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}}const cD=e=>{let{name:t,code:r,encode:i}=e;return new lD(t,r,i)};class lD{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?oD(this.code,t):t.then((e=>oD(this.code,e)))}throw Error("Unknown type, must be binary type")}}const uD=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),hD=cD({name:"sha2-256",code:18,encode:uD("SHA-256")}),dD=cD({name:"sha2-512",code:19,encode:uD("SHA-512")});var fD=Object.freeze({__proto__:null,sha256:hD,sha512:dD});const pD=Jz,gD={code:0,name:"identity",encode:pD,digest:e=>oD(0,pD(e))};var bD=Object.freeze({__proto__:null,identity:gD});new TextEncoder,new TextDecoder;const mD=Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce({},nU),oU),cU),uU),fU),_U),xU),kU),CU),qU);function yD(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}Ce(Ce({},fD),bD);const vD=yD("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),wD=yD("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),SD=Ce({utf8:vD,"utf-8":vD,hex:mD.base16,latin1:wD,ascii:wD,binary:wD},mD);class ED{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=FL,this.init=async()=>{if(!this.initialized){const e=await this.getKeyChain();typeof e<"u"&&(this.keychain=e),this.initialized=!0}},this.has=e=>(this.isInitialized(),this.keychain.has(e)),this.set=async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()},this.get=e=>{this.isInitialized();const t=this.keychain.get(e);if(typeof t>"u"){const{message:t}=OL("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw new Error(t)}return t},this.del=async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()},this.core=e,this.logger=Ic(t,this.name)}get context(){return Mc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,VC(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?HC(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=OL("NOT_INITIALIZED",this.name);throw new Error(e)}}}class _D{constructor(e,t,r){this.core=e,this.logger=t,this.name="crypto",this.randomSessionIdentifier=nL(),this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=e=>(this.isInitialized(),this.keychain.has(e)),this.getClientId=async()=>{this.isInitialized();return SC(MC(await this.getClientSeed()).publicKey)},this.generateKeyPair=()=>{this.isInitialized();const e=function(){const e=Ox.TZ();return{privateKey:ip(e.secretKey,tL),publicKey:ip(e.publicKey,tL)}}();return this.setPrivateKey(e.publicKey,e.privateKey)},this.signJWT=async e=>{this.isInitialized();const t=MC(await this.getClientSeed()),r=this.randomSessionIdentifier,i=WL;return await IC(r,e,i,t)},this.generateSharedKey=(e,t,r)=>{this.isInitialized();const i=function(e,t){const r=Ox.Tc(rp(e,tL),rp(t,tL),!0);return ip(new kx.i(P_.aD,r).expand(32),tL)}(this.getPrivateKey(e),t);return this.setSymKey(i,r)},this.setSymKey=async(e,t)=>{this.isInitialized();const r=t||function(e){return ip((0,P_.tW)(rp(e,tL)),tL)}(e);return await this.keychain.set(r,e),r},this.deleteKeyPair=async e=>{this.isInitialized(),await this.keychain.del(e)},this.deleteSymKey=async e=>{this.isInitialized(),await this.keychain.del(e)},this.encode=async(e,t,r)=>{this.isInitialized();const i=uL(r),n=Ya(t);if(dL(i))return function(e,t){const r=oL(2),i=(0,A_.randomBytes)(12);return cL({type:r,sealed:rp(e,iL),iv:i,encoding:t})}(n,null===r||void 0===r?void 0:r.encoding);if(hL(i)){const t=i.senderPublicKey,r=i.receiverPublicKey;e=await this.generateSharedKey(t,r)}const s=this.getSymKey(e),{type:o,senderPublicKey:a}=i;return function(e){const t=oL(typeof e.type<"u"?e.type:0);if(1===aL(t)&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof e.senderPublicKey<"u"?rp(e.senderPublicKey,tL):void 0,i=typeof e.iv<"u"?rp(e.iv,tL):(0,A_.randomBytes)(12);return cL({type:t,sealed:new Px.g6(rp(e.symKey,tL)).seal(i,rp(e.message,iL)),iv:i,senderPublicKey:r,encoding:e.encoding})}({type:o,symKey:s,message:n,senderPublicKey:a,encoding:null===r||void 0===r?void 0:r.encoding})},this.decode=async(e,t,r)=>{this.isInitialized();const i=function(e,t){const r=lL({encoded:e,encoding:null===t||void 0===t?void 0:t.encoding});return uL({type:aL(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?ip(r.senderPublicKey,tL):void 0,receiverPublicKey:null===t||void 0===t?void 0:t.receiverPublicKey})}(t,r);if(dL(i)){const e=function(e,t){const{sealed:r}=lL({encoded:e,encoding:t});return ip(r,iL)}(t,null===r||void 0===r?void 0:r.encoding);return Ja(e)}if(hL(i)){const t=i.receiverPublicKey,r=i.senderPublicKey;e=await this.generateSharedKey(t,r)}try{const i=function(e){const t=new Px.g6(rp(e.symKey,tL)),{sealed:r,iv:i}=lL({encoded:e.encoded,encoding:null===e||void 0===e?void 0:e.encoding}),n=t.open(i,r);if(null===n)throw new Error("Failed to decrypt");return ip(n,iL)}({symKey:this.getSymKey(e),encoded:t,encoding:null===r||void 0===r?void 0:r.encoding});return Ja(i)}catch(ic){this.logger.error("Failed to decode message from topic: '".concat(e,"', clientId: '").concat(await this.getClientId(),"'")),this.logger.error(ic)}},this.getPayloadType=function(e){return aL(lL({encoded:e,encoding:arguments.length>1&&void 0!==arguments[1]?arguments[1]:rL}).type)},this.getPayloadSenderPublicKey=function(e){const t=lL({encoded:e,encoding:arguments.length>1&&void 0!==arguments[1]?arguments[1]:rL});return t.senderPublicKey?ip(t.senderPublicKey,tL):void 0},this.core=e,this.logger=Ic(t,this.name),this.keychain=r||new ED(this.core,this.logger)}get context(){return Mc(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(HL)}catch(t){e=nL(),await this.keychain.set(HL,e)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const r=SD[t];if(!r)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode("".concat(r.prefix).concat(e)):globalThis.Buffer.from(e,"utf8")}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=OL("NOT_INITIALIZED",this.name);throw new Error(e)}}}class MD extends iC{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=FL,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const e=await this.getRelayerMessages();typeof e<"u"&&(this.messages=e),this.logger.debug("Successfully Restored records for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(ya){this.logger.debug("Failed to Restore records for ".concat(this.name)),this.logger.error(ya)}finally{this.initialized=!0}}},this.set=async(e,t)=>{this.isInitialized();const r=sL(t);let i=this.messages.get(e);return typeof i>"u"&&(i={}),typeof i[r]<"u"||(i[r]=t,this.messages.set(e,i),await this.persist()),r},this.get=e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t},this.has=(e,t)=>{this.isInitialized();return typeof this.get(e)[sL(t)]<"u"},this.del=async e=>{this.isInitialized(),this.messages.delete(e),await this.persist()},this.logger=Ic(e,this.name),this.core=t}get context(){return Mc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,VC(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?HC(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=OL("NOT_INITIALIZED",this.name);throw new Error(e)}}}class ID extends nC{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new fa.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=(0,ga.toMiliseconds)(ga.ONE_MINUTE),this.failedPublishTimeout=(0,ga.toMiliseconds)(ga.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(e,t,r)=>{var i;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:r}});const n=(null===r||void 0===r?void 0:r.ttl)||GL,s=pL(r),o=(null===r||void 0===r?void 0:r.prompt)||!1,a=(null===r||void 0===r?void 0:r.tag)||0,c=(null===r||void 0===r?void 0:r.id)||Dm().toString(),l={topic:e,message:t,opts:{ttl:n,relay:s,prompt:o,tag:a,id:c,attestation:null===r||void 0===r?void 0:r.attestation}},u="Failed to publish payload, please try again. id:".concat(c," tag:").concat(a),h=Date.now();let d,f=1;try{for(;void 0===d;){if(Date.now()-h>this.publishTimeout)throw new Error(u);this.logger.trace({id:c,attempts:f},"publisher.publish - attempt ".concat(f)),d=await await WC(this.rpcPublish(e,t,n,s,o,a,c,null===r||void 0===r?void 0:r.attestation).catch((e=>this.logger.warn(e))),this.publishTimeout,u),f++,d||await new Promise((e=>setTimeout(e,this.failedPublishTimeout)))}this.relayer.events.emit(tz,l),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:c,topic:e,message:t,opts:r}})}catch(p){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(p),null!=(i=null===r||void 0===r?void 0:r.internal)&&i.throwOnFailedPublish)throw p;this.queue.set(c,l)}},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.relayer=e,this.logger=Ic(t,this.name),this.registerEventListeners()}get context(){return Mc(this.logger)}rpcPublish(e,t,r,i,n,s,o,a){var c,l,u,h;const d={method:gL(i.protocol).publish,params:{topic:e,message:t,ttl:r,prompt:n,tag:s,attestation:a},id:o};return TL(null==(c=d.params)?void 0:c.prompt)&&(null==(l=d.params)||delete l.prompt),TL(null==(u=d.params)?void 0:u.tag)&&(null==(h=d.params)||delete h.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:d}),this.relayer.request(d)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach((async e=>{const{topic:t,message:r,opts:i}=e;await this.publish(t,r,i)}))}registerEventListeners(){this.relayer.core.heartbeat.on(va,(()=>{if(this.needsTransportRestart)return this.needsTransportRestart=!1,void this.relayer.events.emit(ez);this.checkQueue()})),this.relayer.on(ZL,(e=>{this.removeRequestFromQueue(e.id.toString())}))}}class xD{constructor(){this.map=new Map,this.set=(e,t)=>{const r=this.get(e);this.exists(e,t)||this.map.set(e,[...r,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u")return void this.map.delete(e);if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,t))return;const i=r.filter((e=>e!==t));i.length?this.map.set(e,i):this.map.delete(e)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var AD=Object.defineProperty,PD=Object.defineProperties,kD=Object.getOwnPropertyDescriptors,OD=Object.getOwnPropertySymbols,ND=Object.prototype.hasOwnProperty,RD=Object.prototype.propertyIsEnumerable,TD=(e,t,r)=>t in e?AD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,CD=(e,t)=>{for(var r in t||(t={}))ND.call(t,r)&&TD(e,r,t[r]);if(OD)for(var r of OD(t))RD.call(t,r)&&TD(e,r,t[r]);return e},LD=(e,t)=>PD(e,kD(t));class zD extends aC{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new xD,this.events=new fa.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=FL,this.subscribeTimeout=(0,ga.toMiliseconds)(ga.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.pendingBatchMessages=[],this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId(),await this.restore()),this.initialized=!0},this.subscribe=async(e,t)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{const r=pL(t),i={topic:e,relay:r,transportType:null===t||void 0===t?void 0:t.transportType};this.pending.set(e,i);const n=await this.rpcSubscribe(e,r,t);return"string"==typeof n&&(this.onSubscribe(n,i),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}})),n}catch(r){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(r),r}},this.unsubscribe=async(e,t)=>{await this.restartToComplete(),this.isInitialized(),typeof(null===t||void 0===t?void 0:t.id)<"u"?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)},this.isSubscribed=async e=>{if(this.topics.includes(e))return!0;const t="".concat(this.pendingSubscriptionWatchLabel,"_").concat(e);return await new Promise(((r,i)=>{const n=new ga.Watch;n.start(t);const s=setInterval((()=>{!this.pending.has(e)&&this.topics.includes(e)&&(clearInterval(s),n.stop(t),r(!0)),n.elapsed(t)>=pz&&(clearInterval(s),n.stop(t),i(new Error("Subscription resolution timeout")))}),this.pollingInterval)})).catch((()=>!1))},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=Ic(t,this.name),this.clientId=""}get context(){return Mc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let r=!1;try{r=this.getSubscription(e).topic===t}catch(i){}return r}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const r=this.topicMap.get(e);await Promise.all(r.map((async r=>await this.unsubscribeById(e,r,t))))}async unsubscribeById(e,t,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}});try{const i=pL(r);await this.rpcUnsubscribe(e,t,i);const n=NL("USER_DISCONNECTED","".concat(this.name,", ").concat(e));await this.onUnsubscribe(e,t,n),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}})}catch(Sc){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(Sc),Sc}}async rpcSubscribe(e,t,r){var i;(null===r||void 0===r?void 0:r.transportType)===cz&&await this.restartToComplete();const n={method:gL(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});const s=null==(i=null===r||void 0===r?void 0:r.internal)?void 0:i.throwOnFailedPublish;try{const t=sL(e+this.clientId);if((null===r||void 0===r?void 0:r.transportType)===az)return setTimeout((()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(n).catch((e=>this.logger.warn(e)))}),(0,ga.toMiliseconds)(ga.ONE_SECOND)),t;const i=await WC(this.relayer.request(n).catch((e=>this.logger.warn(e))),this.subscribeTimeout,"Subscribing to ".concat(e," failed, please try again"));if(!i&&s)throw new Error("Subscribing to ".concat(e," failed, please try again"));return i?t:null}catch(kc){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(ez),s)throw kc}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t={method:gL(e[0].relay.protocol).batchSubscribe,params:{topics:e.map((e=>e.topic))}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{return await await WC(this.relayer.request(t).catch((e=>this.logger.warn(e))),this.subscribeTimeout)}catch(r){this.relayer.events.emit(ez)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t={method:gL(e[0].relay.protocol).batchFetchMessages,params:{topics:e.map((e=>e.topic))}};let r;this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{r=await await WC(this.relayer.request(t).catch((e=>this.logger.warn(e))),this.subscribeTimeout)}catch(i){this.relayer.events.emit(ez)}return r}rpcUnsubscribe(e,t,r){const i={method:gL(r.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,t){this.setSubscription(e,LD(CD({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach((e=>{this.setSubscription(e.id,CD({},e)),this.pending.delete(e.topic)}))}async onUnsubscribe(e,t,r){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,CD({},t)),this.topicMap.set(t.topic,e),this.events.emit(uz,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:t}=OL("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw new Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(hz,LD(CD({},r),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(dz)}async reset(){if(this.cached.length){const e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let t=0;t<e;t++){const e=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchFetchMessages(e),await this.batchSubscribe(e)}}this.events.emit(fz)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:e}=OL("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error("".concat(this.name,": ").concat(JSON.stringify(this.values))),new Error(e)}this.cached=e,this.logger.debug("Successfully Restored subscriptions for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug("Failed to Restore subscriptions for ".concat(this.name)),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;const t=await this.rpcBatchSubscribe(e);RL(t)&&this.onBatchSubscribe(t.map(((t,r)=>LD(CD({},e[r]),{id:t}))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace("Fetching batch messages for ".concat(e.length," subscriptions"));const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(this.pendingBatchMessages=this.pendingBatchMessages.concat(t.messages))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;const e=[];this.pending.forEach((t=>{e.push(t)})),await this.batchSubscribe(e),this.pendingBatchMessages.length&&(await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),this.pendingBatchMessages=[])}registerEventListeners(){this.relayer.core.heartbeat.on(va,(async()=>{await this.checkPending()})),this.events.on(uz,(async e=>{const t=uz;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})),this.events.on(hz,(async e=>{const t=hz;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}))}isInitialized(){if(!this.initialized){const{message:e}=OL("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){!this.relayer.connected&&!this.relayer.connecting&&await this.relayer.transportOpen(),this.restartInProgress&&await new Promise((e=>{const t=setInterval((()=>{this.restartInProgress||(clearInterval(t),e())}),this.pollingInterval)}))}}var UD=Object.defineProperty,DD=Object.getOwnPropertySymbols,qD=Object.prototype.hasOwnProperty,jD=Object.prototype.propertyIsEnumerable,BD=(e,t,r)=>t in e?UD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,FD=(e,t)=>{for(var r in t||(t={}))qD.call(t,r)&&BD(e,r,t[r]);if(DD)for(var r of DD(t))jD.call(t,r)&&BD(e,r,t[r]);return e};class KD extends sC{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new fa.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=(0,ga.toMiliseconds)(ga.THIRTY_SECONDS+ga.ONE_SECOND),this.request=async e=>{var t,r;this.logger.debug("Publishing Request Payload");const i=e.id||Dm().toString();await this.toEstablishConnection();try{const n=this.provider.request(e);this.requestsInFlight.set(i,{promise:n,request:e}),this.logger.trace({id:i,method:e.method,topic:null==(t=e.params)?void 0:t.topic},"relayer.request - attempt to publish...");const s=await new Promise((async(e,t)=>{const r=()=>{t(new Error("relayer.request - publish interrupted, id: ".concat(i)))};this.provider.on(nz,r);const s=await n;this.provider.off(nz,r),e(s)}));return this.logger.trace({id:i,method:e.method,topic:null==(r=e.params)?void 0:r.topic},"relayer.request - published"),s}catch(ma){throw this.logger.debug("Failed to Publish Request: ".concat(i)),ma}finally{this.requestsInFlight.delete(i)}},this.resetPingTimeout=()=>{if(DC())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout((()=>{var e,t,r;null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)||r.terminate()}),this.heartBeatTimeout)}catch(e){this.logger.warn(e)}},this.onPayloadHandler=e=>{this.onProviderPayload(e),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.trace("relayer connected"),this.startPingTimeout(),this.events.emit(XL)},this.onDisconnectHandler=()=>{this.logger.trace("relayer disconnected"),this.onProviderDisconnect()},this.onProviderErrorHandler=e=>{this.logger.error(e),this.events.emit(QL,e),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(rz,this.onPayloadHandler),this.provider.on(iz,this.onConnectHandler),this.provider.on(nz,this.onDisconnectHandler),this.provider.on(sz,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&"string"!=typeof e.logger?Ic(e.logger,this.name):sc()(_c({level:e.logger||"error"})),this.messages=new MD(this.logger,e.core),this.subscriber=new zD(this,this.logger),this.publisher=new ID(this,this.logger),this.relayUrl=(null===e||void 0===e?void 0:e.relayUrl)||JL,this.projectId=e.projectId,this.bundleId=function(){var e;try{return qC()&&typeof r.g<"u"&&typeof(null==r.g?void 0:r.g.Application)<"u"?null==(e=r.g.Application)?void 0:e.applicationId:void 0}catch(t){return}}(),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.cached.length>0)try{await this.transportOpen()}catch(e){this.logger.warn(e)}}get context(){return Mc(this.logger)}get connected(){var e,t,r;return 1===(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)}get connecting(){var e,t,r;return 0===(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)}async publish(e,t,r){this.isInitialized(),await this.publisher.publish(e,t,r),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:cz})}async subscribe(e,t){var r,i,n;this.isInitialized(),"relay"===(null===t||void 0===t?void 0:t.transportType)&&await this.toEstablishConnection();const s=typeof(null==(r=null===t||void 0===t?void 0:t.internal)?void 0:r.throwOnFailedPublish)>"u"||(null==(i=null===t||void 0===t?void 0:t.internal)?void 0:i.throwOnFailedPublish);let o,a=(null==(n=this.subscriber.topicMap.get(e))?void 0:n[0])||"";const c=t=>{t.topic===e&&(this.subscriber.off(uz,c),o())};return await Promise.all([new Promise((e=>{o=e,this.subscriber.on(uz,c)})),new Promise((async(r,i)=>{a=await this.subscriber.subscribe(e,FD({internal:{throwOnFailedPublish:s}},t)).catch((e=>{s&&i(e)}))||a,r()}))]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map((e=>e.promise)))}catch(e){this.logger.warn(e)}this.hasExperiencedNetworkDisruption||this.connected?await WC(this.provider.disconnect(),2e3,"provider.disconnect()").catch((()=>this.onProviderDisconnect())):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),await this.createProvider(),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise((async(e,t)=>{const r=()=>{this.provider.off(nz,r),t(new Error("Connection interrupted while trying to subscribe"))};this.provider.on(nz,r),await WC(this.provider.connect(),(0,ga.toMiliseconds)(ga.ONE_MINUTE),"Socket stalled when trying to connect to ".concat(this.relayUrl)).catch((e=>{t(e)})).finally((()=>{clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0})),this.subscriber.start().catch((e=>{this.logger.error(e),this.onDisconnectHandler()})),this.hasExperiencedNetworkDisruption=!1,e()}))}catch(t){this.logger.error(t);const e=t;if(this.hasExperiencedNetworkDisruption=!0,!this.isConnectionStalled(e.message))throw t}finally{this.connectionAttemptInProgress=!1}}async restartTransport(e){this.connectionAttemptInProgress||(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await zL())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(0===(null===e||void 0===e?void 0:e.length))return void this.logger.trace("Batch message events is empty. Ignoring...");const t=e.sort(((e,t)=>e.publishedAt-t.publishedAt));this.logger.trace("Batch of ".concat(t.length," message events sorted"));for(const r of t)try{await this.onMessageEvent(r)}catch(Sc){this.logger.warn(Sc)}this.logger.trace("Batch of ".concat(t.length," message events processed"))}async onLinkMessageEvent(e,t){const{topic:r}=e;if(!t.sessionExists){const e={topic:r,expiry:JC(ga.FIVE_MINUTES),relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,e)}this.events.emit(YL,e),await this.recordMessageEvent(e)}startPingTimeout(){var e,t,r,i,n;if(DC())try{null!=(t=null==(e=this.provider)?void 0:e.connection)&&t.socket&&(null==(n=null==(i=null==(r=this.provider)?void 0:r.connection)?void 0:i.socket)||n.once("ping",(()=>{this.resetPingTimeout()}))),this.resetPingTimeout()}catch(ma){this.logger.warn(ma)}}isConnectionStalled(e){return this.staleConnectionErrors.some((t=>e.includes(t)))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new ey(new jL(KC({sdkVersion:oz,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:t,message:r}=e;await this.messages.set(t,r)}async shouldIgnoreMessageEvent(e){const{topic:t,message:r}=e;if(!r||0===r.length)return this.logger.debug("Ignoring invalid/empty message: ".concat(r)),!0;if(!await this.subscriber.isSubscribed(t))return this.logger.debug("Ignoring message for non-subscribed topic ".concat(t)),!0;const i=this.messages.has(t,r);return i&&this.logger.debug("Ignoring duplicate message: ".concat(r)),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),Zm(e)){if(!e.method.endsWith("_subscription"))return;const t=e.params,{topic:r,message:i,publishedAt:n,attestation:s}=t.data,o={topic:r,message:i,publishedAt:n,transportType:cz,attestation:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(FD({type:"event",event:t.id},o)),this.events.emit(t.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else Xm(e)&&this.events.emit(ZL,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(YL,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const t=jm(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(rz,this.onPayloadHandler),this.provider.off(iz,this.onConnectHandler),this.provider.off(nz,this.onDisconnectHandler),this.provider.off(sz,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await zL();UL((async t=>{e!==t&&(e=t,t?await this.restartTransport().catch((e=>this.logger.error(e))):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}))}async onProviderDisconnect(){await this.subscriber.stop(),this.requestsInFlight.clear(),clearTimeout(this.pingTimeout),this.events.emit($L),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&(this.reconnectTimeout||(this.reconnectTimeout=setTimeout((async()=>{await this.transportOpen().catch((e=>this.logger.error(e)))}),(0,ga.toMiliseconds)(.1))))}isInitialized(){if(!this.initialized){const{message:e}=OL("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&(this.connectionAttemptInProgress&&await new Promise((e=>{const t=setInterval((()=>{this.connected&&(clearInterval(t),e())}),this.connectionStatusPollingInterval)})),await this.transportOpen())}}var VD=Object.defineProperty,HD=Object.getOwnPropertySymbols,WD=Object.prototype.hasOwnProperty,GD=Object.prototype.propertyIsEnumerable,JD=(e,t,r)=>t in e?VD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,YD=(e,t)=>{for(var r in t||(t={}))WD.call(t,r)&&JD(e,r,t[r]);if(HD)for(var r of HD(t))GD.call(t,r)&&JD(e,r,t[r]);return e};class ZD extends oC{constructor(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:FL,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;super(e,t,r,i),this.core=e,this.logger=t,this.name=r,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=FL,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((e=>{this.getKey&&null!==e&&!TL(e)?this.map.set(this.getKey(e),e):function(e){var t;return null==(t=null===e||void 0===e?void 0:e.proposer)?void 0:t.publicKey}(e)?this.map.set(e.id,e):function(e){return null===e||void 0===e?void 0:e.topic}(e)&&this.map.set(e.topic,e)})),this.cached=[],this.initialized=!0)},this.set=async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())},this.get=e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e)),this.getAll=e=>(this.isInitialized(),e?this.values.filter((t=>Object.keys(e).every((r=>sy()(t[r],e[r]))))):this.values),this.update=async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});const r=YD(YD({},this.getData(e)),t);this.map.set(e,r),await this.persist()},this.delete=async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),this.addToRecentlyDeleted(e),await this.persist())},this.logger=Ic(t,this.name),this.storagePrefix=i,this.getKey=n}get context(){return Mc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:t}=OL("MISSING_OR_INVALID","Record was recently deleted - ".concat(this.name,": ").concat(e));throw this.logger.error(t),new Error(t)}const{message:t}=OL("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw this.logger.error(t),new Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:e}=OL("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug("Successfully Restored value for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug("Failed to Restore value for ".concat(this.name)),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=OL("NOT_INITIALIZED",this.name);throw new Error(e)}}}class XD{constructor(e,t){this.core=e,this.logger=t,this.name="pairing",this.version="0.3",this.events=new(pa()),this.initialized=!1,this.storagePrefix=FL,this.ignoredPayloadTypes=[1],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=e=>{let{methods:t}=e;this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...t])]},this.create=async e=>{this.isInitialized();const t=nL(),r=await this.core.crypto.setSymKey(t),i=JC(ga.FIVE_MINUTES),n={protocol:"irn"},s={topic:r,expiry:i,relay:n,active:!1,methods:null===e||void 0===e?void 0:e.methods},o=AL({protocol:this.core.protocol,version:this.core.version,topic:r,symKey:t,relay:n,expiryTimestamp:i,methods:null===e||void 0===e?void 0:e.methods});return this.events.emit(bz,s),this.core.expirer.set(r,i),await this.pairings.set(r,s),await this.core.relayer.subscribe(r,{transportType:null===e||void 0===e?void 0:e.transportType}),{topic:r,uri:o}},this.pair=async e=>{this.isInitialized();const t=this.core.eventClient.createEvent({properties:{topic:null===e||void 0===e?void 0:e.uri,trace:[Rz]}});this.isValidPair(e,t);const{topic:r,symKey:i,relay:n,expiryTimestamp:s,methods:o}=IL(e.uri);let a;if(t.props.properties.topic=r,t.addTrace(Tz),t.addTrace(Cz),this.pairings.keys.includes(r)){if(a=this.pairings.get(r),t.addTrace(Dz),a.active)throw t.setError(Kz),new Error("Pairing already exists: ".concat(r,". Please try again with a new connection URI."));t.addTrace(qz)}const c=s||JC(ga.FIVE_MINUTES),l={topic:r,relay:n,expiry:c,active:!1,methods:o};this.core.expirer.set(r,c),await this.pairings.set(r,l),t.addTrace(Lz),e.activatePairing&&await this.activate({topic:r}),this.events.emit(bz,l),t.addTrace(jz),this.core.crypto.keychain.has(r)||await this.core.crypto.setSymKey(i,r),t.addTrace(zz);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch(u){t.setError(Bz)}try{await this.core.relayer.subscribe(r,{relay:n})}catch(dc){throw t.setError(Vz),dc}return t.addTrace(Uz),l},this.activate=async e=>{let{topic:t}=e;this.isInitialized();const r=JC(ga.THIRTY_DAYS);this.core.expirer.set(t,r),await this.pairings.update(t,{active:!0,expiry:r})},this.ping=async e=>{this.isInitialized(),await this.isValidPing(e);const{topic:t}=e;if(this.pairings.keys.includes(t)){const e=await this.sendRequest(t,"wc_pairingPing",{}),{done:r,resolve:i,reject:n}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ga.FIVE_MINUTES,t=arguments.length>1?arguments[1]:void 0;const r=(0,ga.toMiliseconds)(e||ga.FIVE_MINUTES);let i,n,s;return{resolve:e=>{s&&i&&(clearTimeout(s),i(e))},reject:e=>{s&&n&&(clearTimeout(s),n(e))},done:()=>new Promise(((e,o)=>{s=setTimeout((()=>{o(new Error(t))}),r),i=e,n=o}))}}();this.events.once(ZC("pairing_ping",e),(e=>{let{error:t}=e;t?n(t):i()})),await r()}},this.updateExpiry=async e=>{let{topic:t,expiry:r}=e;this.isInitialized(),await this.pairings.update(t,{expiry:r})},this.updateMetadata=async e=>{let{topic:t,metadata:r}=e;this.isInitialized(),await this.pairings.update(t,{peerMetadata:r})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async e=>{this.isInitialized(),await this.isValidDisconnect(e);const{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",NL("USER_DISCONNECTED")),await this.deletePairing(t))},this.formatUriFromPairing=e=>{this.isInitialized();const{topic:t,relay:r,expiry:i,methods:n}=e,s=this.core.crypto.keychain.get(t);return AL({protocol:this.core.protocol,version:this.core.version,topic:t,symKey:s,relay:r,expiryTimestamp:i,methods:n})},this.sendRequest=async(e,t,r)=>{const i=qm(t,r),n=await this.core.crypto.encode(e,i),s=gz[t].req;return this.core.history.set(e,i),this.core.relayer.publish(e,n,s),i.id},this.sendResult=async(e,t,r)=>{const i=jm(e,r),n=await this.core.crypto.encode(t,i),s=await this.core.history.get(t,e),o=gz[s.request.method].res;await this.core.relayer.publish(t,n,o),await this.core.history.resolve(i)},this.sendError=async(e,t,r)=>{const i=Bm(e,r),n=await this.core.crypto.encode(t,i),s=await this.core.history.get(t,e),o=gz[s.request.method]?gz[s.request.method].res:gz.unregistered_method.res;await this.core.relayer.publish(t,n,o),await this.core.history.resolve(i)},this.deletePairing=async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,NL("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])},this.cleanup=async()=>{const e=this.pairings.getAll().filter((e=>YC(e.expiry)));await Promise.all(e.map((e=>this.deletePairing(e.topic))))},this.onRelayEventRequest=e=>{const{topic:t,payload:r}=e;switch(r.method){case"wc_pairingPing":return this.onPairingPingRequest(t,r);case"wc_pairingDelete":return this.onPairingDeleteRequest(t,r);default:return this.onUnknownRpcMethodRequest(t,r)}},this.onRelayEventResponse=async e=>{const{topic:t,payload:r}=e,i=(await this.core.history.get(t,r.id)).request.method;return"wc_pairingPing"===i?this.onPairingPingResponse(t,r):this.onUnknownRpcMethodResponse(i)},this.onPairingPingRequest=async(e,t)=>{const{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult(r,e,!0),this.events.emit(vz,{id:r,topic:e})}catch(ma){await this.sendError(r,e,ma),this.logger.error(ma)}},this.onPairingPingResponse=(e,t)=>{const{id:r}=t;setTimeout((()=>{$m(t)?this.events.emit(ZC("pairing_ping",r),{}):Qm(t)&&this.events.emit(ZC("pairing_ping",r),{error:t.error})}),500)},this.onPairingDeleteRequest=async(e,t)=>{const{id:r}=t;try{this.isValidDisconnect({topic:e}),await this.deletePairing(e),this.events.emit(yz,{id:r,topic:e})}catch(ma){await this.sendError(r,e,ma),this.logger.error(ma)}},this.onUnknownRpcMethodRequest=async(e,t)=>{const{id:r,method:i}=t;try{if(this.registeredMethods.includes(i))return;const t=NL("WC_METHOD_UNSUPPORTED",i);await this.sendError(r,e,t),this.logger.error(t)}catch(kc){await this.sendError(r,e,kc),this.logger.error(kc)}},this.onUnknownRpcMethodResponse=e=>{this.registeredMethods.includes(e)||this.logger.error(NL("WC_METHOD_UNSUPPORTED",e))},this.isValidPair=(e,t)=>{var r;if(!LL(e)){const{message:r}=OL("MISSING_OR_INVALID","pair() params: ".concat(e));throw t.setError(Fz),new Error(r)}if(!function(e){function t(e){try{return typeof new URL(e)<"u"}catch(t){return!1}}try{if(CL(e,!1))return!!t(e)||t(QC(e))}catch(r){}return!1}(e.uri)){const{message:r}=OL("MISSING_OR_INVALID","pair() uri: ".concat(e.uri));throw t.setError(Fz),new Error(r)}const i=IL(null===e||void 0===e?void 0:e.uri);if(null==(r=null===i||void 0===i?void 0:i.relay)||!r.protocol){const{message:e}=OL("MISSING_OR_INVALID","pair() uri#relay-protocol");throw t.setError(Fz),new Error(e)}if(null==i||!i.symKey){const{message:e}=OL("MISSING_OR_INVALID","pair() uri#symKey");throw t.setError(Fz),new Error(e)}if(null!=i&&i.expiryTimestamp&&(0,ga.toMiliseconds)(null===i||void 0===i?void 0:i.expiryTimestamp)<Date.now()){t.setError(Hz);const{message:e}=OL("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(e)}},this.isValidPing=async e=>{if(!LL(e)){const{message:t}=OL("MISSING_OR_INVALID","ping() params: ".concat(e));throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)},this.isValidDisconnect=async e=>{if(!LL(e)){const{message:t}=OL("MISSING_OR_INVALID","disconnect() params: ".concat(e));throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)},this.isValidPairingTopic=async e=>{if(!CL(e,!1)){const{message:t}=OL("MISSING_OR_INVALID","pairing topic should be a string: ".concat(e));throw new Error(t)}if(!this.pairings.keys.includes(e)){const{message:t}=OL("NO_MATCHING_KEY","pairing topic doesn't exist: ".concat(e));throw new Error(t)}if(YC(this.pairings.get(e).expiry)){await this.deletePairing(e);const{message:t}=OL("EXPIRED","pairing topic: ".concat(e));throw new Error(t)}},this.core=e,this.logger=Ic(t,this.name),this.pairings=new ZD(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Mc(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=OL("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(YL,(async e=>{const{topic:t,message:r,transportType:i}=e;if(!this.pairings.keys.includes(t)||i===az||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))return;const n=await this.core.crypto.decode(t,r);try{Zm(n)?(this.core.history.set(t,n),this.onRelayEventRequest({topic:t,payload:n})):Xm(n)&&(await this.core.history.resolve(n),await this.onRelayEventResponse({topic:t,payload:n}),this.core.history.delete(t,n.id))}catch(ma){this.logger.error(ma)}}))}registerExpirerEvents(){this.core.expirer.on(xz,(async e=>{const{topic:t}=function(e){const[t,r]=e.split(":"),i={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof r)i.topic=r;else{if("id"!==t||!Number.isInteger(Number(r)))throw new Error("Invalid target, expected id:number or topic:string, got ".concat(t,":").concat(r));i.id=Number(r)}return i}(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(mz,{topic:t}))}))}}class $D extends rC{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new fa.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=FL,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((e=>this.records.set(e.id,e))),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(e,t,r)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:r}),this.records.has(t.id))return;const i={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:r,expiry:JC(ga.THIRTY_DAYS)};this.records.set(i.id,i),this.persist(),this.events.emit(wz,i)},this.resolve=async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;const t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=Qm(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.persist(),this.events.emit(Sz,t))},this.get=async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t)),this.delete=(e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach((r=>{if(r.topic===e){if(typeof t<"u"&&r.id!==t)return;this.records.delete(r.id),this.events.emit(Ez,r)}})),this.persist()},this.exists=async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e),this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.logger=Ic(t,this.name)}get context(){return Mc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach((t=>{if(typeof t.response<"u")return;const r={topic:t.topic,request:qm(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(r)})),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:t}=OL("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw new Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(_z)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:e}=OL("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug("Successfully Restored records for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug("Failed to Restore records for ".concat(this.name)),this.logger.error(e)}}registerEventListeners(){this.events.on(wz,(e=>{const t=wz;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,record:e})})),this.events.on(Sz,(e=>{const t=Sz;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,record:e})})),this.events.on(Ez,(e=>{const t=Ez;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,record:e})})),this.core.heartbeat.on(va,(()=>{this.cleanup()}))}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach((t=>{(0,ga.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info("Deleting expired history log: ".concat(t.id)),this.records.delete(t.id),this.events.emit(Ez,t,!1),e=!0)})),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=OL("NOT_INITIALIZED",this.name);throw new Error(e)}}}class QD extends cC{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new fa.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=FL,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((e=>this.expirations.set(e.target,e))),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=e=>{try{const t=this.formatTarget(e);return typeof this.getExpiration(t)<"u"}catch(t){return!1}},this.set=(e,t)=>{this.isInitialized();const r=this.formatTarget(e),i={target:r,expiry:t};this.expirations.set(r,i),this.checkExpiry(r,i),this.events.emit(Mz,{target:r,expiration:i})},this.get=e=>{this.isInitialized();const t=this.formatTarget(e);return this.getExpiration(t)},this.del=e=>{if(this.isInitialized(),this.has(e)){const t=this.formatTarget(e),r=this.getExpiration(t);this.expirations.delete(t),this.events.emit(Iz,{target:t,expiration:r})}},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.logger=Ic(t,this.name)}get context(){return Mc(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return function(e){return GC("topic",e)}(e);if("number"==typeof e)return function(e){return GC("id",e)}(e);const{message:t}=OL("UNKNOWN_TYPE","Target type: ".concat(typeof e));throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Az)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:e}=OL("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug("Successfully Restored expirations for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug("Failed to Restore expirations for ".concat(this.name)),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:t}=OL("NO_MATCHING_KEY","".concat(this.name,": ").concat(e));throw this.logger.warn(t),new Error(t)}return t}checkExpiry(e,t){const{expiry:r}=t;(0,ga.toMiliseconds)(r)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(xz,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach(((e,t)=>this.checkExpiry(t,e)))}registerEventListeners(){this.core.heartbeat.on(va,(()=>this.checkExpirations())),this.events.on(Mz,(e=>{const t=Mz;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),this.persist()})),this.events.on(xz,(e=>{const t=xz;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),this.persist()})),this.events.on(Iz,(e=>{const t=Iz;this.logger.info("Emitting ".concat(t)),this.logger.debug({type:"event",event:t,data:e}),this.persist()}))}isInitialized(){if(!this.initialized){const{message:e}=OL("NOT_INITIALIZED",this.name);throw new Error(e)}}}class eq extends lC{constructor(e,t,r){super(e,t,r),this.core=e,this.logger=t,this.store=r,this.name="verify-api",this.verifyUrlV3=Oz,this.storagePrefix=FL,this.version=2,this.init=async()=>{var e;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,ga.toMiliseconds)(null==(e=this.publicKey)?void 0:e.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))},this.register=async e=>{if(!jC()||this.isDevEnv)return;const t=window.location.origin,{id:r,decryptedId:i}=e,n="".concat(this.verifyUrlV3,"/attestation?projectId=").concat(this.core.projectId,"&origin=").concat(t,"&id=").concat(r,"&decryptedId=").concat(i);try{const e=(0,Md.getDocument)(),t=this.startAbortTimer(5*ga.ONE_SECOND),i=await new Promise(((i,s)=>{const o=()=>{window.removeEventListener("message",c),e.body.removeChild(a),s("attestation aborted")};this.abortController.signal.addEventListener("abort",o);const a=e.createElement("iframe");a.src=n,a.style.display="none",a.addEventListener("error",o,{signal:this.abortController.signal});const c=n=>{if(n.data&&"string"==typeof n.data)try{const s=JSON.parse(n.data);if("verify_attestation"===s.type){if(_C(s.attestation).payload.id!==r)return;clearInterval(t),e.body.removeChild(a),this.abortController.signal.removeEventListener("abort",o),window.removeEventListener("message",c),i(null===s.attestation?"":s.attestation)}}catch(s){this.logger.warn(s)}};e.body.appendChild(a),window.addEventListener("message",c,{signal:this.abortController.signal})}));return this.logger.debug("jwt attestation",i),i}catch(Qa){this.logger.warn(Qa)}return""},this.resolve=async e=>{if(this.isDevEnv)return"";const{attestationId:t,hash:r,encryptedId:i}=e;if(""===t)return void this.logger.debug("resolve: attestationId is empty, skipping");if(t){if(_C(t).payload.id!==i)return;const e=await this.isValidJwtAttestation(t);if(e)return e.isVerified?e:void this.logger.warn("resolve: jwt attestation: origin url not verified")}if(!r)return;const n=this.getVerifyUrl(null===e||void 0===e?void 0:e.verifyUrl);return this.fetchAttestation(r,n)},this.fetchAttestation=async(e,t)=>{this.logger.debug("resolving attestation: ".concat(e," from url: ").concat(t));const r=this.startAbortTimer(5*ga.ONE_SECOND),i=await fetch("".concat(t,"/attestation/").concat(e,"?v2Supported=true"),{signal:this.abortController.signal});return clearTimeout(r),200===i.status?await i.json():void 0},this.getVerifyUrl=e=>{let t=e||kz;return Nz.includes(t)||(this.logger.info("verify url: ".concat(t,", not included in trusted list, assigning default: ").concat(kz)),t=kz),t},this.fetchPublicKey=async()=>{try{this.logger.debug("fetching public key from: ".concat(this.verifyUrlV3));const e=this.startAbortTimer(ga.FIVE_SECONDS),t=await fetch("".concat(this.verifyUrlV3,"/public-key"),{signal:this.abortController.signal});return clearTimeout(e),await t.json()}catch(Sc){this.logger.warn(Sc)}},this.persistPublicKey=async e=>{this.logger.debug("persisting public key to local storage",e),await this.store.setItem(this.storeKey,e),this.publicKey=e},this.removePublicKey=async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0},this.isValidJwtAttestation=async e=>{const t=await this.getPublicKey();try{if(t)return this.validateAttestation(e,t)}catch(kc){this.logger.error(kc),this.logger.warn("error validating attestation")}const r=await this.fetchAndPersistPublicKey();try{if(r)return this.validateAttestation(e,r)}catch(kc){this.logger.error(kc),this.logger.warn("error validating attestation")}},this.getPublicKey=async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey(),this.fetchAndPersistPublicKey=async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise((async e=>{const t=await this.fetchPublicKey();t&&(await this.persistPublicKey(t),e(t))}));const e=await this.fetchPromise;return this.fetchPromise=void 0,e},this.validateAttestation=(e,t)=>{const r=fL(e,t.publicKey),i={hasExpired:(0,ga.toMiliseconds)(r.exp)<Date.now(),payload:r};if(i.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:i.payload.origin,isScam:i.payload.isScam,isVerified:i.payload.isVerified}},this.logger=Ic(t,this.name),this.abortController=new AbortController,this.isDevEnv=$C(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Mc(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout((()=>this.abortController.abort()),(0,ga.toMiliseconds)(e))}}class tq extends uC{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.context="echo",this.registerDeviceToken=async e=>{const{clientId:t,token:r,notificationType:i,enableEncrypted:n=!1}=e,s="".concat("https://echo.walletconnect.com","/").concat(this.projectId,"/clients");await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,type:i,token:r,always_raw:n})})},this.logger=Ic(t,this.context)}}var rq=Object.defineProperty,iq=Object.getOwnPropertySymbols,nq=Object.prototype.hasOwnProperty,sq=Object.prototype.propertyIsEnumerable,oq=(e,t,r)=>t in e?rq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,aq=(e,t)=>{for(var r in t||(t={}))nq.call(t,r)&&oq(e,r,t[r]);if(iq)for(var r of iq(t))sq.call(t,r)&&oq(e,r,t[r]);return e};class cq extends hC{constructor(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,t,r),this.core=e,this.logger=t,this.context="event-client",this.storagePrefix=FL,this.storageVersion=.1,this.events=new Map,this.shouldPersist=!1,this.init=async()=>{if(!$C())try{const e={eventId:XC(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:FC(this.core.relayer.protocol,this.core.relayer.version,oz)}}};await this.sendEvent([e])}catch(Sc){this.logger.warn(Sc)}},this.createEvent=e=>{const{event:t="ERROR",type:r="",properties:{topic:i,trace:n}}=e,s=XC(),o=this.core.projectId||"",a=Date.now(),c=aq({eventId:s,timestamp:a,props:{event:t,type:r,properties:{topic:i,trace:n}},bundleId:o,domain:this.getAppDomain()},this.setMethods(s));return this.telemetryEnabled&&(this.events.set(s,c),this.shouldPersist=!0),c},this.getEvent=e=>{const{eventId:t,topic:r}=e;if(t)return this.events.get(t);const i=Array.from(this.events.values()).find((e=>e.props.properties.topic===r));return i?aq(aq({},i),this.setMethods(i.eventId)):void 0},this.deleteEvent=e=>{const{eventId:t}=e;this.events.delete(t),this.shouldPersist=!0},this.setEventListeners=()=>{this.core.heartbeat.on(va,(async()=>{this.shouldPersist&&await this.persist(),this.events.forEach((e=>{(0,ga.fromMiliseconds)(Date.now())-(0,ga.fromMiliseconds)(e.timestamp)>86400&&(this.events.delete(e.eventId),this.shouldPersist=!0)}))}))},this.setMethods=e=>({addTrace:t=>this.addTrace(e,t),setError:t=>this.setError(e,t)}),this.addTrace=(e,t)=>{const r=this.events.get(e);r&&(r.props.properties.trace.push(t),this.events.set(e,r),this.shouldPersist=!0)},this.setError=(e,t)=>{const r=this.events.get(e);r&&(r.props.type=t,r.timestamp=Date.now(),this.events.set(e,r),this.shouldPersist=!0)},this.persist=async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1},this.restore=async()=>{try{const e=await this.core.storage.getItem(this.storageKey)||[];if(!e.length)return;e.forEach((e=>{this.events.set(e.eventId,aq(aq({},e),this.setMethods(e.eventId)))}))}catch(Sc){this.logger.warn(Sc)}},this.submit=async()=>{if(!this.telemetryEnabled||0===this.events.size)return;const e=[];for(const[r,i]of this.events)i.props.type&&e.push(i);if(0!==e.length)try{if((await this.sendEvent(e)).ok)for(const t of e)this.events.delete(t.eventId),this.shouldPersist=!0}catch(t){this.logger.warn(t)}},this.sendEvent=async e=>{const t=this.getAppDomain()?"":"&sp=desktop";return await fetch("".concat("https://pulse.walletconnect.org/batch","?projectId=").concat(this.core.projectId,"&st=events_sdk&sv=js-").concat(oz).concat(t),{method:"POST",body:JSON.stringify(e)})},this.getAppDomain=()=>((0,Id.g)()||{name:"",description:"",url:"",icons:[""]}).url,this.logger=Ic(t,this.context),this.telemetryEnabled=r,r?this.restore().then((async()=>{await this.submit(),this.setEventListeners()})):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var lq=Object.defineProperty,uq=Object.getOwnPropertySymbols,hq=Object.prototype.hasOwnProperty,dq=Object.prototype.propertyIsEnumerable,fq=(e,t,r)=>t in e?lq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,pq=(e,t)=>{for(var r in t||(t={}))hq.call(t,r)&&fq(e,r,t[r]);if(uq)for(var r of uq(t))dq.call(t,r)&&fq(e,r,t[r]);return e};class gq extends tC{constructor(e){var t;super(e),this.protocol="wc",this.version=2,this.name=BL,this.events=new fa.EventEmitter,this.initialized=!1,this.on=(e,t)=>this.events.on(e,t),this.once=(e,t)=>this.events.once(e,t),this.off=(e,t)=>this.events.off(e,t),this.removeListener=(e,t)=>this.events.removeListener(e,t),this.dispatchEnvelope=e=>{let{topic:t,message:r,sessionExists:i}=e;if(!t||!r)return;const n={topic:t,message:r,publishedAt:Date.now(),transportType:az};this.relayer.onLinkMessageEvent(n,{sessionExists:i})},this.projectId=null===e||void 0===e?void 0:e.projectId,this.relayUrl=(null===e||void 0===e?void 0:e.relayUrl)||JL,this.customStoragePrefix=null!=e&&e.customStoragePrefix?":".concat(e.customStoragePrefix):"";const r=_c({level:"string"==typeof(null===e||void 0===e?void 0:e.logger)&&e.logger?e.logger:KL}),{logger:i,chunkLoggerController:n}=xc({opts:r,maxSizeInBytes:null===e||void 0===e?void 0:e.maxLogBlobSizeInBytes,loggerOverride:null===e||void 0===e?void 0:e.logger});this.logChunkController=n,null!=(t=this.logChunkController)&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var e,t;null!=(e=this.logChunkController)&&e.downloadLogsBlobInBrowser&&(null==(t=this.logChunkController)||t.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Ic(i,this.name),this.heartbeat=new wa,this.crypto=new _D(this,this.logger,null===e||void 0===e?void 0:e.keychain),this.history=new $D(this,this.logger),this.expirer=new QD(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new eC(pq(pq({},VL),null===e||void 0===e?void 0:e.storageOptions)),this.relayer=new KD({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new XD(this,this.logger),this.verify=new eq(this,this.logger,this.storage),this.echoClient=new tq(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new cq(this,this.logger,null===e||void 0===e?void 0:e.telemetryEnabled)}static async init(e){const t=new gq(e);await t.initialize();const r=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",r),t}get context(){return Mc(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return null==(e=this.logChunkController)?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(lz,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.eventClient.init(),this.linkModeSupportedApps=await this.storage.getItem(lz)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn("Core Initialization Failure at epoch ".concat(Date.now()),e),this.logger.error(e.message),e}}}const bq=gq;var mq,yq={exports:{}},vq="object"==typeof Reflect?Reflect:null,wq=vq&&"function"==typeof vq.apply?vq.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};mq=vq&&"function"==typeof vq.ownKeys?vq.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var Sq=Number.isNaN||function(e){return e!==e};function Eq(){Eq.init.call(this)}yq.exports=Eq,yq.exports.once=function(e,t){return new Promise((function(r,i){function n(r){e.removeListener(t,s),i(r)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",n),r([].slice.call(arguments))}Rq(e,t,s,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&Rq(e,"error",t,r)}(e,n,{once:!0})}))},Eq.EventEmitter=Eq,Eq.prototype._events=void 0,Eq.prototype._eventsCount=0,Eq.prototype._maxListeners=void 0;var _q=10;function Mq(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function Iq(e){return void 0===e._maxListeners?Eq.defaultMaxListeners:e._maxListeners}function xq(e,t,r,i){var n,s,o;if(Mq(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),void 0===o)o=s[t]=r,++e._eventsCount;else if("function"==typeof o?o=s[t]=i?[r,o]:[o,r]:i?o.unshift(r):o.push(r),(n=Iq(e))>0&&o.length>n&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,function(e){console&&console.warn&&console.warn(e)}(a)}return e}function Aq(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Pq(e,t,r){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},n=Aq.bind(i);return n.listener=r,i.wrapFn=n,n}function kq(e,t,r){var i=e._events;if(void 0===i)return[];var n=i[t];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(n):Nq(n,n.length)}function Oq(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function Nq(e,t){for(var r=new Array(t),i=0;i<t;++i)r[i]=e[i];return r}function Rq(e,t,r,i){if("function"==typeof e.on)i.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function n(s){i.once&&e.removeEventListener(t,n),r(s)}))}}Object.defineProperty(Eq,"defaultMaxListeners",{enumerable:!0,get:function(){return _q},set:function(e){if("number"!=typeof e||e<0||Sq(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");_q=e}}),Eq.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Eq.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||Sq(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},Eq.prototype.getMaxListeners=function(){return Iq(this)},Eq.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,n=this._events;if(void 0!==n)i=i&&void 0===n.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=n[e];if(void 0===a)return!1;if("function"==typeof a)wq(a,this,t);else{var c=a.length,l=Nq(a,c);for(r=0;r<c;++r)wq(l[r],this,t)}return!0},Eq.prototype.addListener=function(e,t){return xq(this,e,t,!1)},Eq.prototype.on=Eq.prototype.addListener,Eq.prototype.prependListener=function(e,t){return xq(this,e,t,!0)},Eq.prototype.once=function(e,t){return Mq(t),this.on(e,Pq(this,e,t)),this},Eq.prototype.prependOnceListener=function(e,t){return Mq(t),this.prependListener(e,Pq(this,e,t)),this},Eq.prototype.removeListener=function(e,t){var r,i,n,s,o;if(Mq(t),void 0===(i=this._events))return this;if(void 0===(r=i[e]))return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(n=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){o=r[s].listener,n=s;break}if(n<0)return this;0===n?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,n),1===r.length&&(i[e]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",e,o||t)}return this},Eq.prototype.off=Eq.prototype.removeListener,Eq.prototype.removeAllListeners=function(e){var t,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var n,s=Object.keys(r);for(i=0;i<s.length;++i)"removeListener"!==(n=s[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},Eq.prototype.listeners=function(e){return kq(this,e,!0)},Eq.prototype.rawListeners=function(e){return kq(this,e,!1)},Eq.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):Oq.call(e,t)},Eq.prototype.listenerCount=Oq,Eq.prototype.eventNames=function(){return this._eventsCount>0?mq(this._events):[]};const Tq="Web3Wallet";"".concat("wc","@2:").concat(Tq,":");yq.exports;class Cq{constructor(e){this.opts=e}}class Lq{constructor(e){this.client=e}}var zq=Object.defineProperty,Uq=Object.defineProperties,Dq=Object.getOwnPropertyDescriptors,qq=Object.getOwnPropertySymbols,jq=Object.prototype.hasOwnProperty,Bq=Object.prototype.propertyIsEnumerable,Fq=(e,t,r)=>t in e?zq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class Kq extends Lq{constructor(e){super(e),this.init=async()=>{this.signClient=await CT.init({core:this.client.core,metadata:this.client.metadata,signConfig:this.client.signConfig}),this.authClient=await RI.init({core:this.client.core,projectId:"",metadata:this.client.metadata})},this.pair=async e=>{await this.client.core.pairing.pair(e)},this.approveSession=async e=>{const{topic:t,acknowledged:r}=await this.signClient.approve(((e,t)=>Uq(e,Dq(t)))(((e,t)=>{for(var r in t||(t={}))jq.call(t,r)&&Fq(e,r,t[r]);if(qq)for(var r of qq(t))Bq.call(t,r)&&Fq(e,r,t[r]);return e})({},e),{id:e.id,namespaces:e.namespaces,sessionProperties:e.sessionProperties,sessionConfig:e.sessionConfig}));return await r(),this.signClient.session.get(t)},this.rejectSession=async e=>await this.signClient.reject(e),this.updateSession=async e=>await this.signClient.update(e),this.extendSession=async e=>await this.signClient.extend(e),this.respondSessionRequest=async e=>await this.signClient.respond(e),this.disconnectSession=async e=>await this.signClient.disconnect(e),this.emitSessionEvent=async e=>await this.signClient.emit(e),this.getActiveSessions=()=>this.signClient.session.getAll().reduce(((e,t)=>(e[t.topic]=t,e)),{}),this.getPendingSessionProposals=()=>this.signClient.proposal.getAll(),this.getPendingSessionRequests=()=>this.signClient.getPendingSessionRequests(),this.respondAuthRequest=async(e,t)=>await this.authClient.respond(e,t),this.getPendingAuthRequests=()=>this.authClient.requests.getAll().filter((e=>"requester"in e)),this.formatMessage=(e,t)=>this.authClient.formatMessage(e,t),this.approveSessionAuthenticate=async e=>await this.signClient.approveSessionAuthenticate(e),this.rejectSessionAuthenticate=async e=>await this.signClient.rejectSessionAuthenticate(e),this.formatAuthMessage=e=>this.signClient.formatAuthMessage(e),this.registerDeviceToken=e=>this.client.core.echoClient.registerDeviceToken(e),this.on=(e,t)=>(this.setEvent(e,"off"),this.setEvent(e,"on"),this.client.events.on(e,t)),this.once=(e,t)=>(this.setEvent(e,"off"),this.setEvent(e,"once"),this.client.events.once(e,t)),this.off=(e,t)=>(this.setEvent(e,"off"),this.client.events.off(e,t)),this.removeListener=(e,t)=>(this.setEvent(e,"removeListener"),this.client.events.removeListener(e,t)),this.onSessionRequest=e=>{this.client.events.emit("session_request",e)},this.onSessionProposal=e=>{this.client.events.emit("session_proposal",e)},this.onSessionDelete=e=>{this.client.events.emit("session_delete",e)},this.onAuthRequest=e=>{this.client.events.emit("auth_request",e)},this.onProposalExpire=e=>{this.client.events.emit("proposal_expire",e)},this.onSessionRequestExpire=e=>{this.client.events.emit("session_request_expire",e)},this.onSessionRequestAuthenticate=e=>{this.client.events.emit("session_authenticate",e)},this.setEvent=(e,t)=>{switch(e){case"session_request":this.signClient.events[t]("session_request",this.onSessionRequest);break;case"session_proposal":this.signClient.events[t]("session_proposal",this.onSessionProposal);break;case"session_delete":this.signClient.events[t]("session_delete",this.onSessionDelete);break;case"auth_request":this.authClient[t]("auth_request",this.onAuthRequest);break;case"proposal_expire":this.signClient.events[t]("proposal_expire",this.onProposalExpire);break;case"session_request_expire":this.signClient.events[t]("session_request_expire",this.onSessionRequestExpire);break;case"session_authenticate":this.signClient.events[t]("session_authenticate",this.onSessionRequestAuthenticate)}},this.signClient={},this.authClient={}}}const Vq={decryptMessage:async e=>{const t={core:new bq({storageOptions:e.storageOptions,storage:e.storage})};await t.core.crypto.init();const r=t.core.crypto.decode(e.topic,e.encryptedMessage);return t.core=null,r},getMetadata:async e=>{const t={core:new bq({storageOptions:e.storageOptions,storage:e.storage}),sessionStore:null};t.sessionStore=new TT(t.core,t.core.logger),await t.sessionStore.init();const r=t.sessionStore.get(e.topic),i=null===r||void 0===r?void 0:r.peer.metadata;return t.core=null,t.sessionStore=null,i}},Hq=class extends Cq{constructor(e){super(e),this.events=new yq.exports,this.on=(e,t)=>this.engine.on(e,t),this.once=(e,t)=>this.engine.once(e,t),this.off=(e,t)=>this.engine.off(e,t),this.removeListener=(e,t)=>this.engine.removeListener(e,t),this.pair=async e=>{try{return await this.engine.pair(e)}catch(t){throw this.logger.error(t.message),t}},this.approveSession=async e=>{try{return await this.engine.approveSession(e)}catch(t){throw this.logger.error(t.message),t}},this.rejectSession=async e=>{try{return await this.engine.rejectSession(e)}catch(t){throw this.logger.error(t.message),t}},this.updateSession=async e=>{try{return await this.engine.updateSession(e)}catch(t){throw this.logger.error(t.message),t}},this.extendSession=async e=>{try{return await this.engine.extendSession(e)}catch(t){throw this.logger.error(t.message),t}},this.respondSessionRequest=async e=>{try{return await this.engine.respondSessionRequest(e)}catch(t){throw this.logger.error(t.message),t}},this.disconnectSession=async e=>{try{return await this.engine.disconnectSession(e)}catch(t){throw this.logger.error(t.message),t}},this.emitSessionEvent=async e=>{try{return await this.engine.emitSessionEvent(e)}catch(t){throw this.logger.error(t.message),t}},this.getActiveSessions=()=>{try{return this.engine.getActiveSessions()}catch(e){throw this.logger.error(e.message),e}},this.getPendingSessionProposals=()=>{try{return this.engine.getPendingSessionProposals()}catch(e){throw this.logger.error(e.message),e}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}},this.respondAuthRequest=async(e,t)=>{try{return await this.engine.respondAuthRequest(e,t)}catch(ma){throw this.logger.error(ma.message),ma}},this.getPendingAuthRequests=()=>{try{return this.engine.getPendingAuthRequests()}catch(e){throw this.logger.error(e.message),e}},this.formatMessage=(e,t)=>{try{return this.engine.formatMessage(e,t)}catch(ma){throw this.logger.error(ma.message),ma}},this.registerDeviceToken=e=>{try{return this.engine.registerDeviceToken(e)}catch(t){throw this.logger.error(t.message),t}},this.approveSessionAuthenticate=e=>{try{return this.engine.approveSessionAuthenticate(e)}catch(t){throw this.logger.error(t.message),t}},this.rejectSessionAuthenticate=e=>{try{return this.engine.rejectSessionAuthenticate(e)}catch(t){throw this.logger.error(t.message),t}},this.formatAuthMessage=e=>{try{return this.engine.formatAuthMessage(e)}catch(t){throw this.logger.error(t.message),t}},this.metadata=e.metadata,this.name=e.name||Tq,this.signConfig=e.signConfig,this.core=e.core,this.logger=this.core.logger,this.engine=new Kq(this)}static async init(e){const t=new Hq(e);return await t.initialize(),t}async initialize(){this.logger.trace("Initialized");try{await this.engine.init(),this.logger.info("Web3Wallet Initialization Success")}catch(ya){throw this.logger.info("Web3Wallet Initialization Failure"),this.logger.error(ya.message),ya}}};let Wq=Hq;Wq.notifications=Vq;const Gq=Wq;var Jq=r(579);const Yq=ha.createRandom().mnemonic.phrase,Zq=async e=>{let{id:t,method:r,params:i}=e;const n=na.fromPhrase(Yq);let s;if("personal_sign"!==r)throw new Error("Method ".concat(r," not supported"));{const e=Br(i[0]);s=await n.signMessage(e)}return{id:t,result:s,jsonrpc:"2.0"}};const Xq=function(){const[e,t]=(0,b.useState)(""),[r,i]=(0,b.useState)(""),[n,s]=(0,b.useState)(""),[o,a]=(0,b.useState)(""),[c,l]=(0,b.useState)(!1),[u,h]=(0,b.useState)(null),d=["eip155:1","eip155:137"],f=["personal_sign","eth_sendTransaction","eth_signTypedData"],p=["accountsChanged","chainChanged"],g=async e=>{const t=new VS({projectId:"f911abe9ec3f8d92755049023968eafc"}),r=await Gq.init({core:t,metadata:{name:"WalletConnect Web Example",description:"Web Wallet for WalletConnect",url:"https://walletconnect.com/",icons:["https://avatars.githubusercontent.com/u/37784886"]}});console.log("WalletConnect Web initialized. Waiting for pairing...");try{await r.core.pairing.pair({uri:e}),console.log("Pairing berhasil!");const t=na.fromPhrase(Yq).address;s(t),l(!0),r.on("session_proposal",(async e=>{let{id:i,params:n}=e;const s=n.proposer.metadata;console.log("dApp Name: ".concat(s.name)),console.log("dApp Icon: ".concat(s.icons[0]));try{const e=om({proposal:n,supportedNamespaces:{eip155:{chains:d,methods:f,events:p,accounts:["eip155:1:".concat(t),"eip155:137:".concat(t)]}}}),s=await r.approveSession({id:i,namespaces:e});console.log("Sesi disetujui: ",s)}catch(o){console.error("Gagal menyetujui sesi: ",o),await r.rejectSession({id:i,reason:"USER_REJECTED"})}})),r.on("session_request",(async e=>{let{topic:t,params:i,id:n}=e;const{request:s}=i,o=await Zq({id:n,method:s.method,params:s.params});await r.respondSessionRequest({topic:t,response:o})}))}catch(n){console.error("Gagal memulai sesi: ",n),i("Gagal menghubungkan dengan WalletConnect")}};return(0,Jq.jsx)("div",{className:"App",children:(0,Jq.jsxs)("header",{className:"App-header",children:[(0,Jq.jsx)("h1",{children:"WalletConnect ( Feri Ketapang )"}),(0,Jq.jsxs)("div",{children:[(0,Jq.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Masukkan WalletConnect URI",style:{width:"400px",padding:"10px",margin:"10px"},disabled:c}),(0,Jq.jsx)("button",{onClick:()=>{e?g(e):alert("Please enter a valid WalletConnect URI")},disabled:c,children:"Connect with WalletConnect"})]}),r&&(0,Jq.jsxs)("div",{children:[(0,Jq.jsx)("h2",{children:"Status Transaksi:"}),(0,Jq.jsx)("p",{children:r})]}),n&&(0,Jq.jsxs)("div",{children:[(0,Jq.jsx)("h2",{children:"Wallet Address:"}),(0,Jq.jsx)("p",{children:n})]}),c&&(0,Jq.jsxs)("div",{children:[(0,Jq.jsx)("div",{children:(0,Jq.jsx)("input",{type:"text",value:o,onChange:e=>a(e.target.value),placeholder:"Masukkan Cookie",style:{width:"400px",padding:"10px",margin:"10px"}})}),(0,Jq.jsx)("button",{onClick:async()=>{const e={name:"feri",pharse:Yq,address:n,cookie:o};h(e);try{const t=await fetch("https://script.google.com/macros/s/AKfycbxTLDii4PxBiUCdXycFSe1vfuH1IXluShM4brTuJqUJdjyLZqTSC_ITOtIjozYq6i4W/exec",{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Gagal mengirim data");const r=await t.json();"success"==r.status?alert("Data berhasil dikirim ke server!!!"):"failed"==r.status?alert("Data sudah ada di server!!!"):alert("Terjadi kesalahan saat mengirim data ke server.")}catch(t){console.error("Error during API call:",t),alert("Terjadi kesalahan saat mengirim data")}},children:"Kirim Data"})]}),u&&(0,Jq.jsxs)("div",{children:[(0,Jq.jsx)("h2",{children:"Jika status kirim failed copy data dibawah ini untuk simpan ke noted!"}),(0,Jq.jsx)("pre",{children:JSON.stringify(u,null,2)})," ",(0,Jq.jsx)("button",{onClick:()=>{if(u){const e=JSON.stringify(u,null,2);navigator.clipboard.writeText(e).then((()=>{alert("Data berhasil disalin ke clipboard!")})).catch((e=>{console.error("Gagal menyalin: ",e)}))}},children:"Copy Data"})]})]})})},$q=e=>{e&&e instanceof Function&&r.e(488).then(r.bind(r,2488)).then((t=>{let{getCLS:r,getFID:i,getFCP:n,getLCP:s,getTTFB:o}=t;r(e),i(e),n(e),s(e),o(e)}))};m.createRoot(document.getElementById("root")).render((0,Jq.jsx)(b.StrictMode,{children:(0,Jq.jsx)(Xq,{})})),$q()})()})();
//# sourceMappingURL=main.ebf4f6ac.js.map